define("discourse/plugins/discourse-bbcode-color/lib/discourse-markdown/bbcode-color",["exports","pretty-text/pretty-text"],(function(o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.setup=function(o){o.whiteList(["font[color]"]),o.whiteList({custom:function(o,t,n){if("span"===o&&"style"===t)return/^background-color:#?[a-zA-Z0-9]+$/.exec(n)}}),o.markdownIt?o.registerPlugin((function(o){var t=o.inline.bbcode.ruler;t.push("bgcolor",{tag:"bgcolor",wrap:function(o,t,n){o.type="span_open",o.tag="span",o.attrs=[["style","background-color:"+n.attrs._default.trim()]],o.content="",o.nesting=1,t.type="span_close",t.tag="span",t.nesting=-1,t.content=""}}),t.push("color",{tag:"color",wrap:function(o,t,n){o.type="font_open",o.tag="font",o.attrs=[["color",n.attrs._default]],o.content="",o.nesting=1,t.type="font_close",t.tag="font",t.nesting=-1,t.content=""}})})):(o.addPreProcessor((function(o){return function(o){o=o||"";for(;o!==(o=o.replace(/\[color=([^\]]+)\]((?:(?!\[color=[^\]]+\]|\[\/color\])[\S\s])*)\[\/color\]/gi,(function(o,t,n){return"<font color='".concat(t,"'>").concat(n,"</font>")}))););return o}(o)})),o.addPreProcessor((function(o){return function(o){o=o||"";for(;o!==(o=o.replace(/\[bgcolor=([^\]]+)\]((?:(?!\[bgcolor=[^\]]+\]|\[\/bgcolor\])[\S\s])*)\[\/bgcolor\]/gi,(function(o,t,n){return"<span style='background-color:".concat(t,"'>").concat(n,"</span>")}))););return o}(o)})))},(0,t.registerOption)((function(o,t){t.features["bbcode-color"]=!0}))}));
//# sourceMappingURL=https://dub2.discourse-cdn.com/arduino/assets/plugins/discourse-bbcode-color-42e2394d51b6e7e233365f15a22b869d4e09fd2ad53ad6b14b4555525c4a5d66.js.map