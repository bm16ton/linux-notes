if('define'in window){define("discourse/theme-7/initializers/theme-field-15-common-html-script-1",["exports","discourse/lib/plugin-api"],function(_exports,_pluginApi){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.default=void 0;function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key];});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if('value'in desc||desc.initializer){desc.writable=true;}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc;},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined;}if(desc.initializer===void 0){Object.defineProperty(target,property,desc);desc=null;}return desc;}
var settings=require("discourse/lib/theme-settings-store").getObjectForTheme(7);var themePrefix=function themePrefix(key){return "theme_translations.7.".concat(key);};var _default={name:"theme-field-15-common-html-script-1",after:"inject-objects",initialize:function initialize(){(0,_pluginApi.withPluginApi)("0.8.23",function(api){var _dec,_obj;var computed=require("ember-addons/ember-computed-decorators").default;api.modifyClass('controller:composer',(_dec=computed("model.categoryId","lastValidatedAt"),(_obj={save:function save(opts){var categoryNb=$('.category-input .category-chooser .selected-name > span.name > span.badge-wrapper').length;if(categoryNb!==0&&categoryNb<2){this.set("lastValidatedAt",Date.now());return false;}
return this._super(opts);},categoryValidation:function categoryValidation(categoryId,lastValidatedAt){var InputValidation=require("@ember/object").default;var categoryNb=$('.category-input .category-chooser .selected-name > span.name > span.badge-wrapper').length;if(categoryNb!==0&&categoryNb<2){return InputValidation.create({failed:true,reason:'You need to select a subcategory',lastShownAt:lastValidatedAt});}else{return this._super(categoryId,lastValidatedAt);}}},(_applyDecoratedDescriptor(_obj,"categoryValidation",[_dec],Object.getOwnPropertyDescriptor(_obj,"categoryValidation"),_obj)),_obj)));});}};_exports.default=_default;});}
if('define'in window){define("discourse/theme-7/initializers/theme-field-15-common-html-script-2",["exports","discourse/lib/plugin-api"],function(_exports,_pluginApi){"use strict";Object.defineProperty(_exports,"__esModule",{value:true});_exports.default=void 0;var settings=require("discourse/lib/theme-settings-store").getObjectForTheme(7);var themePrefix=function themePrefix(key){return "theme_translations.7.".concat(key);};var _default={name:"theme-field-15-common-html-script-2",after:"inject-objects",initialize:function initialize(){(0,_pluginApi.withPluginApi)("0.8.23",function(api){api.reopenWidget("header-dropdown",{html:function html(attrs){var h=require("virtual-dom").h;if(attrs.icon=='bars'){return h('a.icon.btn-flat#toggle-hamburger-menu',"Forum Options");}else if(attrs.icon=='search'){return h('a',"");}else{return this._super(attrs);}}});});}};_exports.default=_default;});}
(function($){function isDOMAttrModifiedSupported(){var p=document.createElement('p');var flag=false;if(p.addEventListener){p.addEventListener('DOMAttrModified',function(){flag=true},false);}else if(p.attachEvent){p.attachEvent('onDOMAttrModified',function(){flag=true});}else{return false;}
p.setAttribute('id','target');return flag;}
function checkAttributes(chkAttr,e){if(chkAttr){var attributes=this.data('attr-old-value');if(e.attributeName.indexOf('style')>=0){if(!attributes['style'])
attributes['style']={};var keys=e.attributeName.split('.');e.attributeName=keys[0];e.oldValue=attributes['style'][keys[1]];e.newValue=keys[1]+':'
+this.prop("style")[$.camelCase(keys[1])];attributes['style'][keys[1]]=e.newValue;}else{e.oldValue=attributes[e.attributeName];e.newValue=this.attr(e.attributeName);attributes[e.attributeName]=e.newValue;}
this.data('attr-old-value',attributes);}}
var MutationObserver=window.MutationObserver||window.WebKitMutationObserver;$.fn.attrchange=function(a,b){if(typeof a=='object'){var cfg={trackValues:false,callback:$.noop};if(typeof a==="function"){cfg.callback=a;}else{$.extend(cfg,a);}
if(cfg.trackValues){this.each(function(i,el){var attributes={};for(var attr,i=0,attrs=el.attributes,l=attrs.length;i<l;i++){attr=attrs.item(i);attributes[attr.nodeName]=attr.value;}
$(this).data('attr-old-value',attributes);});}
if(MutationObserver){var mOptions={subtree:false,attributes:true,attributeOldValue:cfg.trackValues};var observer=new MutationObserver(function(mutations){mutations.forEach(function(e){var _this=e.target;if(cfg.trackValues){e.newValue=$(_this).attr(e.attributeName);}
if($(_this).data('attrchange-status')==='connected'){cfg.callback.call(_this,e);}});});return this.data('attrchange-method','Mutation Observer').data('attrchange-status','connected').data('attrchange-obs',observer).each(function(){observer.observe(this,mOptions);});}else if(isDOMAttrModifiedSupported()){return this.data('attrchange-method','DOMAttrModified').data('attrchange-status','connected').on('DOMAttrModified',function(event){if(event.originalEvent){event=event.originalEvent;}
event.attributeName=event.attrName;event.oldValue=event.prevValue;if($(this).data('attrchange-status')==='connected'){cfg.callback.call(this,event);}});}else if('onpropertychange'in document.body){return this.data('attrchange-method','propertychange').data('attrchange-status','connected').on('propertychange',function(e){e.attributeName=window.event.propertyName;checkAttributes.call($(this),cfg.trackValues,e);if($(this).data('attrchange-status')==='connected'){cfg.callback.call(this,e);}});}
return this;}else if(typeof a=='string'&&$.fn.attrchange.hasOwnProperty('extensions')&&$.fn.attrchange['extensions'].hasOwnProperty(a)){return $.fn.attrchange['extensions'][a].call(this,b);}}})(jQuery);