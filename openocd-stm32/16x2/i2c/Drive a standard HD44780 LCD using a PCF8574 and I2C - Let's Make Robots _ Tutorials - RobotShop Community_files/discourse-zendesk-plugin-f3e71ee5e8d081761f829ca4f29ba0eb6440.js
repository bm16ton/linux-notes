Ember.TEMPLATES["javascripts/discourse-zendesk-plugin/connectors/after-topic-footer-buttons/zendesk-topic-actions"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["currentUser","staff"]]],null,{"statements":[[4,"if",[[24,["valid_zendesk_credential"]]],null,{"statements":[[4,"if",[[24,["zendesk_id"]]],null,{"statements":[[0,"      "],[7,"a",true],[11,"href",[29,[[22,"zendesk_url"]]]],[10,"target","_blank"],[10,"class","btn-primary btn"],[8],[0,"\\n        "],[7,"i",true],[10,"class","fa fa-clone"],[8],[9],[0,"\\n        "],[1,[28,"i18n",["topic.view_zendesk_issue"],null],false],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"      "],[1,[28,"d-button",null,[["class","action","label","disabled"],["btn-primary","createZendeskIssue","topic.create_zendesk_issue",[24,["dirty"]]]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"    "],[7,"p",true],[8],[0,"\\n"],[4,"link-to",null,[["route"],["adminPlugins.zendesk-plugin"]],{"statements":[[0,"        "],[1,[28,"i18n",["zendesk.credentials_not_setup"],null],false],[0,"\\n      "]],"parameters":[]},null],[9],[0,"\\n"]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse-zendesk-plugin/connectors/after-topic-footer-buttons/zendesk-topic-actions"}}),define("discourse/plugins/Discourse Zendesk Plugin/discourse-zendesk-plugin/connectors/after-topic-footer-buttons/zendesk-topic-actions",["exports","discourse/lib/ajax"],(function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={zendesk_id:"",dirty:!1,actions:{createZendeskIssue:function(){var e=this;this.set("dirty",!0),(0,s.ajax)("/zendesk-plugin/issues",{type:"POST",data:{topic_id:this.get("topic").get("id")}}).then((function(s){e.set("zendesk_id",s.discourse_zendesk_plugin_zendesk_id),e.set("zendesk_url",s.discourse_zendesk_plugin_zendesk_url),e.set("dirty",!0)}))}},setupComponent:function(e,s){var n=e.topic.get("discourse_zendesk_plugin_zendesk_id");s.set("valid_zendesk_credential",s.get("currentUser.discourse_zendesk_plugin_status")),s.set("topic_id",e.topic.id),s.set("zendesk_url",e.topic.get("discourse_zendesk_plugin_zendesk_url")),n&&""!==n?s.set("zendesk_id",n):s.set("zendesk_id",null)}};e.default=n})),define("discourse/plugins/Discourse Zendesk Plugin/discourse/controllers/admin-plugins-zendesk-plugin",["exports","discourse/lib/ajax"],(function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=Ember.Controller.extend({zendeskUsername:"",zendeskToken:"",zendeskUrl:"",dirty:!1,notEmpty:Ember.computed("zendeskUsername","zendeskToken",(function(){return""!==this.get("zendeskUsername")||""!==this.get("zendeskToken")})),actions:{save:function(){var e=this;this.set("dirty",!0),(0,s.ajax)("/zendesk-plugin/preferences",{type:"POST",data:{zendesk:{username:this.get("zendeskUsername"),token:this.get("zendeskToken")}}}).then((function(){e.set("dirty",!1)})).catch((function(){bootbox.alert(I18n("admin.zendesk.general_error"))}))},reset:function(){this.set("zendeskUsername",""),this.set("zendeskToken","")}}});e.default=n})),define("discourse/plugins/Discourse Zendesk Plugin/discourse/routes/admin-plugins-zendesk-plugin",["exports","discourse/routes/discourse"],(function(e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s.default.extend({model:function(){},setupController:function(e){var s;s=Discourse.SiteSettings.zendesk_url||""===Discourse.SiteSettings.zendesk_url?Discourse.SiteSettings.zendesk_url:null,e.setProperties({zendeskUsername:Discourse.User.current().get("custom_fields.discourse_zendesk_plugin_username"),zendeskToken:Discourse.User.current().get("custom_fields.discourse_zendesk_plugin_token"),zendeskUrl:s})}});e.default=n})),Ember.TEMPLATES["javascripts/admin/plugins-zendesk-plugin"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"h2",true],[8],[1,[28,"i18n",["admin.zendesk.credentials_title"],null],false],[9],[0,"\\n"],[7,"hr",true],[8],[9],[0,"\\n"],[7,"h3",true],[8],[1,[28,"i18n",["admin.zendesk.username"],null],false],[9],[0,"\\n"],[7,"div",true],[8],[0,"\\n  "],[1,[28,"text-field",null,[["value"],[[24,["zendeskUsername"]]]]],false],[0,"\\n  "],[1,[28,"setting-validation-message",null,[["message"],[[24,["validationMessage"]]]]],false],[0,"\\n"],[9],[0,"\\n"],[7,"h3",true],[8],[1,[28,"i18n",["admin.zendesk.token"],null],false],[9],[0,"\\n"],[7,"div",true],[8],[0,"\\n  "],[1,[28,"password-field",null,[["value"],[[24,["zendeskToken"]]]]],false],[0,"\\n  "],[1,[28,"setting-validation-message",null,[["message"],[[24,["validationMessage"]]]]],false],[0,"\\n"],[9],[0,"\\n"],[1,[28,"d-button",null,[["label","action","icon","disabled"],["admin.zendesk.settings.save_button","save","check",[24,["dirty"]]]]],false],[0,"\\n"],[4,"if",[[24,["notEmpty"]]],null,{"statements":[[1,[28,"d-button",null,[["label","action","icon"],["admin.zendesk.settings.reset_button","reset","refresh"]]],false],[0,"\\n"]],"parameters":[]},null],[7,"hr",true],[8],[9],[0,"\\n"],[4,"if",[[24,["zendeskUrl"]]],null,{"statements":[[0,"  "],[7,"i",true],[8],[0,"\\n    "],[1,[28,"i18n",["zendesk.current_url"],[["url"],[[24,["zendeskUrl"]]]]],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[1,[28,"i18n",["zendesk.url_not_set"],null],false],[0,"\\n"]],"parameters":[]}],[7,"br",true],[8],[9],[0,"\\n"],[7,"i",true],[8],[0,"\\n  "],[1,[28,"i18n",["zendesk.set_url_text"],null],false],[0,"\\n"],[4,"link-to",null,[["route","model"],["adminSiteSettingsCategory","plugins"]],{"statements":[[0,"    "],[1,[28,"i18n",["admin.site_settings.title"],null],false],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-zendesk-plugin"}}),define("discourse/plugins/Discourse Zendesk Plugin/discourse/zendesk-plugin-route-map",["exports"],(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("zendesk-plugin")}}}));