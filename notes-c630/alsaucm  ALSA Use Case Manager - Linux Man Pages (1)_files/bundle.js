!function(s){function e(e){for(var t,n,r=e[0],i=e[1],a=0,o=[];a<r.length;a++)n=r[a],u[n]&&o.push(u[n][0]),u[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(s[t]=i[t]);for(c&&c(e);o.length;)o.shift()()}var n={},u={2:0};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(a){var e=[],n=u[a];if(0!==n)if(n)e.push(n[2]);else{var t=new Promise(function(e,t){n=u[a]=[e,t]});e.push(n[2]=t);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=i.p+""+a+".bundle.js",r=function(e){o.onerror=o.onload=null,clearTimeout(s);var t=u[a];if(0!==t){if(t){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+a+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,t[1](i)}u[a]=void 0}};var s=setTimeout(function(){r({type:"timeout",target:o})},12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(e)},i.m=s,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var t=window.tl_jsonp=window.tl_jsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var c=r;i(i.s=124)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"m",function(){return f}),n.d(t,"l",function(){return p}),n.d(t,"p",function(){return g}),n.d(t,"i",function(){return v}),n.d(t,"v",function(){return m}),n.d(t,"q",function(){return y}),n.d(t,"k",function(){return I}),n.d(t,"e",function(){return _}),n.d(t,"s",function(){return A}),n.d(t,"u",function(){return w}),n.d(t,"j",function(){return M}),n.d(t,"o",function(){return k}),n.d(t,"n",function(){return b}),n.d(t,"g",function(){return E}),n.d(t,"a",function(){return T}),n.d(t,"h",function(){return S}),n.d(t,"w",function(){return D}),n.d(t,"b",function(){return C}),n.d(t,"t",function(){return x}),n.d(t,"f",function(){return N});n(20),n(51);var r=n(13),i=n.n(r),a=(n(54),n(28),n(31)),s=n.n(a),o=(n(17),n(21),n(12),n(32),n(4)),u=n(8);function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=[].slice.call(t);return Object.assign.apply(null,r.map(function(t){var n={};return Object.keys(t).forEach(function(e){"_"!==e[0]&&(n[e]=t[e])}),n}))}function l(e,t){return!!e&&!!(e&Math.pow(2,t))}function d(e){return o.a.setStyle(e,"display","inline"),o.a.setStyle(e,"box-sizing","content-box"),o.a.setStyle(e,"-webkit-box-sizing","content-box"),o.a.setStyle(e,"-moz-box-sizing","content-box"),o.a.setStyle(e,"padding","0"),o.a.setStyle(e,"border","0"),o.a.setStyle(e,"margin","0"),o.a.setStyle(e,"float","none"),o.a.setStyle(e,"outline","none"),o.a.setStyle(e,"object-fit","fill"),o.a.setStyle(e,"background","none"),e}function f(e){if(h(e))return e;if(Array.isArray(e))return e.reduce(function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){return e[t]=n,e}}(null),{});throw new TypeError("invalid arguments, objectify takes an object or an array")}function h(e){return"object"===s()(e)&&!Array.isArray(e)&&null!==e}function p(e,t){var n=e.filter(i.bind(null,t)),r=t.filter(i.bind(null,e));return n.concat(r);function i(e,t){return-1===e.indexOf(t)}}function g(e){return Math.floor((e+1)*Math.random())}function v(e){return!isNaN(e)&&"number"==typeof e}function m(r,i,a){if(e=r,parseFloat(e)!==parseInt(e,10)||!v(e))throw new TypeError("arg 0 of updateCopyAndHref must be an integer");var e,t;if(t=i,!("object"===("undefined"==typeof Node?"undefined":s()(Node))?t instanceof Node:t&&"object"===s()(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))throw new TypeError("arg 1 of updateCopyAndHref must be DOM element");if(!Array.isArray(a))throw new TypeError("arg 2 of updateCopyAndHref must be an array");u.a.TEXT_FIELDS.forEach(function(e){for(var t=i.getElementsByClassName(""+u.a.TL_CLASS_PREFIX+e),n=0;n<t.length;n++)t[n].textContent=a[r][e]});for(var n=i.getElementsByClassName(u.a.TL_CLASS_PREFIX+"clickthrough-url"),o=0;o<n.length;o++)n[o].href=a[r].clickthrough_url}function y(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function I(e,t){return isNaN(e)&&isNaN(t)?NaN:isNaN(e)?t:isNaN(t)?e:Math.min(e,t)}function _(r,i){var a=!1;return function(){if(!a){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(i||null,t)}a=!0}}function A(e){return i()(e).reverse()}function w(e,t){return function(){Math.random()<e&&t.apply(void 0,arguments)}}function M(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"?";!1!==r&&(n.cb=k(5));var a,o,s,u=(a=n,o={},Object.keys(a).forEach(function(e){var t=a[e];null!=t&&(o[e]=t)}),o),c=(s=u,Object.keys(s).map(function(e){return e+"="+encodeURIComponent(s[e])}).join("&"));return T("//"+e.replace(/\/$/,"")+"/"+t+i+c)}function k(e){if(e<1)return NaN;if(1===e)return Math.floor(10*Math.random());var t=Math.pow(10,e-1);return Math.floor(9*Math.random()*t)+t}function b(e){for(var r=b.options,t=r.parser[r.strictMode?"strict":"loose"].exec(e),i={},n=14;n--;)i[r.key[n]]=t[n]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(e,t,n){t&&(i[r.q.name][t]=n)}),i}function E(e){if(!e)return e;var t=b(e),n="";return""!==t.port&&(n=":"+t.port),"//"+t.host+n+t.relative}function T(e){return e?"data:"===e.substring(0,5)?e:function(e){if(0<=e.indexOf("3lift.")||0<=e.indexOf("triplelift."))return"https:";var t=b(e);if("http"===t.protocol||"https"===t.protocol)return t.protocol+":";try{return window.location.protocol}catch(e){return"https:"}}(e)+E(e):e}function S(){return!!document.getElementById("tl-app")}function D(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toUpperCase()}b.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var C=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"GET";return new Promise(function(t,n){var r=new XMLHttpRequest;r.open(i,e,!0),r.addEventListener("load",function(e){200<=r.status&&r.status<300?t(e):n(r.statusText)}),r.addEventListener("error",function(e){return n(e)}),r.send()})},x=function(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return e[t]="number"==typeof n?Math.round(n):n,e},{})},N=function(e){return o.a.setStyle(e,"display","none"),o.a.setStyle(e,"width",0),o.a.setStyle(e,"height",0),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t,n){"use strict";var r=n(5);function i(e,t,n){if(!e)throw new r.a("Tried to set style "+t+" to "+n+" on an invalid element.");e.style.setProperty(t,n,"important")}t.a={setStyle:i,setStyleProperties:function(e,t){if(!Array.isArray(t))throw new r.a("arg2 of setStyleProperties must be an array");for(var n=0;n<t.length;n++)i(e,t[n][0],t[n][1]);return e},getPropertyValue:function(e,t){return window.getComputedStyle(e).getPropertyValue(t)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(2),i=n.n(r),a=n(29),o=n.n(a),s=n(15),u=n.n(s),c=n(91),l=n.n(c),d=n(30),f=n.n(d),h=n(118),p=n.n(h),g=n(0),v=n.n(g),m=n(26),y=function(e){function r(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:m.a.ERROR;return i()(this,r),t=o()(this,u()(r).call(this,e)),v()(l()(t),"errorLevel",null),t.errorLevel=n,t}return f()(r,e),r}(p()(Error))},function(e,t,n){"use strict";n.d(t,"o",function(){return r}),n.d(t,"r",function(){return i}),n.d(t,"G",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"y",function(){return s}),n.d(t,"x",function(){return u}),n.d(t,"z",function(){return c}),n.d(t,"S",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"a",function(){return p}),n.d(t,"g",function(){return g}),n.d(t,"A",function(){return v}),n.d(t,"K",function(){return m}),n.d(t,"J",function(){return y}),n.d(t,"L",function(){return I}),n.d(t,"M",function(){return _}),n.d(t,"N",function(){return A}),n.d(t,"O",function(){return w}),n.d(t,"P",function(){return M}),n.d(t,"Q",function(){return k}),n.d(t,"R",function(){return b}),n.d(t,"I",function(){return E}),n.d(t,"H",function(){return T}),n.d(t,"B",function(){return S}),n.d(t,"D",function(){return D}),n.d(t,"E",function(){return C}),n.d(t,"n",function(){return x}),n.d(t,"m",function(){return N}),n.d(t,"u",function(){return O}),n.d(t,"v",function(){return L}),n.d(t,"s",function(){return j}),n.d(t,"t",function(){return P}),n.d(t,"e",function(){return R}),n.d(t,"f",function(){return V}),n.d(t,"F",function(){return U}),n.d(t,"C",function(){return W}),n.d(t,"k",function(){return B}),n.d(t,"p",function(){return F}),n.d(t,"q",function(){return z}),n.d(t,"c",function(){return H}),n.d(t,"d",function(){return Q}),n.d(t,"b",function(){return Y}),n.d(t,"w",function(){return G});var r="log",i="mute",a="unmute",o="ended",s="play",u="pause",c="playerReady",l="vpaidFallback",d="csrReady",f="csrUpdate",h="forceCsrUpdate",p="adOnPage",g="clickThrough",v="positionUpdate",m="vpaid.AdLog",y="vpaid.AdImpression",I="vpaid.AdPlaying",_="vpaid.AdStarted",A="vpaid.AdVideoComplete",w="vpaid.AdVideoFirstQuartile",M="vpaid.AdVideoMidpoint",k="vpaid.AdVideoStart",b="vpaid.AdVideoThirdQuartile",E="vpaid.AdClickThru",T="vastVideoError",S="scroll",D="transform",C="transitionEnd",x="goRight",N="goLeft",O="onTriggerEnter",L="onTriggerExit",j="onAdchoicesEnter",P="onAdchoicesExit",R="clickPause",V="clickPlay",U="twoSecondViewable",W="trackClick",B="firstPlay",F="mouseenter",z="mouseleave",H="auctionId",Q="auctionResponse",Y="auctionComplete",G="passthru"},function(e,t,n){var i=n(0);e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}},function(e,t,n){"use strict";t.a={BUTTONS_DIR:"https://ib.3lift.com/static/buttons/",NW:"NW",NE:"NE",SE:"SE",SW:"SW",BASE_Z_INDEX:0,DEFAULT_ADCHOICES_URL:"https://optout.aboutads.info",TEXT_FIELDS:["heading","caption"],TINY_IMG_DATA:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",TL_CLASS_PREFIX:"tl-",COLORS:{BLACK:"#000",WHITE:"#fff"},DCO_PROTOCOLS:{DYNAMIC_CONTENT:1,NATIVE_ADS:2,DV_BLOCKING:3}}},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"i",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"o",function(){return d}),n.d(t,"p",function(){return f}),n.d(t,"n",function(){return h}),n.d(t,"q",function(){return p}),n.d(t,"m",function(){return g}),n.d(t,"l",function(){return v}),n.d(t,"k",function(){return m}),n.d(t,"j",function(){return y}),n.d(t,"a",function(){return I});var r="r",i="sce",a="pmd",o="ed",s="ci",u="eee",c="ec",l="em",d="ev",f="evv",h="ev1",p="eev",g="vpa",v="evd",m="px",y="tpvpx",I="aop"},function(e,t,n){e.exports=n(129)},function(e,t,n){"use strict";var s;n(68),n(54),n(17),n(21),n(12),n(28);function i(t,n){return!!t&&(Object.keys(t).forEach(function(e){n(e,t[e])}),!0)}function o(e){return Array.isArray(e)}function u(e){return"function"==typeof e}t.a={addResizeListener:function(e,t){var n=t;return u(s)&&(n=s(n)),e.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1),e.addEventListener("resize",n,!1),n},addScrollListener:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,t=1<arguments.length?arguments[1]:void 0;return u(s)&&(t=s(t)),e.addEventListener("DOMContentLoaded",t,!1),e.addEventListener("load",t,!1),e.addEventListener("scroll",t,!1),e.addEventListener("resize",t,!1),t},addOrientationChangeHandler:function(e,t){var n=t;u(s)&&(n=s(n)),e.addEventListener("orientationchange",n)},blacklistToStyles:function(e){return[-1===e.indexOf("W")?"left":"right",-1===e.indexOf("N")?"top":"bottom"]},chooseN:function(t,e){if(!o(t))return[];if(0===e)return[];if(t.length<e)return t;for(var n=t.slice(),r=[],i=0;i<e;i++){var a=Math.floor(Math.random()*n.length);r.push(t.indexOf(n.splice(a,1)[0]))}return r.sort().map(function(e){return t[e]})},doAll:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=0;e<t.length;e++)t[e]()}},escapeRegExp:function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},filter:function(e,t){if(!e)return!1;for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(e[r]);return n},find:function(e,t){if(!e)return!1;for(var n=0;n<e.length;n++)if(t(e[n]))return e[n];return!1},flatten:function t(e){if(!o(e))return[e];var n=[];return e.forEach(function(e){o(e)?n=n.concat(t(e)):n.push(e)}),n},forEach:function(e,t){if(!e)return!1;for(var n=0;n<e.length;n++)t(e[n]);return!0},forEachObj:i,funcOrValue:function(e,t){return u(e[t])?e[t]():e[t]},getDateString:function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1;return t<10&&(t="0"+t),n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t},isAll:function(e,t){if(!o(e))return!1;for(var n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0},isArray:o,isEqualUrlNoProtocol:function(e,t){var n=/^https?:/i;return e.replace(n,"")===t.replace(n,"")},isFlashEnabled:function(){var t=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=!0)}return t},isFunction:u,isMatch:function(e,t){return-1!==e.indexOf(t)},listen:function(e,t,n,r,i){var a,o=n;return u(s)&&(o=s(o)),i&&(a=o,o=function(e){e.stopPropagation(),e.preventDefault();for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.apply(this,n)}),e.addEventListener(t,o,r),o},map:function(e,t){if(!e)return!1;for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r]);return n},msToTime:function(e){if(e<0)return NaN;var t,n,r,i,a=e;return a-=36e5*(t=Math.floor(a/36e5)),(i=(a-=6e4*(n=Math.floor(a/6e4)))-1e3*(r=Math.floor(a/1e3)))<10?i="00"+i:i<100&&(i="0"+i),(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+"."+i},pluck:function(e,t){return e.map(function(e){return e[t]})},removeKeys:function(e,n){var r={};return i(e,function(e,t){-1===n.indexOf(e)&&(r[e]=t)}),r},removeAllChildren:function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},removeQueryStringParam:function(e,t){return e.split("&").filter(function(e){return-1===e.indexOf(t+"=")}).join("&")},removeResizeListener:function(e,t){e.removeEventListener("DOMContentLoaded",t,!1),e.removeEventListener("load",t,!1),e.removeEventListener("resize",t,!1)},setDims:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"px";e.style.setProperty("width",t+r,"important"),e.style.setProperty("min-width",t+r,"important"),e.style.setProperty("max-width",t+r,"important"),e.style.setProperty("height",n+r,"important"),e.style.setProperty("min-height",n+r,"important"),e.style.setProperty("max-height",n+r,"important")},setErrorDecorator:function(e){s=e},sizeLogoSrc:function(e,t,n){if(!e||!t)return e;if(e.indexOf("images.3lift")<0)return e;if(n&&n<t)return e;var r;r=t<=100?"_w90":t<=200?"_w192":t<=350?"_w300":t<=650?"_w600":"";var i=e.split(".");return i[i.length-2]+=r,i.join(".")},swapElement:function(e,t){t.parentElement.insertBefore(e,t),t.parentElement.removeChild(t)},throttle:function(i,a){var o,s=0;return function(){o&&clearTimeout(o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o=setTimeout(i.bind.apply(i,[null].concat(t)),a);var r=Date.now();a<r-s&&(s=r,i.apply(void 0,t))}},timeoutWrap:function(e,t){var n=u(s)?s(e):e;return setTimeout(n,t)},timeToMS:function(e){if(!e)return NaN;var t=e.split("."),n=t[0].split(":"),r=parseInt(t[1],10)||0;return 60*parseInt(n[0],10)*60*1e3+60*parseInt(n[1],10)*1e3+1e3*parseInt(n[2],10)+r},truncate:function(e,t){return t<3||e.length<=t?e:e.slice(0,t-3)+"..."},truncateUrl:function(e,t){if(!e)return"";if(!t)return e;if(e.length<=t)return e;var n=e.slice(0,t);return-1!==n.lastIndexOf("&")?n.slice(0,n.lastIndexOf("&")):n},triggerEvent:function(e,t,n){var r=n.createEvent("Event");r.initEvent(t,!0,!0),e.dispatchEvent(r)},URIEncodeFields:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(t).forEach(function(e){n[e]=encodeURIComponent(t[e])}),n}}},function(e,t,n){for(var r=n(17),i=n(63),a=n(35),o=n(18),s=n(38),u=n(57),c=n(14),l=c("iterator"),d=c("toStringTag"),f=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),g=0;g<p.length;g++){var v,m=p[g],y=h[m],I=o[m],_=I&&I.prototype;if(_&&(_[l]||s(_,l,f),_[d]||s(_,d,m),u[m]=f,y))for(v in r)_[v]||a(_,v,r[v],!0)}},function(e,t,n){var r=n(138),i=n(139),a=n(140);e.exports=function(e){return r(e)||i(e)||a()}},function(e,t,n){var r=n(78)("wks"),i=n(62),a=n(18).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},function(e,t){function u(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(s){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=s.apply(e,o);function i(e){u(r,t,n,i,a,"next",e)}function a(e){u(r,t,n,i,a,"throw",e)}i(void 0)})}}},function(e,t,n){"use strict";var r=n(67),i=n(142),a=n(57),o=n(64);e.exports=n(109)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r,i,a,o,s=n(79),u=n(18),c=n(46),l=n(83),d=n(23),f=n(24),h=n(55),p=n(130),g=n(131),v=n(103),m=n(104).set,y=n(133)(),I=n(106),_=n(134),A=n(135),w=n(136),M="Promise",k=u.TypeError,b=u.process,E=b&&b.versions,T=E&&E.v8||"",S=u[M],D="process"==l(b),C=function(){},x=i=I.f,N=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(14)("species")]=function(e){e(C,C)};return(D||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==T.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},L=function(l,n){if(!l._n){l._n=!0;var r=l._c;y(function(){for(var u=l._v,c=1==l._s,e=0,t=function(e){var t,n,r,i=c?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain;try{i?(c||(2==l._h&&R(l),l._h=1),!0===i?t=u:(s&&s.enter(),t=i(u),s&&(s.exit(),r=!0)),t===e.promise?o(k("Promise-chain cycle")):(n=O(t))?n.call(t,a,o):a(t)):o(u)}catch(e){s&&!r&&s.exit(),o(e)}};r.length>e;)t(r[e++]);l._c=[],l._n=!1,n&&!l._h&&j(l)})}},j=function(a){m.call(u,function(){var e,t,n,r=a._v,i=P(a);if(i&&(e=_(function(){D?b.emit("unhandledRejection",r,a):(t=u.onunhandledrejection)?t({promise:a,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)}),a._h=D||P(a)?2:1),a._a=void 0,i&&e.e)throw e.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},R=function(t){m.call(u,function(){var e;D?b.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},V=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},U=function(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(n=O(e))?y(function(){var t={_w:r,_d:!1};try{n.call(e,c(U,t,1),c(V,t,1))}catch(e){V.call(t,e)}}):(r._v=e,r._s=1,L(r,!1))}catch(e){V.call({_w:r,_d:!1},e)}}};N||(S=function(e){p(this,S,M,"_h"),h(e),r.call(this);try{e(c(U,this,1),c(V,this,1))}catch(e){V.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(137)(S.prototype,{then:function(e,t){var n=x(v(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=D?b.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(V,e,1)},I.f=x=function(e){return e===S||e===o?new a(e):i(e)}),d(d.G+d.W+d.F*!N,{Promise:S}),n(84)(S,M),n(107)(M),o=n(50)[M],d(d.S+d.F*!N,M,{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!N),M,{resolve:function(e){return w(s&&this===o?S:this,e)}}),d(d.S+d.F*!(N&&n(123)(function(e){S.all(e).catch(C)})),M,{all:function(e){var o=this,t=x(o),s=t.resolve,u=t.reject,n=_(function(){var r=[],i=0,a=1;g(e,!1,function(e){var t=i++,n=!1;r.push(void 0),a++,o.resolve(e).then(function(e){n||(n=!0,r[t]=e,--a||s(r))},u)}),--a||s(r)});return n.e&&u(n.v),t.promise},race:function(e){var t=this,n=x(t),r=n.reject,i=_(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(48),i=n(63);n(90)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(24);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var g=n(18),v=n(50),m=n(38),y=n(35),I=n(46),_="prototype",A=function(e,t,n){var r,i,a,o,s=e&A.F,u=e&A.G,c=e&A.S,l=e&A.P,d=e&A.B,f=u?g:c?g[t]||(g[t]={}):(g[t]||{})[_],h=u?v:v[t]||(v[t]={}),p=h[_]||(h[_]={});for(r in u&&(n=t),n)a=((i=!s&&f&&void 0!==f[r])?f:n)[r],o=d&&i?I(a,g):l&&"function"==typeof a?I(Function.call,a):a,f&&y(f,r,a,e&A.U),h[r]!=a&&m(h,r,o),l&&p[r]!=a&&(p[r]=a)};g.core=v,A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128,e.exports=A},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(19)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";n.d(t,"a",function(){return f});n(32);var r=n(2),a=n.n(r),i=n(3),o=n.n(i),s=n(0),u=n.n(s),c=n(9),l=n(5),d=n(72),f=function(){function i(e){var t=e.firePix,n=e.lifecycleManager,r=e.urlParams;a()(this,i),this.firePix=t,this.lifecycleManager=n,this.urlParams=r,this.previousErrorMap={}}return o()(i,[{key:"fireError",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this.lifecycleManager.getPhase();if(this.urlParams.debugFlag)d.a.warn(e,r,t,n);else{if(e.stack){var i={stack:e.stack};Object.assign(n,i)}this._logEbError(e instanceof Error?e.message:e,r,t,n)}}},{key:"decorate",value:function(r){var i=!1,a=this;return function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(e){i||(i=!0,a.fireError(e,e instanceof l.a?e.level:void 0))}return null}}},{key:"_logEbError",value:function(e,t,n,r){var i={e:e,block:t,lvl:n,dc:r?JSON.stringify(r):""};return this._isFirstOfType(t,n)&&(this._recordError(t,n),i.first=1),this.firePix.fireEB(c.i,i),this}},{key:"_isFirstOfType",value:function(e,t){return!(this.previousErrorMap[e]&&this.previousErrorMap[e][t])}},{key:"_recordError",value:function(e,t){this.previousErrorMap[e]||(this.previousErrorMap[e]={}),this.previousErrorMap[e][t]=!0}},{key:"UNKNOWN",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARNING",get:function(){return 2}},{key:"LOG",get:function(){return 3}}]),i}();u()(f,"UNKNOWN",0),u()(f,"ERROR",1),u()(f,"WARNING",2),u()(f,"LOG",3)},function(e,t,n){"use strict";var r=n(23),i=n(111)(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(67)(a)},function(e,t,n){"use strict";var k=n(22),r=n(48),b=n(47),E=n(65),T=n(86),S=n(87),D=Math.max,C=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(89)("replace",2,function(i,a,A,w){return[function(e,t){var n=i(this),r=null==e?void 0:e[a];return void 0!==r?r.call(e,n,t):A.call(String(n),e,t)},function(e,t){var n=w(A,e,this,t);if(n.done)return n.value;var r=k(e),i=String(this),a="function"==typeof t;a||(t=String(t));var o=r.global;if(o){var s=r.unicode;r.lastIndex=0}for(var u=[];;){var c=S(r,i);if(null===c)break;if(u.push(c),!o)break;""===String(c[0])&&(r.lastIndex=T(i,b(r.lastIndex),s))}for(var l,d="",f=0,h=0;h<u.length;h++){c=u[h];for(var p=String(c[0]),g=D(C(E(c.index),i.length),0),v=[],m=1;m<c.length;m++)v.push(void 0===(l=c[m])?l:String(l));var y=c.groups;if(a){var I=[p].concat(v,g,i);void 0!==y&&I.push(y);var _=String(t.apply(void 0,I))}else _=M(p,i,g,v,y,t);f<=g&&(d+=i.slice(f,g)+_,f=g+p.length)}return d+i.slice(f)}];function M(a,o,s,u,c,e){var l=s+a.length,d=u.length,t=p;return void 0!==c&&(c=r(c),t=h),A.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return o.slice(0,s);case"'":return o.slice(l);case"<":n=c[t.slice(1,-1)];break;default:var r=+t;if(0===r)return e;if(d<r){var i=f(r/10);return 0===i?e:i<=d?void 0===u[i-1]?t.charAt(1):u[i-1]+t.charAt(1):e}n=u[r-1]}return void 0===n?"":n})}})},function(e,t,n){var r=n(31),i=n(91);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var r=n(92);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(t,e){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(e)}t.exports=r},function(e,t,n){var r=n(23);r(r.S+r.F,"Object",{assign:n(126)})},function(e,t,n){var r=n(22),i=n(99),a=n(77),o=Object.defineProperty;t.f=n(25)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,i=n(7),u=n.n(i),a=n(2),o=n.n(a),s=n(3),c=n.n(s),l=n(0),d=n.n(l),f=n(6),h=function(){function s(){o()(this,s)}return c()(s,null,[{key:"listen",value:function(e){var t,a=this,n=e.eventController,o=e.errorHandler;this.VAST_CODE_LEVELS||(this.VAST_CODE_LEVELS=(t={},d()(t,s.VAST_ERROR_XML_PARSING,o.ERROR),d()(t,s.VAST_ERROR_VAST_SCHEMA,o.ERROR),d()(t,s.VAST_TRAFFICKING_ERROR,o.ERROR),d()(t,s.VAST_UNEXPECTED_DURATION_ERROR,o.WARNING),d()(t,s.VAST_WRAPPER_ERROR,o.ERROR),d()(t,s.VAST_WRAPPER_TIMEOUT,o.ERROR),d()(t,s.VAST_TOO_MANY_REDIRECTS,o.ERROR),d()(t,s.VAST_NO_ADS_AFTER_WRAPPER,o.ERROR),d()(t,s.VAST_LINEAR_ERROR,o.ERROR),d()(t,s.VAST_MEDIA_NOT_FOUND,o.ERROR),d()(t,s.VAST_MEDIA_LOAD_TIMEOUT,o.ERROR),d()(t,s.VAST_MEDIA_ASSET_MISMATCH,o.ERROR),d()(t,s.VAST_PROBLEM_DISPLAYING_MEDIA_FILE,o.ERROR),d()(t,s.VAST_UNDEFINED_ERROR,o.ERROR),d()(t,s.VAST_VPAID_ERROR,o.ERROR),t));n.on(f.H,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=s.VAST_CODE_MAP[e],r=a.VAST_CODE_LEVELS[e];if(void 0===n)o.fireError("invalid vast error code");else{var i=n+(t.message?" "+t.message:"");o.fireError(e+": "+i,r,u()({errorCode:e},t.diagnosticContext))}})}}]),s}();d()(h,"VAST_ERROR_XML_PARSING",100),d()(h,"VAST_ERROR_VAST_SCHEMA",101),d()(h,"VAST_TRAFFICKING_ERROR",200),d()(h,"VAST_UNEXPECTED_DURATION_ERROR",202),d()(h,"VAST_WRAPPER_ERROR",300),d()(h,"VAST_WRAPPER_TIMEOUT",301),d()(h,"VAST_TOO_MANY_REDIRECTS",302),d()(h,"VAST_NO_ADS_AFTER_WRAPPER",303),d()(h,"VAST_LINEAR_ERROR",400),d()(h,"VAST_MEDIA_NOT_FOUND",401),d()(h,"VAST_MEDIA_LOAD_TIMEOUT",402),d()(h,"VAST_MEDIA_ASSET_MISMATCH",403),d()(h,"VAST_PROBLEM_DISPLAYING_MEDIA_FILE",405),d()(h,"VAST_UNDEFINED_ERROR",900),d()(h,"VAST_VPAID_ERROR",901),d()(h,"ERROR_BLOCK","Video"),d()(h,"VAST_CODE_MAP",(r={},d()(r,h.VAST_ERROR_XML_PARSING,"XML Parsing error."),d()(r,h.VAST_ERROR_VAST_SCHEMA,"VAST schema validation error."),d()(r,h.VAST_TRAFFICKING_ERROR,"Trafficking error. Media player received an Ad type that it was not expecting and/or cannot play"),d()(r,h.VAST_UNEXPECTED_DURATION_ERROR,"Media player expecting different duration."),d()(r,h.VAST_WRAPPER_ERROR,"General Wrapper error."),d()(r,h.VAST_WRAPPER_TIMEOUT,"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element."),d()(r,h.VAST_TOO_MANY_REDIRECTS,"Wrapper limit reached, as defined by the media player. Too many Wrapper responses have been received with no InLine response."),d()(r,h.VAST_NO_ADS_AFTER_WRAPPER,"No VAST response after one or more Wrappers."),d()(r,h.VAST_LINEAR_ERROR,"General Linear error. Media player is unable to display the Linear Ad."),d()(r,h.VAST_MEDIA_NOT_FOUND,"File not found. Unable to find Linear/MediaFile from URI."),d()(r,h.VAST_MEDIA_LOAD_TIMEOUT,"Timeout of MediaFile URI."),d()(r,h.VAST_MEDIA_ASSET_MISMATCH,"Couldn't find MediaFile that is supported by this media player, based on the attributes of the MediaFile element."),d()(r,h.VAST_PROBLEM_DISPLAYING_MEDIA_FILE,"Problem displaying MediaFile. Media player found a MediaFile with supported type but couldn't display it."),d()(r,h.VAST_UNDEFINED_ERROR,"Undefined error."),d()(r,h.VAST_VPAID_ERROR,"General VPAID error."),r)),d()(h,"VAST_CODE_LEVELS",null)},function(e,t,n){var a=n(18),o=n(38),s=n(39),u=n(62)("src"),r=n(125),i="toString",c=(""+r).split(i);n(50).inspectSource=function(e){return r.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&(s(n,"name")||o(n,"name",t)),e[t]!==n&&(i&&(s(n,u)||o(n,u,e[t]?""+e[t]:c.join(String(t)))),e===a?e[t]=n:r?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[u]||r.call(this)})},function(r,e,t){t(15);var a=t(151);function i(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=i=Reflect.get:r.exports=i=function(e,t,n){var r=a(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},i(e,t,n||e)}r.exports=i},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r=457,i=9792,a=13465,o=60003},function(e,t,n){var r=n(33),i=n(75);e.exports=n(25)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var r=n(23),i=n(101)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(67)("includes")},function(e,t,n){"use strict";var r=n(23),i=n(155),a="includes";r(r.P+r.F*n(156)(a),"String",{includes:function(e){return!!~i(this,e,a).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(32),n(28);var r=n(7),g=n.n(r),i=n(2),f=n.n(i),a=n(3),o=n.n(a),s=n(0),h=n.n(s),v=n(8),l=n(11),m=n(1),u=(n(49),n(27),function(e,t){var n=parseInt(t,10),r=e;if(!e||!n||n<3)return e;var i,a,o,s,u,c,l,d,f=e.match(/(.*)(<a.*>)(.*)(<\/a>)(.*)/);return f?(a=n,o=(i=f)[1],s=i[2],u=i[3],c=i[4],l=i[5],(d=o.length+u.length+l.length-a+3)<=3||(l=d<=l.length?l.substr(0,l.length-d)+"...":d<=l.length+u.length?(d-=l.length,u=u.substr(0,u.length-d)+"...",""):(d-=l.length+u.length,o=o.substr(0,o.length-d)+"...",c=u=s="")),o+s+u+c+l):(n<e.length&&(r=e.substr(0,n-3)+"..."),r)}),c=function(e,t,n){return n&&e&&e.toLowerCase()===t?n:e};n.d(t,"a",function(){return d});var d=function(){function d(e){var t=e.creativePayload,n=e.environment,r=e.placement,i=e.pageInfo,a=e.isSmallScreen,o=e.clickTrackerDTJ,s=e.debug,u=e.templateDetail,c=e.tlImageId,l=e.errorHandler;f()(this,d),h()(this,"params",null),h()(this,"creativePayload",null),h()(this,"formatId",null),h()(this,"environment",null),h()(this,"placement",null),h()(this,"isSmallScreen",null),h()(this,"clickTrackerDTJ",null),h()(this,"pageInfo",null),h()(this,"debug",!1),this.creativePayload=t,this.formatId=t.settings.format_id,this.environment=n,this.placement=r,this.isSmallScreen=a,this.clickTrackerDTJ=o,this.pageInfo=i,this.debug=s,this.templateDetail=u,this.tlImageId=c,this.params=null,this.errorHandler=l,this.initParams()}return o()(d,[{key:"initParams",value:function(){var t=this,e=this.creativePayload.assets;e=(e=(e=e.map(function(e){return t.processClickThroughUrl(e)})).map(function(e){return t._appendThirdPartyTrackers(e)})).map(function(e){return function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100,r={caption:u(e.caption,t),heading:u(e.heading,n)};return g()({},e,r)}(e,t.placement.captionCharacterLimit,t.placement.headingCharacterLimit)}),this.params=this.makeParams(e)}},{key:"makeParams",value:function(e){var t,n,r,i,a,o,s,u,c,l=(n=e,(r=this.tlImageId)&&n.find(function(e){return r===e.image_id})||null||(t=e)[Math.floor(Math.random()*t.length)]),d=g()({},this.creativePayload.settings,l);d.allImages=e,d.heading=this._getHeading(d),d.caption=this._getCaption(d),d.isCSR=(i=d.client_side_render,a=d.image_id,i||+a<0),d.adchoices_url=(o=d.adchoices_url,s=v.a.DEFAULT_ADCHOICES_URL,Object(m.g)(o)||s),d.logo_image_url=(c=(u=d).logo_image_url||u.light_logo_url,Object(m.g)(c)),d.render_options_bm=d.render_options_bm||0,d.orig_image_url=d.image_url;var f=this._getProcessedImageUrlAndSrcSet(d,this.templateDetail),h=f.processedImageUrl,p=f.srcSet;return d.image_url=h,d.image_srcset_2x=p,d}},{key:"_getHeading",value:function(e){var t=this.placement.customOptions.defaultHeadingOverride;return c(e.heading,"sponsored video",t)}},{key:"_getCaption",value:function(e){var t=this.placement.customOptions.defaultCaptionOverride;return c(e.caption,"watch to learn more",t)}},{key:"doesFormatUseTemplateImgTag",value:function(){return-1<[this.environment.formats.image,this.environment.formats.video].indexOf(this.formatId)}},{key:"_getProcessedImageUrlAndSrcSet",value:function(e,t){var n=null,r=null;if(this.formatId===this.environment.formats.cinemagraph)n=this._determineAnimatedUrl(e);else if(e.image_url&&this.doesFormatUseTemplateImgTag())if(e.isCSR)n=e.image_url;else{var i={url:e.orig_image_url,imgServerParams:e.img_server_params,tlImgAddr:this.environment.tlImageAddr,placementWidth:this.placement.imageWidth,placementHeight:this.placement.imageHeight,logoBlackList:this.placement.logoBlackList,noLogo:e.customization&&e.customization.reveal,templateDetail:t};n=this.createDynamicImageURL(i),r=this._createImageSrcset(g()({},i,{placementWidth:2*this.placement.imageWidth,placementHeight:2*this.placement.imageHeight}))}else n=v.a.TINY_IMG_DATA;return{processedImageUrl:n,srcSet:r}}},{key:"expandAndRedirectClickThrough",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e.origClickThroughUrl){var n,r,i=this.creativePayload.settings.additional_data,a=e.asset_id||this.creativePayload.settings.asset_id,o=i.tid,s=this.expandFirstPartyMacros(o,a,this.clickTrackerDTJ),u=null===t?e.origClickThroughUrl:t;return u=this.expandFirstPartyMacros(o,a,u),r=u,u=(n=s)?decodeURIComponent(n)+encodeURIComponent(r):r,u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n={tl_clickthrough:!0,redir:2<arguments.length?arguments[2]:void 0,tluid:e.uid},r=Object.assign({},n,e);return Object(m.j)(t,"pass",r)}(i,this.environment.ebPath,u),e.clickthrough_url=u}}},{key:"processClickThroughUrl",value:function(e){var t=e,n=t.clickthrough_url||this.creativePayload.settings.clickthrough_url;return(t.origClickThroughUrl=n)&&(t.clickthrough_url=this.expandAndRedirectClickThrough(t)),t}},{key:"expandFirstPartyMacros",value:function(e,t,n){if(!n)return null;var r=n,i=this.pageInfo.get().ref,a=Object(m.n)(i).host;return r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace(/\[domain]/gi,a)).replace(/\[placement_id]/gi,this.placement.id)).replace(/\[campaign]/gi,e)).replace(/\[ad]/gi,t)).replace(/\[timestamp]/gi,(new Date).getTime())).replace(/%time%/gi,(new Date).getTime())).replace(/\[cachebuster]/gi,Object(m.p)(1e10))).replace(/\[random_number]/gi,Object(m.p)(1e10))).replace(/\${cachebuster}/gi,Object(m.p)(1e10))).replace(/{isfallback}/gi,this.creativePayload.settings.isFallbackAssets)}},{key:"createDynamicImageURL",value:function(e){var t=e.url,n=e.tlImgAddr,r=e.placementWidth,i=e.placementHeight,a=e.imgServerParams||"",o=e.logoBlackList||"";e.noLogo&&(a=l.a.removeQueryStringParam(a,"lp"),o="NW,NE,SE,SW");var s=[],u=this.templateDetail.width||("0"===r?NaN:r),c=this.templateDetail.height||("0"===i?NaN:i);return s.push("width="+u),s.push("height="+c),s.push("url="+encodeURIComponent(t)),s.push("logo_exclude="+o),Object(m.a)("//"+n+"/?"+s.join("&")+"&"+a)}},{key:"createAllDynamicImageURLS",value:function(t){var n=this,r=this.placement.imageWidth,i=this.placement.imageHeight;return this.params.allImages.map(function(e){return n.createDynamicImageURL({url:e.image_url,imgServerParams:e.img_server_params,noLogo:t,tlImgAddr:n.environment.tlImageAddr,placementHeight:i,placementWidth:r,logoBlackList:"SE,SW,NW"})})}},{key:"isBanner",value:function(){return this.formatId===this.environment.formats.header_direct_banner}},{key:"isCarousel",value:function(){return this.formatId===this.environment.formats.carousel}},{key:"isImage",value:function(){return this.formatId===this.environment.formats.image}},{key:"isCinemagraph",value:function(){return this.formatId===this.environment.formats.cinemagraph}},{key:"isScroll",value:function(){return this.formatId===this.environment.formats.scroll}},{key:"isWindow",value:function(){return this.formatId===this.environment.formats.skylight}},{key:"isPharma",value:function(){return this.formatId===this.environment.formats.pharma}},{key:"isHdx",value:function(){return this.formatId===this.environment.formats.header_direct_banner}},{key:"isVast",value:function(){return!1}},{key:"isAutoplay",value:function(){return!1}},{key:"isAdChoicesOptOut",value:function(){var e=this.params.render_options_bm,t=this.environment.renderOptionsMap;return!!Object(m.d)(e,t.adchoices_opt_out)}},{key:"shouldVideoPauseOutOfView",value:function(){var e=this.params.render_options_bm,t=this.environment.renderOptionsMap,n=this.placement.customOptions.disableOutstreamVideoBehavior,r=Object(m.d)(e,t.video_pause_out_view);return n||r}},{key:"getParams",value:function(){return this.params}},{key:"getBaseZIndex",value:function(){return v.a.BASE_Z_INDEX}},{key:"getVastTag",value:function(){return null}},{key:"needsViewabilityAwareness",value:function(){return this.isScroll()||this.isWindow()}},{key:"hasClickThrough",value:function(){return!!this.params.clickthrough_url}},{key:"_appendThirdPartyTrackers",value:function(e){var t=this.creativePayload.settings,n=e.clickthrough_pixels||t.clickthrough_pixels||[],r=e.viewability_pixels||t.viewability_pixels||[],i=e.js_trackers||t.js_trackers||[],a=e.impression_pixels||t.impression_pixels||[],o=this._getClickTracker(e);o&&n.push(o);var s=e.third_party_duplicate_rate||t.third_party_duplicate_rate;s&&Math.random()<s&&(a=function(e){if(!e)return[];for(var t=e.slice(),n=0;n<t.length;n++)-1<t[n].indexOf("?")?t[n]+="&tlcb=${CACHEBUSTER}":t[n]+="?tlcb=${CACHEBUSTER}";return e.concat(t)}(a));var u=t.additional_data.tid,c=e.asset_id||t.asset_id,l=this.expandFirstPartyMacros.bind(this,u,c),d={impressionPixels:a.map(l),clickPixels:n.map(l),viewabilityPixels:r.map(l),jsTrackers:i.map(l)};return Object.assign(e,{thirdPartyTrackers:d})}},{key:"_determineAnimatedUrl",value:function(e){if(!e.animation_variants||!e.animation_variants.length||this.debug)return e.image_url;var t,n=e.animation_variants,r=100*Math.round((this.placement.imageWidth+100)/100),i=r&&-1<n.indexOf(r);if(!i&&this.isSmallScreen&&(r=Math.max.apply(null,n),i=!0),i){var a=Math.round(e.image_height/e.image_width*r);Object.assign(e,{focal_box:function(e,t,n){var r=e.focalBox,i={};if(!r)return null;var a=function(e,t,n){return Math.round(e/t*n)};return i.x1=a(r.x1,e.image_width,t),i.x2=a(r.x2,e.image_width,t),i.y1=a(r.y1,e.image_height,n),i.y2=a(r.y2,e.image_height,n),i}(e,r,a)},{image_width:r,image_height:a}),t=e.image_url.replace(".gif","_a"+r+".gif")}else t=e.image_url;return t}},{key:"_createImageSrcset",value:function(e){return this.createDynamicImageURL(e)+" 2x"}},{key:"_getClickTracker",value:function(e){var t,n;return(n=e.click_tracker_url?(t=e.click_tracker_encoding_level,e.click_tracker_url):(t=this.creativePayload.settings.click_tracker_encoding_level,this.creativePayload.settings.click_tracker_url))?function(e,t){var n=parseInt(t,10),r=e;for(isNaN(n)&&(n=1);n--;)r=encodeURIComponent(r);return r}(n,t):n}}]),d}()},function(e,t,n){"use strict";n(32),n(20),n(97),n(164),n(12),n(17),n(21),n(165);var C=n(1),l=function(e){var t=Object(C.m)(e.supportedDomRefs),n=Object(C.m)(e.initState);return Object.seal(t),Object.seal(n),{domRefs:t,state:n,csrOptions:{},promises:[]}};var x=n(6),r=function(e){var t=e.creative,n=e.eventController,r=e.util,i=t.getParams(),a=i.adchoices_url;return{init:function(e){var t=e.domRefs.adchoices;if(r.listen(t,"click",o,!1,!0),i.edaa){r.listen(t,"mouseenter",function(){return n.publish(x.s)},!1,!0);r.listen(t,"mouseleave",function(){return n.publish(x.t)},!1,!0)}}};function o(){window.open(a,"popup","width="+s+",height="+u)}},s=650,u=316;n(54),n(27);var i=n(0),N=n.n(i),O=n(4),L=(n(28),function(e){var i=e.creative,a=e.errorHandler;return{get:function(e){var t=function(e){var t=document.createElement("iframe");O.a.setStyle(t,"display","none"),document.body.appendChild(t);try{var n=t.contentWindow.document;n.open(),n.close()}catch(e){a.fireError("Logo Placement: Attempted to open iframe document but failed.",a.WARNING)}return t.contentWindow[o]=e,t}(e),n=(r=document.createElement("script"),r.src=i.params.image_url.replace("/?","/lp?"),r);var r;t.contentWindow.document.body.appendChild(n)}}}),o="updateLogoZones";var a,c,d=n(8),j="logo",P="adchoices",R="blacklisted",V=d.a.NW,U=d.a.NE,W=d.a.SE,B=d.a.SW,F=[U,V,W,B],z=[B,W,V,U],H=(a={},N()(a,V,{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA0NSkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",styleCornerEl:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;O.a.setStyleProperties(e,[["top",n],["right","auto"],["bottom","auto"],["left",t]])}}),N()(a,U,{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJyb3RhdGUoMTgwIDIyLjUgMjIuNSkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",styleCornerEl:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;O.a.setStyleProperties(e,[["top",n],["right",t],["bottom","auto"],["left","auto"]])}}),N()(a,W,{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgNDUgMCkiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGw0NSA0NUgweiIvPjxyZWN0IGZpbGw9IiMwMDAiIHg9IjEwIiB5PSIxNCIgd2lkdGg9IjIxIiBoZWlnaHQ9IjIyIiByeD0iMiIvPjxwYXRoIGQ9Ik0yNy40NzkgMTcuMjI1YS44MTYuODE2IDAgMCAwLS41OC0uMjM2SDE3LjYxYS44MTYuODE2IDAgMCAwLS41OC4yMzYuODI3LjgyNyAwIDAgMCAwIDEuMTZsMi4zMjIgMi4zMjMtMi4wMzIgMi4wMzFjLTIuOTc1IDIuOTc2LTYuMTUgNy4yMDItNC4yODEgMTEuNTkzLjU4IDEuMzQyIDEuNTI0IDIuNDg1IDIuNTQgMy41IDEuMjcgMS4yNyAzLjU2NCAyLjI5NiA1LjI0MiAyLjk0LjMwOS4xMDkuNjk5LjI5OSAxLjAyNS4zNTMuMTU0LjAyOC4yODEuMDI4LjQwOC0uMS4xODItLjE4LjE0Ni0uNDM1LS4wMjctLjYwNy0uMTQ1LS4xNDUtLjM0NS0uMjcyLS40OTktLjQwOC0uMzk5LS4zNDUtLjc4OS0uNjk5LTEuMTYtMS4wNy00LjMyNy00LjMyNy0yLjUxMy03LjY0NyAxLjM5Ni0xMS41NTZsMi4wMzItMi4wMzIgMi4zMjIgMi4zMjJhLjgyNy44MjcgMCAwIDAgMS4xNjEgMCAuODE2LjgxNiAwIDAgMCAuMjM2LS41OHYtOS4yODlhLjgxNi44MTYgMCAwIDAtLjIzNi0uNTh6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==",styleCornerEl:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;O.a.setStyleProperties(e,[["top","auto"],["right",t],["bottom",n],["left","auto"]])}}),N()(a,B,{PEELBACK_URL:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDUiIGhlaWdodD0iNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMCAwbDQ1IDQ1SDB6Ii8+PHJlY3QgZmlsbD0iIzAwMCIgeD0iMTAiIHk9IjE0IiB3aWR0aD0iMjEiIGhlaWdodD0iMjIiIHJ4PSIyIi8+PHBhdGggZD0iTTI3LjQ3OSAxNy4yMjVhLjgxNi44MTYgMCAwIDAtLjU4LS4yMzZIMTcuNjFhLjgxNi44MTYgMCAwIDAtLjU4LjIzNi44MjcuODI3IDAgMCAwIDAgMS4xNmwyLjMyMiAyLjMyMy0yLjAzMiAyLjAzMWMtMi45NzUgMi45NzYtNi4xNSA3LjIwMi00LjI4MSAxMS41OTMuNTggMS4zNDIgMS41MjQgMi40ODUgMi41NCAzLjUgMS4yNyAxLjI3IDMuNTY0IDIuMjk2IDUuMjQyIDIuOTQuMzA5LjEwOS42OTkuMjk5IDEuMDI1LjM1My4xNTQuMDI4LjI4MS4wMjguNDA4LS4xLjE4Mi0uMTguMTQ2LS40MzUtLjAyNy0uNjA3LS4xNDUtLjE0NS0uMzQ1LS4yNzItLjQ5OS0uNDA4LS4zOTktLjM0NS0uNzg5LS42OTktMS4xNi0xLjA3LTQuMzI3LTQuMzI3LTIuNTEzLTcuNjQ3IDEuMzk2LTExLjU1NmwyLjAzMi0yLjAzMiAyLjMyMiAyLjMyMmEuODI3LjgyNyAwIDAgMCAxLjE2MSAwIC44MTYuODE2IDAgMCAwIC4yMzYtLjU4di05LjI4OWEuODE2LjgxNiAwIDAgMC0uMjM2LS41OHoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+",styleCornerEl:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;O.a.setStyleProperties(e,[["top","auto"],["right","auto"],["bottom",n],["left",t]])}}),a),Q=(c={},N()(c,V,"border-bottom-right-radius"),N()(c,U,"border-bottom-left-radius"),N()(c,W,"border-top-left-radius"),N()(c,B,"border-top-right-radius"),c);var f=d.a.BUTTONS_DIR+"edaa/",h=f+"OBA_TRANS.png",p={fr:f+"OBA_FRANCE.png",bg:f+"OBA_BULGARIA.png",cs:f+"OBA_CZECH.png",da:f+"OBA_DENMARK.png",fi:f+"OBA_FINLAND.png",de:f+"OBA_GERMANY.png",el:f+"OBA_GREEK.png",hu:f+"OBA_HUNGARY.png",en:f+"OBA_UK.png",it:f+"OBA_ITALY.png",nl:f+"OBA_NETHERLANDS.png",no:f+"OBA_NORWAY.png",pl:f+"OBA_POLAND.png",ro:f+"OBA_ROMANIA.png",sk:f+"OBA_SLOVAKIA.png",es:f+"OBA_SPAIN.png",sv:f+"OBA_SWEDEN.png"},g=n(74),v=function(e){var r,i,a,o,s=e.creative,u=e.positionService,n=e.eventController;return{render:function(e){r=e.domRefs,i=e.state;var t=r.adWrapper.querySelector("."+m);t?(r.adchoices=t,i.isAdChoiceFromTemplate=!0):(r.adchoices=function(e){var t;t=e?(r=O.a.setStyleProperties(document.createElement("div"),[["padding","1px"],["display","inline-block"],["background","rgba(204, 204, 204, 0.5)"],["width","initial"],["height","initial"]]),(a=document.createElement("img")).className="tl-edaa-icon",a.src=h,(o=document.createElement("img")).className="tl-edaa-text",o.src=(i=navigator.language.slice(0,2),p[i]||p.en),r.appendChild(a),r.appendChild(o),c(),r):((n=document.createElement("img")).src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTVweCIgaGVpZ2h0PSIxNXB4IiB2aWV3Qm94PSIwIDAgMTUgMTUiIHZlcnNpb249IjEuMSI+CjxnIGlkPSJzdXJmYWNlMSI+CjxwYXRoIHN0eWxlPSIgc3Ryb2tlOm5vbmU7ZmlsbC1ydWxlOmV2ZW5vZGQ7ZmlsbDpyZ2IoOS44MDM5MjIlLDY3LjA1ODgyNCUsODAlKTtmaWxsLW9wYWNpdHk6MTsiIGQ9Ik0gMC45NzY1NjIgMC4wMTk1MzEyIEMgMC4yMTA5MzggMC4yMDMxMjUgLTAuMDM5MDYyNSAxLjA4MjAzMSAwLjAyMzQzNzUgMS43NzczNDQgQyAtMC4wMjczNDM4IDQuNjc5Njg4IDAuMDE5NTMxMiA3LjU4MjAzMSAwIDEwLjQ4NDM3NSBDIDAuMDIzNDM3NSAxMS42NTYyNSAtMC4wMzkwNjI1IDEyLjgzMjAzMSAwLjA3ODEyNSAxNCBDIDAuMTUyMzQ0IDE0Ljg1MTU2MiAxLjAzMTI1IDE1LjE0ODQzOCAxLjc1MzkwNiAxNC45MzM1OTQgQyAyLjUwMzkwNiAxNC43MzA0NjkgMy4xNDQ1MzEgMTQuMjc3MzQ0IDMuODM1OTM4IDEzLjk0MTQwNiBDIDQuNzAzMTI1IDEzLjU4NTkzOCA0LjYyMTA5NCAxMi4wMTk1MzEgMy41MjczNDQgMTIuMTY0MDYyIEMgMi45MTAxNTYgMTIuNDg4MjgxIDEuOTY4NzUgMTIuNDAyMzQ0IDIuMDUwNzgxIDExLjQ4MDQ2OSBDIDIuMDQ2ODc1IDguNjY0MDYyIDIuMDA3ODEyIDUuODQzNzUgMi4wNzAzMTIgMy4wMzEyNSBDIDIuMjI2NTYyIDIuMTMyODEyIDMuMjYxNzE5IDIuNDA2MjUgMy43Njk1MzEgMi44MTY0MDYgQyA0LjY3MTg3NSAzLjI5Njg3NSA1LjU1NDY4OCAzLjc5Njg3NSA2LjQ2NDg0NCA0LjI2OTUzMSBDIDcuMzc4OTA2IDQuNzczNDM4IDguMjk2ODc1IDUuMjczNDM4IDkuMjE4NzUgNS43NjU2MjUgQyA5Ljk1MzEyNSA2LjE4MzU5NCAxMC43MzQzNzUgNi41MzkwNjIgMTEuNDI1NzgxIDcuMDIzNDM4IEMgMTIuMDU0Njg4IDcuNzIyNjU2IDExIDguMjE0ODQ0IDEwLjQ2NDg0NCA4LjQzMzU5NCBDIDkuNTQyOTY5IDguODYzMjgxIDguNjY0MDYyIDkuMzYzMjgxIDcuNzI2NTYyIDkuNzUzOTA2IEMgNy4zNzEwOTQgOS45MjE4NzUgNi42MDkzNzUgMTAuNTIzNDM4IDYuNDQ1MzEyIDEwLjIxNDg0NCBDIDYuMzgyODEyIDkuMzM5ODQ0IDYuNDg0Mzc1IDguNDQ1MzEyIDYuMzk0NTMxIDcuNTc4MTI1IEMgNi4yMzQzNzUgNi43NDYwOTQgNC44MjQyMTkgNi43MDMxMjUgNC42NDQ1MzEgNy41NDI5NjkgQyA0LjYyNSA5LjAzMTI1IDQuNjM2NzE5IDEwLjUyNzM0NCA0LjYyODkwNiAxMi4wMTk1MzEgQyA1LjA0Mjk2OSAxMi44MDg1OTQgNi4xNDA2MjUgMTIuOTE3OTY5IDYuODA4NTk0IDEyLjM4MjgxMiBDIDcuNTY2NDA2IDEyIDguMzA4NTk0IDExLjYxNzE4OCA5LjA3MDMxMiAxMS4yMzA0NjkgQyA5LjkxNDA2MiAxMC43ODkwNjIgMTAuNzc3MzQ0IDEwLjM1NTQ2OSAxMS42Mjg5MDYgOS45MTQwNjIgQyAxMi41OTM3NSA5LjM3NSAxMy42MzY3MTkgOC45Njg3NSAxNC41NDI5NjkgOC4zMjgxMjUgQyAxNS40Njg3NSA3LjY5NTMxMiAxNC44Mzk4NDQgNi40Mjk2ODggMTMuOTUzMTI1IDYuMTMyODEyIEMgMTMuMDU4NTk0IDUuNjM2NzE5IDEyLjEyODkwNiA1LjIwMzEyNSAxMS4yMjY1NjIgNC43MTA5MzggQyAxMC4xMjg5MDYgNC4xNDg0MzggOS4wMzkwNjIgMy41ODU5MzggNy45NDUzMTIgMy4wMTU2MjUgQyA3LjM3MTA5NCAyLjczMDQ2OSA2LjgwNDY4OCAyLjQxNzk2OSA2LjIyNjU2MiAyLjEyNSBDIDQuOTg4MjgxIDEuNDk2MDk0IDMuNzU3ODEyIDAuODM1OTM4IDIuNTIzNDM4IDAuMjEwOTM4IEMgMi4wNTQ2ODggLTAuMDc4MTI1IDEuNDk2MDk0IDAuMDExNzE4OCAwLjk3NjU2MiAwLjAxOTUzMTIgWiBNIDUuMjMwNDY5IDQuODMyMDMxIEMgNC41MDM5MDYgNSA0LjM5ODQzOCA2LjEzMjgxMiA1LjA2NjQwNiA2LjQ0OTIxOSBDIDUuNzMwNDY5IDYuODQzNzUgNi43MDMxMjUgNi4yMDcwMzEgNi40NTcwMzEgNS40MjU3ODEgQyA2LjM0NzY1NiA0Ljg3ODkwNiA1LjcwNzAzMSA0LjcwMzEyNSA1LjIzMDQ2OSA0LjgzMjAzMSBaIE0gNS4yMzA0NjkgNC44MzIwMzEgIi8+CjwvZz4KPC9zdmc+Cg==",O.a.setStyleProperties(n,[["width",y+"px"],["height",I+"px"],["background","none"],["margin","initial"],["padding","initial"],["min-height","initial"]]));var n;var r,i;return t.className=m,O.a.setStyleProperties(t,[["z-index",Object(g.b)(s,g.a.ADCHOICES)],["position","absolute"],["margin","initial"],["min-height","initial"],["cursor","pointer"]])}(s.params.edaa),n.on(x.i,d));s.params.edaa&&(n.on(x.s,l),n.on(x.t,c))}};function c(){O.a.setStyle(a,"display","block"),O.a.setStyle(o,"display","none")}function l(){O.a.setStyle(o,"display","block"),O.a.setStyle(a,"display","none")}function d(){var e,t,n=(e=r.mainImageCsrDiv,(t=u.getElDims(e)).width*t.height>=_&&(!s.isAutoplay()||!i.isEnded&&i.isPlaying)?"inline":"none");O.a.setStyle(r.adchoices,"display",n)}},m=d.a.TL_CLASS_PREFIX+"adchoices",y=15,I=15,_=15e3;var A=n(7),w=n.n(A),M=function(e){var c,n,l,d,f,h,r,i=e.creative,a=e.eventController,p=e.util,o=i.getParams(),g=null;return{render:function(e){if(r=e,!o.logo_image_url||!r.domRefs.mainImageCsrDiv||i.isPharma()||i.isVast())return;n=Object(C.n)("?"+o.img_server_params),l=parseInt(n.queryKey.minLogoPct,10),d=parseInt(n.queryKey.maxLogoPct,10),c=parseInt(n.queryKey.logo_width,10),f=o.logo_image_url,h=o.logo_width,t=document.createElement("img"),t.className="tl-logo",Object(C.r)(t),O.a.setStyle(t,"position","absolute"),O.a.setStyle(t,"display","none"),t.onload=function(){a.publish(x.l),O.a.setStyle(t,"display","block")},t.src=o.logo_image_url,g=t,a.on(x.i,s),r.domRefs.logo=g;var t},_getLogoDims:v};function s(e){if(g&&g.naturalHeight&&e.width&&e.height){var t=e.width,n=e.height,r=g,i=r.naturalWidth,a=r.naturalHeight,o={imgWidth:t,imgHeight:n,logoAspectRatio:i/a,scaleFactor:k,logoWidth:c,minLogoPct:l,maxLogoPct:d},s=v(o);p.setDims(g,s.width,s.height);var u=p.sizeLogoSrc(f,s.width,h);p.isEqualUrlNoProtocol(g.src,u)||(g.src=u)}}function v(e){var t=e.imgWidth,n=e.imgHeight,r=e.logoAspectRatio,i=e.logoWidth,a=e.minLogoPct,o=e.maxLogoPct,s=e.scaleFactor,u={};if(i)return u.width=i,u.height=i*(1/r),m(u,r,{imgWidth:t,imgHeight:n});if(u.width=t*s,u.height=u.width*(1/r),u.width/t<u.height/n&&(u.height=n*s,u.width=u.height*r),function(e,t){if(isNaN(e)&&isNaN(t))return!1;var n=isNaN(e)?0:e,r=isNaN(t)?100:t;return n<=r&&0<=n&&n<=100&&0<=r&&r<=100}(a,o)){var c=t*n,l=u.width*u.height;l<c*(a/100)?(u.width=Math.sqrt(c*r*(a/100)),u.height=u.width/r):c*(o/100)<l&&(u.width=Math.sqrt(c*r*(o/100)),u.height=u.width/r)}return(u=m(u,r,{imgWidth:t,imgHeight:n})).width=Math.round(u.width),u.height=Math.round(u.height),u}function m(e,t,n){var r=n.imgWidth,i=n.imgHeight,a=w()({},e);return u(a,{imgWidth:r,imgHeight:i})&&(a.width=r*b,a.height=a.width*(1/t),u(a,{imgWidth:r,imgHeight:i})&&(a.height=i*b,a.width=a.height*t)),a}function u(e,t){var n=e.width,r=e.height,i=t.imgWidth,a=t.imgHeight;return i/2<n||a/2<r}},k=.25,b=.5;var E=n(5),T=n(69),S=(t.a=function(t,r){var i=r.positionService,a=r.featureConfigs,o={initState:(e=a.reduce(function(e,t){return Object.assign(e,t.initState)},Object(C.m)(t.initState)),Object.assign({},S,e)),supportedDomRefs:n("supportedDomRefs",D)},s=l(o),u=n("renderers",Y),c=n("eventManagers",G);var e;return{render:function(){e=u,e.forEach(function(e){return e(r).render(s)}),i.setAdContainer(s.domRefs.adWrapperWithDims);var e;var t=Object(C.l)(Object.keys(s.domRefs),o.supportedDomRefs);if(0<t.length)throw new E.a("domRefs invalid. Unmatched keys: "+t.join(", "));return Object.freeze(s.domRefs),n={doClickThrough:function(e){Object(T.a)(e,r.placement.customOptions.openCtUrlInSameWindow)}},c.reduce(function(e,t){var n=new t(r,e);return n.init(s),Object.assign(e,n),e},n),Promise.all(s.promises).then(function(){return s});var n},context:s};function n(n,e){return a.reduce(function(e,t){return e.concat(t[n])},t[n]).concat(e)}},{adChoicesCorner:"",revealTriggerCorner:"",isAdChoiceFromTemplate:!1,isBackgroundImage:!1,imageBoxingOffsetX:0,imageBoxingOffsetY:0,logoOffsetX:0,logoOffsetY:0,visibleImageWidth:0,visibleImageHeight:0}),D=["adchoices","adWrapper","adWrapperWithDims","logo","mainClickTarget","mainImage","mainImageCsrDiv"],Y=[M,v,function(e){var t,n,r,i,h=e.creative,a=e.placement,p=e.positionService,o=e.errorHandler,s=e.util,u=e.eventController,c=h.getParams(),l=Object(C.n)("?"+c.img_server_params),d=(t=a.logoBlackList,r=Object(C.w)(t).split(","),n={},N()(n,V,null),N()(n,U,null),N()(n,W,null),N()(n,B,null),i=n,r.forEach(function(e){e&&(i[e]=R)}),i),f=!h.isAdChoicesOptOut(),g=null,v=null,m=null,y=null,I=[{domRefName:"revealTrigger",placeFunc:function(e,t){var n=h.params.customization.reveal;n.trigger.corner&&z.unshift(Object(C.w)(n.trigger.corner));var r=k(z);if(g.state.revealTriggerCorner=r,T(e,t,r),r){var i=n.trigger.type;switch(i){case"peelback":e.setAttribute("src",H[r].PEELBACK_URL);break;case"info_icon":e.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsLW9wYWNpdHk9Ii44MTUiIGZpbGw9IiMwMDAiIGQ9Ik0wIDBoMzV2MzVIMHoiLz48cGF0aCBkPSJNMjEuNjY3IDI1LjMxM3YtMi42MDVhLjUwNy41MDcgMCAwIDAtLjE0Ny0uMzc0LjUwNy41MDcgMCAwIDAtLjM3NC0uMTQ2aC0xLjU2M3YtOC4zMzRhLjUwNy41MDcgMCAwIDAtLjE0Ni0uMzc0LjUwNy41MDcgMCAwIDAtLjM3NS0uMTQ3aC01LjIwOGEuNTA3LjUwNyAwIDAgMC0uMzc0LjE0Ny41MDcuNTA3IDAgMCAwLS4xNDcuMzc0djIuNjA0YzAgLjE1Mi4wNS4yNzcuMTQ3LjM3NWEuNTA3LjUwNyAwIDAgMCAuMzc0LjE0NmgxLjU2M3Y1LjIwOWgtMS41NjNhLjUwNy41MDcgMCAwIDAtLjM3NC4xNDYuNTA3LjUwNyAwIDAgMC0uMTQ3LjM3NHYyLjYwNWMwIC4xNTEuMDUuMjc2LjE0Ny4zNzRhLjUwNy41MDcgMCAwIDAgLjM3NC4xNDZoNy4yOTJhLjUwNy41MDcgMCAwIDAgLjM3NC0uMTQ2LjUwNy41MDcgMCAwIDAgLjE0Ny0uMzc1em0tMi4wODQtMTMuNjE3VjguNzJhLjYyNi42MjYgMCAwIDAtLjE0Ni0uNDI4LjQ3NS40NzUgMCAwIDAtLjM3NS0uMTY3aC0zLjEyNWEuNDc1LjQ3NSAwIDAgMC0uMzc0LjE2Ny42MjYuNjI2IDAgMCAwLS4xNDYuNDI4djIuOTc2YzAgLjE3NC4wNDguMzE3LjE0Ni40MjhhLjQ3NS40NzUgMCAwIDAgLjM3NC4xNjhoMy4xMjZhLjQ3NS40NzUgMCAwIDAgLjM3NC0uMTY4LjYyNi42MjYgMCAwIDAgLjE0Ni0uNDI4ek0zMCAxNy41YzAgMi4yNjgtLjU1OSA0LjM2LTEuNjc2IDYuMjc0YTEyLjQ0NCAxMi40NDQgMCAwIDEtNC41NSA0LjU1QzIxLjg2IDI5LjQ0IDE5Ljc2OCAzMCAxNy41IDMwcy00LjM2LS41NTktNi4yNzQtMS42NzZhMTIuNDQ0IDEyLjQ0NCAwIDAgMS00LjU1LTQuNTVDNS41NiAyMS44NiA1IDE5Ljc2OCA1IDE3LjVzLjU1OS00LjM2IDEuNjc2LTYuMjc0YTEyLjQ0NCAxMi40NDQgMCAwIDEgNC41NS00LjU1QzEzLjE0IDUuNTYgMTUuMjMyIDUgMTcuNSA1czQuMzYuNTU5IDYuMjc0IDEuNjc2YTEyLjQ0NCAxMi40NDQgMCAwIDEgNC41NSA0LjU1QzI5LjQ0IDEzLjE0IDMwIDE1LjIzMiAzMCAxNy41eiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=")}}}},{domRefName:j,placeFunc:function(e,t){var n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:V,t=Object(C.w)(e);return null!==d[t]?D()[0]:t}(l.queryKey.lp),r=E(l.queryKey,g.state);T(e,t,n,r.x,r.y)}}];return{render:function(e){var t,n,r=g=e;(v=r.domRefs,m=r.state,t=v,s.find(I,function(e){return!!t[e.domRefName]})||!m.isAdChoiceFromTemplate)&&(v.mainImageCsrDiv?(y=v.mainImageCsrDiv,M()):((n=document.createElement("div")).className="tl-transparent",O.a.setStyle(n,"position","absolute"),O.a.setStyle(n,"pointer-events","none"),y=n,s.addResizeListener(window,_),v.mainImage&&v.mainImage.addEventListener("load",A),L({creative:h,errorHandler:o}).get(function(e){d[Object(C.w)(e.lp)]=j,M()})),u.on(x.i,S))},_getLogoOffsets:E,_setOverlayContainer:function(e){y=e}};function _(){w();var e=v.mainImage;e&&e.complete&&A()}function A(){w();var e=v.mainImage.getBoundingClientRect(),t=y.parentElement.getBoundingClientRect(),n=e.top-t.top,r=e.left-t.left;O.a.setStyle(y,"top",n+"px"),O.a.setStyle(y,"left",r+"px"),O.a.setStyle(y,"width",e.width+"px"),O.a.setStyle(y,"height",e.height+"px")}function w(){var e,t,n;return null===y.parentElement&&(e=v.adWrapperWithDims,t=e,n=O.a.getPropertyValue(t,"position"),["static","","relative"].indexOf(n)<0?t=document.body:O.a.setStyle(t,"position","relative"),t!==e&&o.fireError("Invalid position style set on ad wrapper",o.WARNING),t).appendChild(y),y.parentElement}function M(){var e,t;h.isVast()&&(d[B]="muteButton"),I.forEach(function(e){var t=v[e.domRefName];t&&e.placeFunc(t,e.domRefName)}),f&&!m.isAdChoiceFromTemplate&&(e=k(F),t=v[P],(g.state.adChoicesCorner=e)?(O.a.setStyle(t,Q[e],"8px"),T(t,P,e)):o.fireError("No available corner for AdChoices icon",o.WARNING))}function k(e){return b(D(),e)||b(Object.keys(d).filter(function(e){return d[e]===R}),e)}function b(t,e){return e.find(function(e){return-1<t.indexOf(Object(C.w)(e))})}function E(e,t){var n,r,i,a,o,s,u,c=parseInt(e.logo_x_pct,10),l=parseInt(e.logo_y_pct,10);r=isNaN(c)&&isNaN(l)?(n=parseInt(e.lox,10),parseInt(e.loy,10)):(a=t.visibleImageWidth||t.visibleImageHeight?(i=t.visibleImageWidth,t.visibleImageHeight):(i=(o=p.getElDims(y)).width,o.height),n=f(c,i),f(l,a));var d=isNaN(n)&&isNaN(r);return h.isCinemagraph()&&d&&(r=n=10),u=t.imageBoxingOffsetX||t.imageBoxingOffsetY?(s=t.imageBoxingOffsetX,t.imageBoxingOffsetY):t.logoOffsetX||t.logoOffsetY?(s=t.logoOffsetX,t.logoOffsetY):s=0,{x:(n||0)+s+"px",y:(r||0)+u+"px"};function f(e,t){return Math.floor(.01*e*t)}}function T(e,t,n,r,i){var a;n&&(d[n]=t,a=e,O.a.setStyle(a,"pointer-events","all"),y.appendChild(a),H[n].styleCornerEl(e,r,i))}function S(){var t,e=(t=j,Object.keys(d).filter(function(e){return d[e]===t})[0]);if(e){var n=E(l.queryKey,g.state);H[e].styleCornerEl(v[j],n.x,n.y)}}function D(){return Object.keys(d).filter(function(e){return null===d[e]})}}],G=[r]},function(e,t,n){var a=n(55);e.exports=function(r,i,e){if(a(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,t,n){var r=n(65),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(41);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var d=n(22),f=n(47),h=n(86),p=n(87);n(89)("match",1,function(r,i,c,l){return[function(e){var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=l(c,e,this);if(t.done)return t.value;var n=d(e),r=String(this);if(!n.global)return p(n,r);for(var i,a=n.unicode,o=[],s=n.lastIndex=0;null!==(i=p(n,r));){var u=String(i[0]);""===(o[s]=u)&&(n.lastIndex=h(r,f(n.lastIndex),a)),s++}return 0===s?null:o}]})},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(33).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||n(25)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(32);var r=n(7),a=n.n(r),i=n(2),d=n.n(i),o=n(3),s=n.n(o),u=n(6),c=n(1),f=n(9),l=function(){function l(e,t){var n=e.docInfo,r=e.rev,i=e.placement,a=void 0===i?{}:i,o=e.debugFlag,s=e.ebPath,u=void 0===s?"eb2.3lift.com":s,c=t.eventController;d()(this,l),this.docInfo=n,this.rev=r,this.placement=a,this.debugFlag=o,this.ebPath=u,this.eventController=c,this.auctionId=null,this._setupListeners()}return s()(l,[{key:"fire",value:function(e,t,n){var r=this;if(e){var i=this.docInfo.topDocument.createElement("IMG");"function"==typeof t&&(i.onload=t),n||(i.onerror=function(){r.debugFlag?console.error("[TL] Bad tracking pixel:",e):r.fireEB(f.d,{eid:10})}),i.src=e}}},{key:"fireEB",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r={inv_code:this.placement.invCode,aid:this.auctionId,rev:this.rev},i=Object(c.j)(this.ebPath,e,a()({},r,t));this.fire(i,n,!0)}},{key:"fireDyn",value:function(e){var t={long1:null,long2:null,long3:null,string1:this.auctionId,string2:null,string3:null},n=Object.assign({},t,e),r=Object(c.j)(this.ebPath,"dyn",n);this.fire(r,!1,!0)}},{key:"firePerf",value:function(e){var t={rev:this.rev,type:e.type,time_since_start:e.timeSinceStart,time_since_last:e.timeSinceLast,client_side_auction:+e.clientSideAuction,fid:e.formatId},n=Object(c.j)(this.ebPath,"perf",t);this.fire(n,!1,!0)}},{key:"setAuctionId",value:function(e){return this.auctionId=e,this}},{key:"getAuctionId",value:function(){return this.auctionId}},{key:"_setupListeners",value:function(){var r=this;this.eventController.on(u.c,function(e){var t=e.id,n=void 0===t?null:t;r.setAuctionId(n)})}}]),l}()},function(e,t,n){"use strict";var r=n(69);t.a=function(e){var t=e.analytics;return{init:function(e){Object(r.b)(e.domRefs.adWrapperWithDims,n)}};function n(){t.mouseover()}}},function(e,t,n){"use strict";var d=n(85),I=n(22),_=n(103),A=n(86),w=n(47),M=n(87),f=n(88),r=n(19),k=Math.min,h=[].push,o="split",p="length",g="lastIndex",b=4294967295,E=!r(function(){RegExp(b,"y")});n(89)("split",2,function(i,a,v,m){var y;return y="c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[p]||2!="ab"[o](/(?:ab)*/)[p]||4!="."[o](/(.?)(.?)/)[p]||1<"."[o](/()()/)[p]||""[o](/.?/)[p]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!d(e))return v.call(n,e,t);for(var r,i,a,o=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=void 0===t?b:t>>>0,l=new RegExp(e.source,s+"g");(r=f.call(l,n))&&!(u<(i=l[g])&&(o.push(n.slice(u,r.index)),1<r[p]&&r.index<n[p]&&h.apply(o,r.slice(1)),a=r[0][p],u=i,o[p]>=c));)l[g]===r.index&&l[g]++;return u===n[p]?!a&&l.test("")||o.push(""):o.push(n.slice(u)),o[p]>c?o.slice(0,c):o}:"0"[o](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:v.call(this,e,t)}:v,[function(e,t){var n=i(this),r=null==e?void 0:e[a];return void 0!==r?r.call(e,n,t):y.call(String(n),e,t)},function(e,t){var n=m(y,e,this,t,y!==v);if(n.done)return n.value;var r=I(e),i=String(this),a=_(r,RegExp),o=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(E?"y":"g"),u=new a(E?r:"^(?:"+r.source+")",s),c=void 0===t?b:t>>>0;if(0===c)return[];if(0===i.length)return null===M(u,i)?[i]:[];for(var l=0,d=0,f=[];d<i.length;){u.lastIndex=E?d:0;var h,p=M(u,E?i:i.slice(d));if(null===p||(h=k(w(u.lastIndex+(E?0:d)),i.length))===l)d=A(i,d,o);else{if(f.push(i.slice(l,d)),f.length===c)return f;for(var g=1;g<=p.length-1;g++)if(f.push(p[g]),f.length===c)return f;d=l=h}}return f.push(i.slice(l)),f}]})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(N,e){!function(e){"use strict";var u,t=Object.prototype,c=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag",o="object"==typeof N,s=e.regeneratorRuntime;if(s)o&&(N.exports=s);else{(s=e.regeneratorRuntime=o?N.exports:{}).wrap=I;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",g={},l={};l[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==t&&c.call(m,i)&&(l=m);var y=M.prototype=A.prototype=Object.create(l);w.prototype=y.constructor=M,M.constructor=w,M[a]=w.displayName="GeneratorFunction",s.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,M):(e.__proto__=M,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(y),e},s.awrap=function(e){return{__await:e}},k(b.prototype),b.prototype[r]=function(){return this},s.AsyncIterator=b,s.async=function(e,t,n,r){var i=new b(I(e,t,n,r));return s.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},k(y),y[a]="Generator",y[i]=function(){return this},y.toString=function(){return"[object Generator]"},s.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},s.values=C,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return a.type="throw",a.arg=n,r.next=e,t&&(r.method="next",r.arg=u),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var o=c.call(i,"catchLoc"),s=c.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=u),g}}}function I(e,t,n,r){var a,o,s,u,i=t&&t.prototype instanceof A?t:A,c=Object.create(i.prototype),l=new D(r||[]);return c._invoke=(a=e,o=n,s=l,u=d,function(e,t){if(u===h)throw new Error("Generator is already running");if(u===p){if("throw"===e)throw t;return x()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=E(n,s);if(r){if(r===g)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===d)throw u=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=h;var i=_(a,o,s);if("normal"===i.type){if(u=s.done?p:f,i.arg===g)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=p,s.method="throw",s.arg=i.arg)}}),c}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function A(){}function w(){}function M(){}function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function b(u){var t;this._invoke=function(n,r){function e(){return new Promise(function(e,t){!function t(e,n,r,i){var a=_(u[e],u,n);if("throw"!==a.type){var o=a.arg,s=o.value;return s&&"object"==typeof s&&c.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,r,i)},function(e){t("throw",e,r,i)}):Promise.resolve(s).then(function(e){o.value=e,r(o)},function(e){return t("throw",e,r,i)})}i(a.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}}function E(e,t){var n=e.iterator[t.method];if(n===u){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=u,E(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=_(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=u,e.done=!0,e};return r.next=r}}return{next:x}}function x(){return{value:u,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t){e.exports={}},function(e,t,n){"use strict";n.d(t,"a",function(){return p});n(12);var r=n(7),i=n.n(r),a=n(13),o=n.n(a),s=n(2),u=n.n(s),c=n(3),l=n.n(c),d=n(0),f=n.n(d),h=n(6),p=function(){function e(){u()(this,e),f()(this,"events",{})}return l()(e,[{key:"on",value:function(e,t){return this._subscribe(e,t,!1)}},{key:"once",value:function(e,t){return this._subscribe(e,t,!0)}},{key:"off",value:function(e,t){if(this.events[e]&&0!==this.events[e].length){var n=this.events[e].filter(function(e){return e.eventHandler!==t});this.events[e]=o()(n),0===this.events[e].length&&(this.events=i()({},this.events,{eventName:[]}))}}},{key:"destroy",value:function(){this.events={}}},{key:"publish",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._publishEvent.apply(this,[e].concat(n)),this._publishLog.apply(this,[e].concat(n))}},{key:"_subscribe",value:function(e,t,n){var r=this;return Object.prototype.hasOwnProperty.call(this.events,e)||(this.events[e]=[]),this.events[e]=[].concat(o()(this.events[e]),[{eventHandler:t,once:n}]),function(){return r.off(e,t)}}},{key:"_publishEvent",value:function(t){for(var n=this,e=arguments.length,r=new Array(1<e?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];this.events[t]&&0<this.events[t].length&&this.events[t].forEach(function(e){e.eventHandler.apply(e,r),e.once&&n.off(t,e.eventHandler)})}},{key:"_publishLog",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._publishEvent.apply(this,[h.o,e].concat(n))}}]),e}()},function(e,t,n){"use strict";var r=n(7),C=n.n(r),i=n(2),W=n.n(i),a=n(3),o=n.n(a),x=function(){function U(e){var t=e.defaultCaptionOverride,n=void 0===t?"":t,r=e.defaultHeadingOverride,i=void 0===r?"":r,a=e.disableOutstreamVideoBehavior,o=void 0!==a&&a,s=e.dontWaitForImageLoad,u=void 0!==s&&s,c=e.friendlyIframeRender,l=void 0!==c&&c,d=e.is3pAdPreview,f=void 0!==d&&d,h=e.isAmp,p=void 0!==h&&h,g=e.maxUserSyncs,v=void 0===g?10:g,m=e.numCreatives,y=void 0===m?1:m,I=e.openCtUrlInSameWindow,_=void 0!==I&&I,A=e.playButtonUrl,w=void 0===A?"":A,M=e.postBidIpvAutoplay,k=void 0!==M&&M,b=e.referrerOverride,E=void 0===b?[]:b,T=e.uniqueBrands,S=void 0!==T&&T,D=e.uniqueCreatives,C=void 0!==D&&D,x=e.unwrappedUnit,N=void 0!==x&&x,O=e.userSyncsDisabled,L=void 0!==O&&O,j=e.verboseCreativeResponseToggle,P=void 0===j?void 0:j,R=e.videoZIndexOverride,V=void 0===R?null:R;W()(this,U),this._defaultCaptionOverride=n,this._defaultHeadingOverride=i,this._disableOutstreamVideoBehavior=o,this._dontWaitForImageLoad=u,this._friendlyIframeRender=l,this._is3pAdPreview=f,this._isAmp=p,this._maxUserSyncs=v,this._numCreatives=y,this._openCtUrlInSameWindow=_,this._playButtonUrl=w,this._postBidIpvAutoplay=k,this._referrerOverride=E,this._uniqueBrands=S,this._uniqueCreatives=C,this._unwrappedUnit=N,this._userSyncsDisabled=L,this._verboseCreativeResponseToggle=P,this._videoZIndexOverride=V}return o()(U,[{key:"defaultHeadingOverride",get:function(){return this._defaultHeadingOverride}},{key:"defaultCaptionOverride",get:function(){return this._defaultCaptionOverride}},{key:"disableOutstreamVideoBehavior",get:function(){return this._disableOutstreamVideoBehavior}},{key:"dontWaitForImageLoad",get:function(){return this._dontWaitForImageLoad}},{key:"friendlyIframeRender",get:function(){return this._friendlyIframeRender},set:function(e){return this._friendlyIframeRender=e,this}},{key:"is3pAdPreview",get:function(){return this._is3pAdPreview},set:function(e){return this._is3pAdPreview=e,this}},{key:"isAmp",get:function(){return this._isAmp}},{key:"maxUserSyncs",get:function(){return this._maxUserSyncs}},{key:"numCreatives",get:function(){return this._numCreatives}},{key:"openCtUrlInSameWindow",get:function(){return this._openCtUrlInSameWindow}},{key:"playButtonUrl",get:function(){return this._playButtonUrl}},{key:"postBidIpvAutoplay",get:function(){return this._postBidIpvAutoplay}},{key:"referrerOverride",get:function(){return this._referrerOverride}},{key:"uniqueBrands",get:function(){return this._uniqueBrands}},{key:"uniqueCreatives",get:function(){return this._uniqueCreatives}},{key:"unwrappedUnit",get:function(){return this._unwrappedUnit},set:function(e){this._unwrappedUnit=e}},{key:"userSyncsDisabled",get:function(){return this._userSyncsDisabled}},{key:"verboseCreativeResponseToggle",get:function(){return this._verboseCreativeResponseToggle}},{key:"videoZIndexOverride",get:function(){return this._videoZIndexOverride}}]),U}();n.d(t,"a",function(){return s});var s=function(){function D(e){var t=e.async,n=e.captionCharacterLimit,r=e.headingCharacterLimit,i=e.customOptions,a=void 0===i?{}:i,o=e.defaultCode,s=e.demandEnabled,u=e.dvPlacementId,c=e.id,l=void 0===c?0:c,d=e.iframeBuster,f=e.iframeWrap,h=e.imageHeight,p=e.imageWidth,g=e.invCode,v=e.logoBlackList,m=e.provenTemplate,y=e.publisherId,I=void 0===y?0:y,_=e.replaceParent,A=e.sharingEnabled,w=e.staging,M=e.templateCode,k=e.templates,b=e.timeoutDuration,E=void 0===b?1e4:b,T=e.viewabilityTestingInfo,S=void 0===T?{}:T;W()(this,D),this._async=t,this._captionCharacterLimit=n,this._headingCharacterLimit=r,this._customOptions=new x(C()({},a)),this._defaultCode=o,this._demandEnabled=s,this._dvPlacementId=u,this._id=l,this._iframeBuster=d,this._iframeWrap=f,this._imageHeight=h,this._imageWidth=p,this._invCode=g,this._logoBlackList=v,this._provenTemplate=m,this._publisherId=I,this._replaceParent=_,this._sharingEnabled=A,this._staging=w,this._templateCode=M,this._templates=k,this._timeoutDuration=E,this._viewabilityTestingInfo=S}return o()(D,[{key:"async",get:function(){return this._async}},{key:"captionCharacterLimit",get:function(){return this._captionCharacterLimit}},{key:"headingCharacterLimit",get:function(){return this._headingCharacterLimit}},{key:"customOptions",get:function(){return this._customOptions}},{key:"defaultCode",get:function(){return this._defaultCode}},{key:"demandEnabled",get:function(){return this._demandEnabled}},{key:"dvPlacementId",get:function(){return this._dvPlacementId}},{key:"id",get:function(){return this._id}},{key:"iframeBuster",get:function(){return this._iframeBuster}},{key:"iframeWrap",get:function(){return this._iframeWrap}},{key:"imageHeight",get:function(){return this._imageHeight},set:function(e){this._imageHeight=e}},{key:"imageWidth",get:function(){return this._imageWidth},set:function(e){this._imageWidth=e}},{key:"invCode",get:function(){return this._invCode}},{key:"logoBlackList",get:function(){return this._logoBlackList}},{key:"provenTemplate",get:function(){return this._provenTemplate},set:function(e){return this._provenTemplate=e}},{key:"publisherId",get:function(){return this._publisherId}},{key:"replaceParent",set:function(e){this._replaceParent=e},get:function(){return this._replaceParent}},{key:"sharingEnabled",get:function(){return this._sharingEnabled}},{key:"staging",get:function(){return this._staging}},{key:"templateCode",get:function(){return this._templateCode},set:function(e){this._templateCode=e}},{key:"templates",get:function(){return this._templates}},{key:"timeoutDuration",get:function(){return this._timeoutDuration}},{key:"viewabilityTestingInfo",get:function(){return this._viewabilityTestingInfo}}]),D}()},function(e,t,n){"use strict";n(20),n(51);var m=n(6),y=n(1);t.a=function(e){var o,s,c,a=e.placement,u=e.environment,l=e.creative,d=e.browserInfo,f=e.util,h=e.eventController;return{render:function(e){var t=c=e,n=t.state,r=t.domRefs;if(!n.isBackgroundImage||!l.isImage()&&!l.isCinemagraph()){var i=r.mainImage;r.mainImageCsrDiv||(r.mainImageCsrDiv=v(i.src,a)),(s=r.mainImageCsrDiv).className+=" tl-csr",function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=0;n[r];)t=n[r],e.style.setProperty(t,n[t],"important"),r++}(o=function(e,t,n){var r,i,a,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",u=(5<arguments.length?arguments[5]:void 0).createElement("img");return u.className=o+" tl-dummy-img",u.id=s,u.style.setProperty("display","none","important"),d.isIE?u.onload=function(){setTimeout(p,0)}:c.promises.push(new Promise(function(e){u.onload=function(){p(),e()}})),u.src=(r=e,i=t,a=n,Object(y.a)("//"+r+"/blank?width="+i+"&height="+a)),u}(u.tlImageAddr,a.imageWidth,a.imageHeight,i.className,i.id,document),i.style),i.parentNode.insertBefore(o,i),f.addResizeListener(window,g),f.swapElement(s,i),r.mainImageCsrDiv=s,h.on(m.l,g),h.on(m.k,g)}},createMainImageCsrDiv:v};function p(){h.publish(m.h),g()}function g(){o&&h.publish(m.i,function(){if(!o)return{width:0,height:0};o.style.setProperty("display","","important");var t,n,e=o.ownerDocument.defaultView,r=e?e.getComputedStyle(o):getComputedStyle(o);t=s,n=r,["width","height","float","margin","margin-top","margin-right","margin-bottom","margin-left","max-width","max-height","padding","padding-top","padding-right","padding-bottom","padding-left","border","border-top","border-right","border-bottom","border-left"].forEach(function(e){n[e]&&t.style.setProperty(e,n[e],"important")}),""===n.position||"static"===n.position?t.style.setProperty("position","relative","important"):t.style.setProperty("position",n.position,"important");var i=parseFloat(r.width),a=parseFloat(r.height);return o.style.setProperty("display","none","important"),{width:i,height:a}}())}function v(e,t){var n=document.createElement("div"),r=t.customOptions.is3pAdPreview?"cover":"contain";return n.style.setProperty("width",t.imageWidth+"px","important"),n.style.setProperty("height",t.imageHeight+"px","important"),n.style.setProperty("background-size",r,"important"),n.style.setProperty("background-position","center","important"),n.style.setProperty("background-repeat","no-repeat","important"),n.style.setProperty("background-image","url("+e+")","important"),n}}},function(e,t,n){"use strict";n(49),n(68),n(12),n(27),n(28),n(94),n(17),n(21),n(54);var r=n(7),u=n.n(r),i=(n(32),n(2)),a=n.n(i),o=n(3),c=n.n(o),I=n(1),_=function(){function s(){a()(this,s)}return c()(s,null,[{key:"build",value:function(e,t,n){var r=s.getImageUrlKey(t),i=Object(I.a)(t[r]);i&&(t[r]=i);var a=t[r],o=s.parseSizedImgMacros(e,a);return Object.assign(t,o),s.interpolate(e,u()({},t,{inv_code:n.invCode}))}},{key:"parseSizedImgMacros",value:function(e,a){var o=Object(I.n)(a),t=e.match(/%%%IMAGE_URL_\d+_X_\d+%%%/gi)||[],s={};return t.forEach(function(e){var t,n=e.slice(3,-3),r=n.split("_");if("data"===o.protocol)s[n]=a;else{0<=o.host.indexOf("img.3lift")&&(o.queryKey.width=r[2],o.queryKey.height=r[4]);var i=(t=o.queryKey,Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"));s[n]=Object(I.a)("//"+o.host+o.path+"?"+i)}}),s}},{key:"interpolate",value:function(n,r){var i,a,o=n;return Object.keys(r).forEach(function(e){var t;i=r[e],a=new RegExp("%%%"+e+"%%%","gi"),n.match(a)&&(o=o.replace(a,(t=i,function(){return t})))}),o}},{key:"getImageUrlKey",value:function(e){var t,n,r=Object.keys(e);for(n=0;n<r.length;n+=1)if("image_url"===(t=r[n]).toLowerCase())return t;return null}}]),s}(),A={init:function(e){var t=e.adWrapper,n=e.creative,r=e.analytics,i=e.util,a=n.getVastTag(),o=a&&a.getVastClickThroughUrl(),s=[].slice.call(t.getElementsByClassName("tl-cta"));n.params.clickthrough_url||o?s.forEach(function(e){i.listen(e,"click",function(){r.fireEEE("click_cta")})}):s.forEach(I.q)}};var s=n(8);var w={init:function(e,t){if(!t.params.logo_image_url){var n=e.getElementsByClassName(s.a.TL_CLASS_PREFIX+"logo-img")[0];n&&(n.src=s.a.TINY_IMG_DATA,Object(I.q)(n));var r=e.getElementsByClassName(s.a.TL_CLASS_PREFIX+"logo")[0];r&&Object(I.q)(r)}}};var M={init:function(e,t){var n=e.getElementsByClassName(s.a.TL_CLASS_PREFIX+"sub-headline");if(!t.params.subheadline&&0<n.length){var r=n[0];r&&Object(I.q)(r)}}},k=(t.a=function(e){var n=e.environment,u=e.placement,c=e.creative,l=e.templateCode,d=e.analytics,f=e.util,h=c.getParams(),p=null,g=null;return{render:function(e){g=e.domRefs;var t=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.display="inline",t.className="tlod";var n=f.find(t.children,function(e){return-1===b.indexOf(y(e))});return{adWrapper:function(){var e;e=u.customOptions.unwrappedUnit?(f.filter(t.children,r).forEach(function(e){n.appendChild(e)}),n):t;e.setAttribute("plid",u.id),l.templateId&&e.setAttribute("tlid",l.templateId);return e}(),adWrapperWithDims:n};function r(e){return"script"===y(e)}}(_.build(l.templateDetail.string,h,u));g.adWrapper=t.adWrapper,g.adWrapperWithDims=t.adWrapperWithDims,p||(i=g.adWrapper.getElementsByTagName("img"),p=v(f.filter(i,m))||(n=g.adWrapper.getElementsByTagName("*"),r=Object(I.n)(h.image_url),f.find(n,function(e){var t=e.style&&e.style["background-image"],n=e.hasAttribute&&e.hasAttribute("data-background");return t&&t.match(r.query)||n&&n.match(r.query)})));var n,r,i;"div"===y(g.mainImage=p)&&(e.state.isBackgroundImage=!0);"img"===y(p)&&h.image_srcset_2x&&!p.getAttribute("srcset")&&u.imageWidth<=k&&u.imageHeight<=k&&p.setAttribute("srcset",h.image_srcset_2x);if(w.init(g.adWrapper,c),A.init({adWrapper:g.adWrapper,creative:c,analytics:d,util:f}),M.init(g.adWrapper,c),!h.clickthrough_url)for(var a=g.adWrapper.getElementsByClassName("tl-clickthrough-url"),o=0;o<a.length;o++)a[o].removeAttribute("href"),a[o].removeAttribute("target");var s=g.adWrapper.getElementsByClassName("tl_clickthrough")[0];g.mainClickTarget=s||g.adWrapperWithDims},_bestImage:v};function v(e){return e.sort(function(e,t){var n="none"===s(e),r="none"===s(t),i=!n&&!r;if(n&&r||i){var a=e.width*e.height,o=t.width*t.height;return isNaN(a)?1:isNaN(o)?-1:o-a}if(n)return 1;return-1})[0];function s(e){return e&&e.style&&e.style.display}}function m(e){var t=[h.image_url,n.tlImageAddr];return e.src&&t.some(f.isMatch.bind(null,e.src))}function y(e){var t=e&&e.tagName;return t&&t.toLowerCase&&t.toLowerCase()}},600),b=["iframe","style","meta","script","link","br","hr"]},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(100),i=n(82);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(80),i=n(41);e.exports=function(e){return r(i(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){"use strict";var r=n(22);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(14)("unscopables"),i=Array.prototype;null==i[r]&&n(38)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){"use strict";var r=n(23),i=n(55),a=n(48),o=n(19),s=[].sort,u=[1,2,3];r(r.P+r.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!n(154)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var i=n(11),a=300;function r(e,t){var n=!1,r=null;i.a.listen(e,"mouseenter",function(){n=!0,r=i.a.timeoutWrap(function(){n&&t()},a)}),i.a.listen(e,"mouseleave",function(){clearTimeout(r),n=!1})}function o(e,t){e&&window.open(e,t?"_self":"_blank")}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(2),p=n.n(r),i=n(3),a=n.n(i),o=function(){function h(e){var t=e.adserverHostName,n=e.bundleRoot,r=e.cookieDomain,i=e.dynamicPath,a=e.ebPath,o=e.formats,s=e.numUserSyncPixels,u=e.qaHost,c=e.renderOptionsMap,l=e.tlImageAddr,d=e.tlxHost,f=e.ttjHostName;p()(this,h),this._adserverHostName=t,this._bundleRoot=n,this._cookieDomain=r,this._dynamicPath=i,this._ebPath=a,this._formats=o,this._numUserSyncPixels=s,this._qaHost=u,this._renderOptionsMap=c,this._tlImageAddr=l,this._tlxHost=d,this._ttjHostName=f}return a()(h,[{key:"adserverHostName",get:function(){return this._adserverHostName}},{key:"bundleRoot",get:function(){return this._bundleRoot}},{key:"cookieDomain",get:function(){return this._cookieDomain}},{key:"dynamicPath",get:function(){return this._dynamicPath}},{key:"ebPath",get:function(){return this._ebPath}},{key:"formats",get:function(){return this._formats}},{key:"numUserSyncPixels",get:function(){return this._numUserSyncPixels}},{key:"qaHost",get:function(){return this._qaHost}},{key:"renderOptionsMap",get:function(){return this._renderOptionsMap}},{key:"tlImageAddr",get:function(){return this._tlImageAddr}},{key:"tlxHost",get:function(){return this._tlxHost}},{key:"ttjHostName",get:function(){return this._ttjHostName}}]),h}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n.n(r),a=n(3),o=n.n(a),s=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i()(this,t),this._settings=e}return o()(t,[{key:"vastVendorsLogRate",get:function(){return this._settings.vast_vendors_log_rate||0}},{key:"timeInViewLogRate",get:function(){return this._settings.timeinview_log_rate||0}},{key:"pmdLogRate",get:function(){return this._settings.pmd_log_rate||0}},{key:"benchmarkLogRate",get:function(){return this._settings.benchmark_log_rate||0}}]),t}()},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(7),i=n.n(r),a=(n(51),n(27),n(12),n(17),n(21),n(2)),u=n.n(a),o=n(3),c=n.n(o),s=n(0),l=n.n(s),d=n(6),f=function(){function s(e,t){var i=this,n=e.environment,r=e.bundleStartTime,a=t.eventController,o=t.urlParams;u()(this,s),l()(this,"auctionId","none"),l()(this,"formatName","none"),l()(this,"_log",function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(i._makeLogString(e,n))}),this.environment=n,this.bundleStartTime=r,this.eventController=a,o.debugLog&&this._setupListeners()}return c()(s,[{key:"_setupListeners",value:function(){var n=this;this.eventController.on(d.o,this._log),this.eventController.on(d.d,function(e){var t=e.auctionResponse;n.auctionId=t.settings.additional_data.aid,n.formatName=n._getFormatName(t.settings.format_id)})}},{key:"_getFormatName",value:function(t){var n=this;return Object.keys(this.environment.formats).find(function(e){return n.environment.formats[e]===t})}},{key:"_makeLogString",value:function(e,t){return"["+this.formatName+"]["+this.auctionId+"]["+this._getTimeSinceStartMS()+"ms]["+e+"]"+(0<t.length?JSON.stringify(t):"")}},{key:"_getTimeSinceStartMS",value:function(){return Date.now()-this.bundleStartTime}}],[{key:"warn",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.warn("tl: "+(e.stack||e),i()({},n))}}]),s}()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(93),n(12);var r=n(2),a=n.n(r),i=n(3),o=n.n(i),s=n(0),u=n.n(s),c={start:"AdVideoStart",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete",pause:"AdPaused",resume:"AdPlaying",mute:"AdVolumeChange",unmute:"AdVolumeChange"},l=function(){function g(e){var t=e.auctionID,n=e.creative,r=e.placement,i=e.context;a()(this,g),u()(this,"moatApi",void 0),u()(this,"cachedEvents",[]),this._auctionID=t,this._creative=n,this._placement=r,this._context=i,this._fireCachedEvent=this._fireCachedEvent.bind(this)}return o()(g,[{key:"init",value:function(e,t){this.moatApi||(e.setAttribute("data-auction-id",this._auctionID),e.setAttribute("data-video-context","inline"),this.moatApi=this._getMoatApi(t,e),this.cachedEvents.forEach(this._fireCachedEvent),this.cachedEvents=[])}},{key:"track",value:function(e){var t=this;this.moatApi?setTimeout(function(){return t._fireTracker(e)},0):this.cachedEvents.push(e)}},{key:"_fireCachedEvent",value:function(e){this._fireTracker(e)}},{key:"_fireTracker",value:function(e){var t;c[e]&&(t="mute"===e||"unmute"!==e&&this._context.player.isMuted(),this.moatApi.dispatchEvent({type:c[e],adVolume:t?0:1}))}},{key:"_getMoatApi",value:function(e,t){return function(e,t,n,r,i){var a,o,s=document.createElement("script"),u=[];t={adData:{ids:t,duration:n,url:i},dispatchEvent:function(e){this.sendEvent?(u&&(u.push(e),e=u,u=!1),this.sendEvent(e)):u.push(e)}},n="_moatApi"+Math.floor(1e8*Math.random());try{a=e.ownerDocument,o=a.defaultView||a.parentWindow}catch(e){a=document,o=window}return o[n]=t,s.type="text/javascript",e&&e.insertBefore(s,e.childNodes[0]||null),s.src="https://z.moatads.com/"+r+"/moatvideo.js#"+n,t}(t,this._getMoatIds(),Math.round(e/1e3),"tripleliftvideojs305296359897")}},{key:"_getMoatIds",value:function(){var e=this._creative.params.format_id,t=void 0===e?0:e,n=this._creative.params.additional_data,r=n.tid,i=void 0===r?0:r,a=n.clid,o=void 0===a?0:a,s=n.bid,u=void 0===s?0:s,c=n.bmid,l=void 0===c?0:c,d=this._placement,f=d.id,h=d.publisherId,p=g.makeZParamsString(this._creative,n);return{level1:h.toString(),level2:f.toString(),level3:o.toString(),level4:t.toString(),slicer1:l.toString(),slicer2:u.toString(),zMoatTactic:i.toString(),zMoatPixelParams:p}}}],[{key:"makeZParamsString",value:function(e,t){var n=e.getParams().viewability.moat;return[{key:"aid",val:t.aid||0},{key:"sr",val:n},{key:"uid",val:t.unid||0}].reduce(function(e,t){return e+t.key+":"+t.val+";"},"")}}]),g}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r={VIDEO_CONTROL:0,VIDEO_CLICK_BLOCK:0,VIDEO_LOGO:0,VIDEO_END_FRAME:1,CAROUSEL_CIRCLE:1,CAROUSEL_ARROW:2,ADCHOICES:3,REVEAL_TRIGGER:3,REVEAL_CONTENT:4,REVEAL_CLOSE:5},i=function(e,t){return e.getBaseZIndex()+t}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(24),i=n(18).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var i=n(24);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(50),i=n(18),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(79)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,n){var r=n(40);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(78)("keys"),i=n(62);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(40),a=n(14)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(33).f,i=n(39),a=n(14)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(24),i=n(40),a=n(14)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(108)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var i=n(83),a=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},function(e,t,n){"use strict";var r,i,o=n(66),s=RegExp.prototype.exec,u=String.prototype.replace,a=s,c="lastIndex",l=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r[c]||0!==i[c]),d=void 0!==/()??/.exec("")[1];(l||d)&&(a=function(e){var t,n,r,i,a=this;return d&&(n=new RegExp("^"+a.source+"$(?!\\s)",o.call(a))),l&&(t=a[c]),r=s.call(a,e),l&&r&&(a[c]=a.global?r.index+r[0].length:t),d&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=a},function(e,t,n){"use strict";n(141);var l=n(35),d=n(38),f=n(19),h=n(41),p=n(14),g=n(88),v=p("species"),m=!f(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(n,e,t){var r=p(n),a=!f(function(){var e={};return e[r]=function(){return 7},7!=""[n](e)}),i=a?!f(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[v]=function(){return t}),t[r](""),!e}):void 0;if(!a||!i||"replace"===n&&!m||"split"===n&&!y){var o=/./[r],s=t(h,r,""[n],function(e,t,n,r,i){return t.exec===g?a&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),u=s[0],c=s[1];l(String.prototype,n,u),d(RegExp.prototype,r,2==e?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}}},function(e,t,n){var i=n(23),a=n(50),o=n(19);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",r)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(n,e){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r},function(e,t,n){"use strict";n(152);var r=n(22),i=n(66),a=n(25),o="toString",s=/./[o],u=function(e){n(35)(RegExp.prototype,o,e,!0)};n(19)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):void 0)}):s.name!=o&&u(function(){return s.call(this)})},function(e,t,n){var r=n(18),a=n(113),i=n(33).f,o=n(115).f,s=n(85),u=n(66),c=r.RegExp,l=c,d=c.prototype,f=/a/g,h=/a/g,p=new c(f)!==f;if(n(25)&&(!p||n(19)(function(){return h[n(14)("match")]=!1,c(f)!=f||c(h)==h||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,r=s(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:a(p?new l(r&&!i?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&i?u.call(e):t),n?this:d,c)};for(var g=function(t){t in c||i(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},v=o(l),m=0;v.length>m;)g(v[m++]);(d.constructor=c).prototype=d,n(35)(r,"RegExp",c)}n(107)("RegExp")},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(7),o=n.n(r),i=n(2),d=n.n(i),a=n(3),s=n.n(a),u=n(9),c=n(1),f={click_cta:1,page_flip_left:2,page_flip_right:3,scroll:4,mute:5,unmute:6,expand:7,collapse:8,click_paused:9,transition_up:10,transition_down:11,direction_change:12,reveal_trigger:13},h=2,p=3,l=function(){function l(e,t){var n=e.environment,r=e.pageInfo,i=t.creative,a=t.lifecycleManager,o=t.thirdPartyAnalytics,s=t.firePix,u=t.errorHandler,c=t.util;d()(this,l),this.pageInfo=r,this.environment=n,this.util=c,this.creative=i,this.lifecycleManager=a,this.thirdPartyAnalytics=o,this.firePix=s,this.fireEB=s.fireEB.bind(s),this.errorHandler=u,this.viewedCreativeElements={},this.hasFired={render:!1,play:!1,playAttempt:!1},this.loadCreativeParams()}return s()(l,[{key:"loadCreativeParams",value:function(){this.thirdPartyAnalytics.billOrWait(),this.creativeParams=this.creative.params.additional_data||{},this.creativeParams.caid=this.creative.params.asset_id,this.creativeParams.unid=0,this.rParams=o()({},this.creativeParams,this.util.URIEncodeFields(this.pageInfo.get()),{rr:"creative",fid:this.creative.params.format_id||0,rb:this.creative.params.render_options_bm||0,g:this.creative.params.ghost?1:0});var e=this.environment.formats;this.creative.params.format_id===e.video&&(this.videoLengthMS=1e3*this.creative.params.length_seconds)}},{key:"render",value:function(){this.hasFired.render||(this.fireEB(u.h,this.rParams),this.thirdParty(),this.hasFired.render=!0,this.lifecycleManager.setPhaseAfterRender(this.creative.isAutoplay()))}},{key:"viewable",value:function(){this.fireEB(u.o,this.getEngagementParams()),this.thirdPartyAnalytics.fireViewable()}},{key:"adOnPage",value:function(){this.fireEB(u.a,this.rParams)}},{key:"onePxViewable",value:function(){this.fireEB(u.n,this.getEngagementParams()),this.thirdPartyAnalytics.fireOnePxViewable()}},{key:"elementViewable",value:function(e,t){this.viewedCreativeElements[e]||(this.fireEB(u.q,this.getEngagementParams(e,t)),this.viewedCreativeElements[e]=!0)}},{key:"twoSecondViewable",value:function(){this.fireEB(u.p)}},{key:"playAttempt",value:function(){this.hasFired.playAttempt||(this.hasFired.playAttempt=!0,this.fireEB(u.m,{format_id:this.creative.params.format_id||0,tactic_id:this.creative.params.additional_data.tid||0}))}},{key:"getEngagementParams",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e||this.creative.params.image_id||0;return o()({},this.creativeParams,{cepos:t,ceid:n})}},{key:"mouseover",value:function(e,t){this.fireEB(u.f,this.getEngagementParams(e,t))}},{key:"click",value:function(e,t){this.fireEB(u.b,this.getEngagementParams(e,t)),this.thirdPartyAnalytics.fireClick(t),this.fireEB(u.k,{add:3006})}},{key:"appendThirdPartyJs",value:function(e,t){this.creative.params.ghost||this.thirdPartyAnalytics.appendJsOnPassthru(e,t)}},{key:"duration",value:function(e,t,n,r){var i=l.getVideoLength(t,n);if(!isNaN(e)&&i.value){var a=o()({},this.creativeParams,{duration:e,video_length:i.value,vlt:i.type});0<e&&!this.hasFired.play&&(this.thirdPartyAnalytics.firePlay(),this.hasFired.play=!0,a.start=1,this.hasFired.playAttempt||this.playAttempt(),this.lifecycleManager.setPhaseAfterVideoStart()),Object(c.i)(r)&&.5<=r&&(a.iv=1),this.fireEB(u.l,a)}}},{key:"play",value:function(){this.fireEB(u.k,{add:3007})}},{key:"thirdParty",value:function(){this.creative.params.ghost||this.thirdPartyAnalytics.fireImpression()}},{key:"fireEEE",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.fireEB(u.e,{eid:f[e],unid:this.creativeParams.unid||0,ev:t})}}],[{key:"getVideoLength",value:function(e,t){var n,r;return r=e&&0<e?(n=e,h):(n=t,p),{value:n,type:r}}},{key:"sendAdReadySignal",value:function(){if((t=document.getElementById("tl-app"))&&t.classList.contains("ad-ready-signal")){var e=document.createElement("IFRAME");e.setAttribute("src","js-3lift:ad_ready"),document.documentElement.appendChild(e),e.parentNode.removeChild(e)}var t}}]),l}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=n(8).a.TL_CLASS_PREFIX+"video";t.b={componentZIndex:1e9,type:{vast:1,vpaid:2}}},function(e,t,n){"use strict";var r=n(108)(!0);n(109)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return p});var r=n(0),o=n.n(r),i=(n(42),n(43),n(4)),s="height",u="width",a=function(e,t,n){var r;if(!n||![s,u].includes(n))throw new Error("getResizePct: missing or invalid dimension argument '"+n+"'.");var i=n===s?u:s;if(!t[n]||!e[n])return{height:0,width:0};var a=e[n]/t[n];return r={},o()(r,n,e[n]),o()(r,i,t[i]*a),r},c=function(e,t){return a(e,t,s)},l=function(e,t){return a(e,t,u)},d=function(e,t){var n=e.height,r=e.width,i=t.height,a=t.width;return i<=n&&a<=r},f=function(e,t){var n=c(e,t);return d(e,n)?n:l(e,t)},h=function(e,t){if(!e.height||!t.height)return{x:0,y:0};var n,r,i,a,o=c(e,t);return d(e,o)?(i=e,a=o,{x:Math.ceil((i.width-a.width)/2)||0,y:0}):(r=l(n=e,t),{x:0,y:Math.ceil((n.height-r.height)/2)||0})},p=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if(t&&0<=t.x&&0<=t.y)switch(e){case"NW":i.a.setStyle(n,"left",t.x+r+"px"),i.a.setStyle(n,"top",t.y+r+"px");break;case"SE":i.a.setStyle(n,"right",t.x+r+"px"),i.a.setStyle(n,"bottom",t.y+r+"px");break;case"SW":i.a.setStyle(n,"left",t.x+r+"px"),i.a.setStyle(n,"bottom",t.y+r+"px");break;default:i.a.setStyle(n,"right",t.x+r+"px"),i.a.setStyle(n,"top",t.y+r+"px")}}},function(e,t,n){e.exports=!n(25)&&!n(19)(function(){return 7!=Object.defineProperty(n(76)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var o=n(39),s=n(64),u=n(101)(!1),c=n(81)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,a=[];for(n in r)n!=c&&o(r,n)&&a.push(n);for(;t.length>i;)o(r,n=t[i++])&&(~u(a,n)||a.push(n));return a}},function(e,t,n){var u=n(64),c=n(47),l=n(127);e.exports=function(s){return function(e,t,n){var r,i=u(e),a=c(i.length),o=l(n,a);if(s&&t!=t){for(;o<a;)if((r=i[o++])!=r)return!0}else for(;o<a;o++)if((s||o in i)&&i[o]===t)return s||o||0;return!s&&-1}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(22),a=n(55),o=n(14)("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[o])?t:a(n)}},function(e,t,n){var r,i,a,o=n(46),s=n(132),u=n(105),c=n(76),l=n(18),d=l.process,f=l.setImmediate,h=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,v=0,m={},y="onreadystatechange",I=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},_=function(e){I.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},h=function(e){delete m[e]},"process"==n(40)(d)?r=function(e){d.nextTick(o(I,e,1))}:g&&g.now?r=function(e){g.now(o(I,e,1))}:p?(a=(i=new p).port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),I.call(e)}}:function(e){setTimeout(o(I,e,1),0)}),e.exports={set:f,clear:h}},function(e,t,n){var r=n(18).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var i=n(55);function r(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}e.exports.f=function(e){return new r(e)}},function(e,t,n){"use strict";var r=n(18),i=n(33),a=n(25),o=n(14)("species");e.exports=function(e){var t=r[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var u=n(65),c=n(41);e.exports=function(s){return function(e,t){var n,r,i=String(c(e)),a=u(t),o=i.length;return a<0||o<=a?s?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===o||(r=i.charCodeAt(a+1))<56320||57343<r?s?i.charAt(a):n:s?i.slice(a,a+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){"use strict";var I=n(79),_=n(23),A=n(35),w=n(38),M=n(57),k=n(143),b=n(84),E=n(145),T=n(14)("iterator"),S=!([].keys&&"next"in[].keys()),D="values",C=function(){return this};e.exports=function(e,t,n,r,i,a,o){k(n,t,r);var s,u,c,l=function(e){if(!S&&e in p)return p[e];switch(e){case"keys":case D:return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",f=i==D,h=!1,p=e.prototype,g=p[T]||p["@@iterator"]||i&&p[i],v=g||l(i),m=i?f?l("entries"):v:void 0,y="Array"==t&&p.entries||g;if(y&&(c=E(y.call(new e)))!==Object.prototype&&c.next&&(b(c,d,!0),I||"function"==typeof c[T]||w(c,T,C)),f&&g&&g.name!==D&&(h=!0,v=function(){return g.call(this)}),I&&!o||!S&&!h&&p[T]||w(p,T,v),M[t]=v,M[d]=C,i)if(s={values:f?v:l(D),keys:a?v:l("keys"),entries:m},o)for(u in s)u in p||A(p,u,s[u]);else _(_.P+_.F*(S||h),t,s);return s}},function(e,t,r){var i=r(22),a=r(144),o=r(82),s=r(81)("IE_PROTO"),u=function(){},c="prototype",l=function(){var e,t=r(76)("iframe"),n=o.length;for(t.style.display="none",r(105).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][o[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[c]=i(e),n=new u,u[c]=null,n[s]=e):n=l(),void 0===t?n:a(n,t)}},function(e,t,n){var I=n(46),_=n(80),A=n(48),w=n(47),r=n(148);e.exports=function(d,e){var f=1==d,h=2==d,p=3==d,g=4==d,v=6==d,m=5==d||v,y=e||r;return function(e,t,n){for(var r,i,a=A(e),o=_(a),s=I(t,n,3),u=w(o.length),c=0,l=f?y(e,u):h?y(e,0):void 0;c<u;c++)if((m||c in o)&&(i=s(r=o[c],c,a),d))if(f)l[c]=i;else if(i)switch(d){case 3:return!0;case 5:return r;case 6:return c;case 2:l.push(r)}else if(g)return!1;return v?-1:p||g?g:l}}},function(e,t,n){var r=n(23),i=n(19),o=n(41),s=/"/g,a=function(e,t,n,r){var i=String(o(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),a+">"+i+"</"+t+">"};e.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t,n){var a=n(24),o=n(158).set;e.exports=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&a(r)&&o&&o(e,r),e}},function(e,t,n){var r=n(102),i=n(75),a=n(64),o=n(77),s=n(39),u=n(99),c=Object.getOwnPropertyDescriptor;t.f=n(25)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(100),i=n(82).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(62)("meta"),i=n(24),a=n(39),o=n(33).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(19)(function(){return u(Object.preventExtensions({}))}),l=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!a(e,r)&&l(e),e}}},function(e,t,n){"use strict";n(68),n(27);var r=n(10),a=n.n(r),i=(n(56),n(16)),o=n.n(i),s=n(2),l=n.n(s),u=n(3),d=n.n(u),f=(n(12),n(42),n(43),function(){function c(){l()(this,c)}return d()(c,null,[{key:"isXml",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e.includes("<VAST")&&e.includes("<Ad")}},{key:"getAdAspectRatio",value:function(e){return parseFloat((e.width/e.height).toFixed(2))}},{key:"sortByAspectRatio",value:function(e,t,n){var r=c.getAdAspectRatio(n),i=function(e){return r===e},a=c.parsedAspectRatio(e),o=c.parsedAspectRatio(t),s=i(a),u=i(o);return s&&u?c.sortByClosestDims(e,t,n):s&&!u?-1:u&&!s?1:c.sortByAspectRatioDistance(e,t,n)}},{key:"sortByAspectRatioDistance",value:function(e,t,n){var r=c.getAdAspectRatio(n),i=c.parsedAspectRatio(e),a=c.parsedAspectRatio(t),o=function(e){return Math.abs(e-r)},s=o(i),u=o(a);return s<u?-1:u<s?1:c.sortByClosestDims(e,t,n)}},{key:"sortMediaBySize",value:function(e,t,n){var r={width:n.imageWidth,height:n.imageHeight},i=c.dimsLessThanPlacement(e,r),a=c.dimsLessThanPlacement(t,r);return!i&&a?-1:i&&!a?1:c.sortByAspectRatio(e,t,r)}},{key:"orderBestMediaFiles",value:function(e){var n=[],r=[],i=[],a=[],t=function(e,t){return"desc"===t?e.sort(function(e,t){return t.getAttribute("bitrate")-e.getAttribute("bitrate")}):e.sort(function(e,t){return e.getAttribute("bitrate")-t.getAttribute("bitrate")})};return e.forEach(function(e){var t=h(e,"bitrate");t?400<=t&&t<1200?n.push(e):t<1200?r.push(e):a.push(e):i.push(e)}),t(r,"desc"),t(a),[].concat(n,r,a,i)}},{key:"dimsLessThanPlacement",value:function(e,t){var n=h(e,"height");return h(e,"width")<t.width||n<t.height}},{key:"parsedAspectRatio",value:function(e){var t=h(e,"height"),n=h(e,"width");return t?parseFloat((n/t).toFixed(2)):0}},{key:"distanceByDims",value:function(e,t){return{width:Math.abs(h(e,"width")-t.width),height:Math.abs(h(e,"height")-t.height)}}},{key:"sortByClosestDims",value:function(e,t,n){var r=c.distanceByDims(e,n),i=c.distanceByDims(t,n),a=r.width<i.width&&r.height<i.height,o=r.width>i.width&&r.height>i.height;return a?-1:o?1:c.sortByBestDeskTopBitRate(e,t)}},{key:"sortByBestDeskTopBitRate",value:function(e,t){var n=h(e,"bitrate"),r=h(t,"bitrate");if(n&&r){var i=400<=n&&n<1200,a=400<=r&&r<1200;return i&&!a?-1:!i&&a?1:r-n}return n?1:-1}},{key:"byBestBitrateMobile",value:function(e,t,n){var r=function(e){return Math.abs(h(e,"bitrate")-750)},i=h(e,"bitrate"),a=h(t,"bitrate");return i===a?c.sortMediaBySize(e,t,n):!i&&a?1:!a&&i?-1:r(e)-r(t)}}]),c}());function h(e,t){return parseInt(e.getAttribute(t),10)}var p=n(1),c=n(7),g=n.n(c),v=n(13),m=n.n(v),y=n(0),I=n.n(y),_=(n(20),n(5)),A=function(){function n(e){var t;if(l()(this,n),!window.DOMParser)throw new _.a("DOMParser API unavailable");t=new DOMParser,this.xmlDocument=t.parseFromString(e,"application/xml"),this._validateVastXml()}return d()(n,[{key:"querySelector",value:function(e){return this.xmlDocument.querySelector(e)}},{key:"querySelectorAll",value:function(e){return this.xmlDocument.querySelectorAll(e)}},{key:"_validateVastXml",value:function(){var e=this;if(!this.querySelector("VAST"))throw new _.a("Missing VAST element");if(!this.querySelector("Ad"))throw new _.a("Missing Ad element");if(this.querySelector("Wrapper"))!function(){if(!e.querySelector("VASTAdTagURI"))throw new _.a("Missing VASTAdTagURI element")}();else{if(!this.querySelector("InLine"))throw new _.a("Missing InLine and Wrapper element");!function(){if(!e.querySelector("Creative"))throw new _.a("Missing Creative element(s)");if(!e.querySelector("Linear"))throw new _.a("Missing Linear element(s)")}()}}}]),n}(),w=n(6),M=n(34),k=n(37),b=new Promise(function(){}),E=function(){function r(e){var t=e.eventController,n=e.firePix;l()(this,r),I()(this,"timeoutID",void 0),I()(this,"vastWrapperBreadcrumbs",[]),I()(this,"adSystems",[]),I()(this,"impressionTrackers",[]),I()(this,"assortedTrackers",[]),I()(this,"videoClickTrackers",[]),I()(this,"expandMacros",void 0),this.eventController=t,this.firePix=n}var t,n,i;return d()(r,[{key:"getVastXml",value:(i=o()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.expandMacros=function(e){return t.expandFirstPartyMacros(t.params.additional_data.tid,t.params.asset_id,e)},n=t.params.vast_xml,e.abrupt("return",f.isXml(n)?this._parseVastContent(n):this._fetchVast(n));case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"_fetchVast",value:(n=o()(a.a.mark(function e(t){var n,r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.expandMacros(t),this.vastWrapperBreadcrumbs.push({url:t,expandedUrl:n}),e.prev=2,this._startRedirectTimeout(),e.next=6,Object(p.b)(n,"GET");case 6:return r=e.sent,this._clearRedirectTimeout(),i=r.target.responseText,e.abrupt("return",this._parseVastContent(i));case 12:return e.prev=12,e.t0=e.catch(2),this._clearRedirectTimeout(),"Wrapper redirect failed. Possible causes include 404s and CORS errors",this._vastWrapperError("Wrapper redirect failed. Possible causes include 404s and CORS errors"),e.abrupt("return",b);case 18:case"end":return e.stop()}},e,this,[[2,12]])})),function(e){return n.apply(this,arguments)})},{key:"_parseVastContent",value:(t=o()(a.a.mark(function e(t){var n,r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new _.a("Missing vastXml");case 2:e.prev=2,n=new A(t),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),this.eventController.publish(w.H,M.a.VAST_ERROR_VAST_SCHEMA,{message:e.t0.message}),e.abrupt("return",b);case 10:if(e.prev=10,r=n.querySelector("Ad InLine"),i=n.querySelector("Ad Wrapper"),this._collectImpressionTrackers(r||i),this._collectVendor(r||i),!i){e.next=29;break}if(this._collectCreativeTrackers(i),this._hasExceededRedirectLimit())return e.abrupt("return",b);e.next=19;break;case 19:return e.prev=19,e.next=22,this._fetchVast(i.querySelector("VASTAdTagURI").textContent);case 22:return e.abrupt("return",e.sent);case 25:e.prev=25,e.t1=e.catch(19),this._clearRedirectTimeout(),this.eventController.publish(w.H,M.a.VAST_WRAPPER_ERROR);case 29:if(r)return e.abrupt("return",n);e.next=31;break;case 31:e.next=36;break;case 33:e.prev=33,e.t2=e.catch(10),this.eventController.publish(w.H,M.a.VAST_WRAPPER_ERROR);case 36:return e.abrupt("return",b);case 37:case"end":return e.stop()}},e,this,[[2,6],[10,33],[19,25]])})),function(e){return t.apply(this,arguments)})},{key:"getImpressionTrackers",value:function(e){var t=[].slice.call(e.querySelectorAll("Impression"));return[].concat(m()(t),m()(this.impressionTrackers))}},{key:"getVideoClickTrackers",value:function(e){var t=[].slice.call(e.querySelectorAll("VideoClicks ClickTracking"));return[].concat(m()(t),m()(this.videoClickTrackers))}},{key:"getAssortedTrackers",value:function(e){var t=[].slice.call(e.querySelectorAll("TrackingEvents Tracking"));return[].concat(m()(t),m()(this.assortedTrackers))}},{key:"_collectVendor",value:function(e){this.adSystems.push(e.AdSystem||"un")}},{key:"getBreadcrumbs",value:function(){return this.vastWrapperBreadcrumbs}},{key:"_collectImpressionTrackers",value:function(e){var t=[].slice.call(e.querySelectorAll("Impression"));t.length&&(this.impressionTrackers=[].concat(m()(this.impressionTrackers),m()(t)))}},{key:"_collectCreativeTrackers",value:function(e){var t=[].slice.call(e.querySelectorAll("TrackingEvents Tracking")),n=[].slice.call(e.querySelectorAll("VideoClicks ClickTracking"));this.assortedTrackers=[].concat(m()(this.assortedTrackers),m()(t)),this.videoClickTrackers=[].concat(m()(this.videoClickTrackers),m()(n))}},{key:"_startRedirectTimeout",value:function(){var e=this;this.timeoutID=setTimeout(function(){e.eventController.publish(w.H,M.a.VAST_WRAPPER_TIMEOUT)},5e3)}},{key:"_clearRedirectTimeout",value:function(){clearTimeout(this.timeoutID)}},{key:"_hasExceededRedirectLimit",value:function(){return 10<=this.getBreadcrumbs().length&&(this.eventController.publish(w.H,M.a.VAST_TOO_MANY_REDIRECTS),!0)}},{key:"_vastWrapperError",value:function(e){this.eventController.publish(w.H,M.a.VAST_WRAPPER_ERROR,{message:e,diagnosticContext:g()({},this.vastWrapperBreadcrumbs)})}},{key:"logVendors",value:function(){this.firePix.fireDyn({long1:k.d,string2:this.adSystems.join(",")})}}]),r}();n(59),n(70),n(71),n(44),n(52),n(58);n.d(t,"a",function(){return S});var T={"video/mp4":!0},S=function(){function c(e,t){var n=e.placement,r=e.environment.renderOptionsMap,i=e.settings,a=t.creative,o=t.firePix,s=t.util,u=t.eventController;l()(this,c),this.placement=n,this.renderOptionsMap=r,this.settings=i,this.creativeObj=a,this.util=s,this.vastParser=new E({eventController:u,firePix:o}),this.vastXml=null,this.InLine=null,this.Creative=null}var e;return d()(c,[{key:"getVastXml",value:(e=o()(a.a.mark(function e(){var t=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vastParser.getVastXml(this.creativeObj);case 2:this.vastXml=e.sent,Object(p.u)(this.settings.vastVendorsLogRate,function(){return t.vastParser.logVendors()})(),this.InLine=this.vastXml.querySelector("InLine"),this.Creative=this.InLine.querySelector("Creative");case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"getAdParameters",value:function(){var e=this.Creative.querySelector("AdParameters");return e?e.textContent:null}},{key:"getAdSystem",value:function(){var e=this.InLine.querySelector("AdSystem");return e?e.textContent:null}},{key:"getDurationMS",value:function(){var e=this.Creative.querySelector("Duration")||{};return this.util.timeToMS(e.textContent)}},{key:"getVastClickThrough",value:function(){return this.Creative.querySelector("VideoClicks ClickThrough")}},{key:"getVastClickThroughUrl",value:function(){var e=this.getVastClickThrough();return e?e.textContent:null}},{key:"getMediaFiles",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.Creative;return[].slice.call(e.querySelectorAll("MediaFile"))}},{key:"getImpressionTrackers",value:function(){return this.vastParser.getImpressionTrackers(this.Creative.querySelector("Linear"))}},{key:"getVideoClickTrackers",value:function(){return this.vastParser.getVideoClickTrackers(this.Creative.querySelector("Linear"))}},{key:"getAssortedTrackers",value:function(){return this.vastParser.getAssortedTrackers(this.Creative.querySelector("Linear"))}},{key:"getVastWrapperBreadcrumbs",value:function(){return this.vastParser.getBreadcrumbs()}},{key:"useNextVpaidCreative",value:function(){var e=this._getNextVpaidCreative();return e&&(this.Creative=e),e}},{key:"_getNextVpaidCreative",value:function(){var t=this,e=[].slice.call(this.InLine.querySelectorAll("Creative")),n=e.indexOf(this.Creative);return e.slice(n+1).find(function(e){return 0<t._getJavascriptVpaid(e).length})}},{key:"is360",value:function(){var e=this.creativeObj.params.render_options_bm,t=this.renderOptionsMap;return Object(p.d)(e,t["360_video"])}},{key:"isDAR360",value:function(){return this.is360()&&this._doesPlacementSupportDAR()&&"disabled"!==this.Creative.querySelector("Linear").getAttribute("DAR360")}},{key:"_doesPlacementSupportDAR",value:function(){var e=this.placement.imageWidth/this.placement.imageHeight;return e>=DAR_AR_MIN&&e<=DAR_AR_MAX}},{key:"chooseBestMediaFiles",value:function(){var n=this,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).useBitrate,t=void 0!==e&&e,r=this.isVpaid()?this._getJavascriptVpaid():this._getSupportedMediaFiles();if(!r.length)return this.getMediaFiles();if(t)return r.sort(function(e,t){return f.byBestBitrateMobile(e,t,n.placement)}).slice(0,1);var i=r.slice().sort(function(e,t){return f.sortMediaBySize(e,t,n.placement)});return f.orderBestMediaFiles(i)}},{key:"_getJavascriptVpaid",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.Creative;return this.getMediaFiles(e).filter(function(e){var t="VPAID"===e.getAttribute("apiFramework"),n=e.getAttribute("type");return t&&("application/x-javascript"===n||"application/javascript"===n)})}},{key:"_getSupportedMediaFiles",value:function(){return this.getMediaFiles().filter(function(e){return T[e.getAttribute("type")]})}},{key:"isVpaid",value:function(){var e=[].slice.call(this.Creative.querySelectorAll("MediaFile"));return!!e.length&&e.every(function(e){return"VPAID"===e.getAttribute("apiFramework")})}}]),c}()},function(t,e,n){var r=n(15),i=n(92),a=n(146),o=n(147);function s(e){var n="function"==typeof Map?new Map:void 0;return t.exports=s=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(e)}t.exports=s},function(e,t,n){var o=n(159);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){var a=n(22);e.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&a(i.call(t)),e}}},function(e,t,n){var r=n(57),i=n(14)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){var r=n(83),i=n(14)("iterator"),a=n(57);e.exports=n(50).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var a=n(14)("iterator"),o=!1;try{var r=[7][a]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r=[7],i=r[a]();i.next=function(){return{done:n=!0}},r[a]=function(){return i},e(r)}catch(e){}return n}},function(e,t,n){e.exports=n(166)},function(e,t,n){e.exports=n(78)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var f=n(63),h=n(128),p=n(102),g=n(48),v=n(80),i=Object.assign;e.exports=!i||n(19)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=g(e),r=arguments.length,i=1,a=h.f,o=p.f;i<r;)for(var s,u=v(arguments[i++]),c=a?f(u).concat(a(u)):f(u),l=c.length,d=0;d<l;)o.call(u,s=c[d++])&&(n[s]=u[s]);return n}:i},function(e,t,n){var r=n(65),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(56),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var f=n(46),h=n(120),p=n(121),g=n(22),v=n(47),m=n(122),y={},I={};(t=e.exports=function(e,t,n,r,i){var a,o,s,u,c=i?function(){return e}:m(e),l=f(n,r,t?2:1),d=0;if("function"!=typeof c)throw TypeError(e+" is not iterable!");if(p(c)){for(a=v(e.length);d<a;d++)if((u=t?l(g(o=e[d])[0],o[1]):l(e[d]))===y||u===I)return u}else for(s=c.call(e);!(o=s.next()).done;)if((u=h(s,l,o.value,t))===y||u===I)return u}).BREAK=y,t.RETURN=I},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var s=n(18),u=n(104).set,c=s.MutationObserver||s.WebKitMutationObserver,l=s.process,d=s.Promise,f="process"==n(40)(l);e.exports=function(){var n,r,i,e=function(){var e,t;for(f&&(e=l.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?i():r=void 0,e}}r=void 0,e&&e.enter()};if(f)i=function(){l.nextTick(e)};else if(!c||s.navigator&&s.navigator.standalone)if(d&&d.resolve){var t=d.resolve(void 0);i=function(){t.then(e)}}else i=function(){u.call(s,e)};else{var a=!0,o=document.createTextNode("");new c(e).observe(o,{characterData:!0}),i=function(){o.data=a=!a}}return function(e){var t={fn:e,next:void 0};r&&(r.next=t),n||(n=t,i()),r=t}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(18).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(22),i=n(24),a=n(106);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(35);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var r=n(88);n(23)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(110),i=n(75),a=n(84),o={};n(38)(o,n(14)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var o=n(33),s=n(22),u=n(63);e.exports=n(25)?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,a=0;a<i;)o.f(e,n=r[a++],t[n]);return e}},function(e,t,n){var r=n(39),i=n(48),a=n(81)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(r,e,t){var a=t(92);function i(e,t,n){return!function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?r.exports=i=function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&a(i,n.prototype),i}:r.exports=i=Reflect.construct,i.apply(null,arguments)}r.exports=i},function(e,t,n){var r=n(149);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(24),i=n(150),a=n(14)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(40);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(15);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){n(25)&&"g"!=/./g.flags&&n(33).f(RegExp.prototype,"flags",{configurable:!0,get:n(66)})},function(e,t,n){"use strict";n(112)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,n){"use strict";var r=n(19);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(85),i=n(41);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(14)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){"use strict";n(112)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,i){var n=i(24),r=i(22),a=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=i(46)(Function.call,i(114).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:a}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}},function(e,t,n){"use strict";var r=n(18),i=n(39),a=n(40),o=n(113),l=n(77),s=n(19),u=n(115).f,c=n(114).f,d=n(33).f,f=n(161).trim,h="Number",p=r[h],g=p,v=p.prototype,m=a(n(110)(v))==h,y="trim"in String.prototype,I=function(e){var t=l(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,a=(t=y?t.trim():f(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var o,s=t.slice(2),u=0,c=s.length;u<c;u++)if((o=s.charCodeAt(u))<48||i<o)return NaN;return parseInt(s,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(m?s(function(){v.valueOf.call(n)}):a(n)!=h)?o(new g(I(t)),n,p):I(t)};for(var _,A=n(25)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;A.length>w;w++)i(g,_=A[w])&&!i(p,_)&&d(p,_,c(g,_));(p.prototype=v).constructor=p,n(35)(r,h,p)}},function(e,t,n){var o=n(23),r=n(41),s=n(19),u=n(162),i="["+u+"]",a=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),l=function(e,t,n){var r={},i=s(function(){return!!u[e]()||""!=""[e]()}),a=r[e]=i?t(d):u[e];n&&(r[n]=a),o(o.P+o.F*i,"String",r)},d=l.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(23),i=n(111)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(67)(a)},function(e,t,n){var r=n(24),i=n(116).onFreeze;n(90)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(e,t,n){var r=n(24),i=n(116).onFreeze;n(90)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(e,t,l){"use strict";l.r(t);var n=l(7),ne=l.n(n),r=(l(32),l(10)),re=l.n(r),i=(l(56),l(16)),ie=l.n(i),ae=l(95),a=l(2),g=l.n(a),o=l(3),h=l.n(o),s=l(29),u=l.n(s),c=l(15),d=l.n(c),f=l(36),p=l.n(f),v=l(30),m=l.n(v),y=(l(20),l(0)),I=l.n(y),oe=(l(12),l(17),l(21),l(6)),se=l(5),_=function(){function e(){g()(this,e),this.allRenderedAssets=e.allRenderedAssets}return h()(e,[{key:"dispatchIfUnique",value:function(e,t,n,r){this.allRenderedAssets[n]=this.allRenderedAssets[n]||[],this._areAssetsUnique(n,r)?(t(),this._trackAssets(n,r)):e.serve("redundant_asset")}},{key:"_areAssetsUnique",value:function(t,e){var n=this;return e.every(function(e){return n._isAssetUnique(t,e)})}},{key:"_isAssetUnique",value:function(e,t){return!this.allRenderedAssets[e][t]}},{key:"_trackAssets",value:function(t,e){var n=this;e.forEach(function(e){return n._trackAsset(t,e)})}},{key:"_trackAsset",value:function(e,t){this.allRenderedAssets[e][t]=!0}}]),e}();I()(_,"allRenderedAssets",{});var ue=l(59),ce=l(26),le=l(58),de=l(52),A=(l(51),function e(t){if("SCRIPT"===t.tagName&&"tl-third-party"!==t.className)t.parentNode.replaceChild(function(e){var t=document.createElement("SCRIPT");t.text=e.innerHTML;for(var n=e.attributes.length-1;0<=n;n--)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}(t),t);else for(var n=0,r=t.childNodes;n<r.length;)e(r[n++]);return t}),fe=function(){function t(e){g()(this,t),this.document=e.document,this.window=e.window}return h()(t,[{key:"wrapAd",value:function(e){var t=this.document.createElement("DIV");return t.style.display="inline",t.className="tlod",t.innerHTML=e,t}}],[{key:"insertAd",value:function(e,t,n){if(!t||!t.parentNode)throw new se.a("insertAd failed: hook element not on dom");n&&"head"===t.parentNode.tagName.toLowerCase()?t.ownerDocument.body.appendChild(e):t.parentNode.insertBefore(e,t),A(e)}},{key:"serveDefaultFrame",value:function(e,t){if(!t)throw new se.a("serveDefaultFrame: tried to write default code but doc is unavailable");t.open(),t.write(e),t.close()}}]),t}(),w=l(9),he=function(){function u(e,t){var n=e.hookFinder,r=e.docInfo,i=e.defaultCode,a=e.pageInfo,o=t.firePix,s=t.util;g()(this,u),this.hookFinder=n,this.docInfo=r,this.defaultCode=i,this.pageInfo=a,this.firePix=o,this.util=s,this.userSync=null,this.hasDefaulted=!1,this.adRendered=!1}return h()(u,[{key:"serve",value:function(e,t){if(!this.hasDefaulted&&!this.adRendered){this.hasDefaulted=!0,u.renderDefault(this.defaultCode,this.hookFinder,this.docInfo);var n=ne()({},this.util.URIEncodeFields(this.pageInfo.get()),{rr:e});t&&this.firePix.setAuctionId(t),this.firePix.fireEB(w.h,n),this.userSync&&this.userSync.doSyncIfAllDone()}}},{key:"setUserSync",value:function(e){this.userSync=e}}],[{key:"renderDefault",value:function(e,t,n){if(e)if(n.window!==top)fe.serveDefaultFrame(e,n.window.document);else{var r=new fe(n).wrapAd(e);fe.insertAd(r,t.getHook())}}}]),u}(),M=function(){function c(e,t){var n=e.placement,r=e.auctionIframe,i=t.eventController,a=t.serveDefault,o=t.firePix,s=t.errorDecorator,u=t.errorHandler;g()(this,c),this.placement=n,this.auctionIFrameWindow=r.contentWindow,this.eventController=i,this.defaultServer=a,this.firePix=o,this.errorDecorator=s,this.errorHandler=u,this.isUnitGenerated=!1}return h()(c,[{key:"getCreativeJSON2",value:function(e,t){this.passthru(e.pixel,t)}},{key:"get3PUnit",value:function(e,t,n,r,i,a){this.passthru(t,a)}},{key:"getExtUnit",value:function(e,t){this.passthru(t)}},{key:"passthru",value:function(e,t){this.eventController.publish(oe.w,e,t)}},{key:"dynamicCreativeRender",value:function(e){if(!e)throw new se.a("Missing auction response payload");if(!this.isUnitGenerated){this.isUnitGenerated=!0;var t=e.settings.additional_data.aid;this._verboseCreativeResponseLog(t,"dynamicCreativeRender",e),this.eventController.publish(oe.c,{id:t}),this.eventController.publish(oe.d,{auctionResponse:e})}}},{key:"serveConditional",value:function(e,t){if(this.placement.customOptions.uniqueBrands||this.placement.customOptions.uniqueCreatives){var n=new _,r=Object.keys(t)[0],i=t[r];n.dispatchIfUnique(this.defaultServer,e,r,i)}else{this.errorHandler.fireError("serveConditional response received with no uniqueness constraints",this.errorHandler.ERROR),this.defaultServer.adRendered=!0}}},{key:"serveDefault",value:function(e,t){var n=this.placement.defaultCode;this._verboseCreativeResponseLog(t,"serveDefault",n),this.defaultServer.serve(e,t)}},{key:"registerAuctionListeners",value:function(){var e={get_unit_2:this.wrap(this.getCreativeJSON2),get_3p_unit:this.wrap(this.get3PUnit),get_ext_unit:this.wrap(this.getExtUnit),dynamicCreativeRender:this.wrap(this.dynamicCreativeRender),serveViewable:this.wrap(this.serveConditional),serveConditional:this.wrap(this.serveConditional),serveDefault:this.wrap(this.serveDefault)};Object.assign(this.auctionIFrameWindow,e)}},{key:"wrap",value:function(e){var r=this,i=this.errorDecorator(e);return function(){r.eventController.publish(oe.b);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(r,t)}}},{key:"_verboseCreativeResponseLog",value:function(e,t,n){var r=this.placement.customOptions.verboseCreativeResponseToggle;if(void 0!==r&&Math.random()<r){var i=I()({},t,n),a=JSON.stringify(i),o={string1:e,string2:"verboseCreativeResponseToggle",string3:a};a.length<=1024&&this.firePix.fireDyn(o)}}}]),c}(),k=function(){function n(e,t){g()(this,n),this.config=e,this.dependencies=t,this.eventController=t.eventController}return h()(n,[{key:"getCreative",value:function(){var e=this;return this.initGetCreativeJSON(),new Promise(function(n){e.eventController.once(oe.d,function(e){var t=e.auctionResponse;n(t)})})}},{key:"initGetCreativeJSON",value:function(){new M(this.config,this.dependencies).registerAuctionListeners()}}]),n}(),pe=(l(93),l(1)),b=function(){function f(e,t){var n=e.placement,r=e.environment,i=e.specifiedTacticId,a=e.isAdServing,o=e.rev,s=e.gdpr,u=e.docInfo,c=t.pageInfo,l=t.util,d=t.urlParams;g()(this,f),this.placement=n,this.environment=r,this.urlParams=d,this.pageInfo=c,this.docInfo=u,this.util=l,this.isAdServing=a,this.rev=o,this.specifiedTacticId=i,this.gdpr=s}return h()(f,[{key:"buildAuctionPath",value:function(){var e=this.getAuctionHostName(this.isAdServing&&this.specifiedTacticId);return this.buildDefaultAuctionPath(e)}},{key:"getAuctionHostName",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.placement.customOptions,n=t.uniqueCreatives,r=t.uniqueBrands,i=this.environment,a=i.tlxStagingRate,o=i.tlxHost;return a&&Math.random()<a&&(o="staging-"+o),this.urlParams.forceBidUrl?Object(pe.a)("//"+this.environment.qaHost+"/qa"):this.urlParams.tlBidUrl?Object(pe.a)("//"+this.urlParams.tlBidUrl):e?Object(pe.a)("//"+o+"/web/adserving"):r||n?Object(pe.a)("//"+o+"/vbas/auction"):Object(pe.a)("//"+o+"/web/auction")}},{key:"buildDefaultAuctionPath",value:function(e){var t,n=this.placement.customOptions.numCreatives,r=void 0===n?1:n,i=["inv_code="+encodeURIComponent(this.placement.invCode),"referrer="+encodeURIComponent(this.pageInfo.get().ref),"rev="+encodeURIComponent(this.rev),"fe="+encodeURIComponent(this.util.isFlashEnabled()?"1":"0"),"ft="+encodeURIComponent(this.pageInfo.getFrameType()),"cb="+Object(pe.o)(10)];return this.isAdServing&&this.specifiedTacticId&&(i.push("tid="+encodeURIComponent(this.specifiedTacticId)),i.push("n="+encodeURIComponent(r.toString()))),this.placement.demandEnabled||this.urlParams.debugFlag||i.push("dd=1"),this.needsAqp()&&i.push(f.getAqpParam()),(null===(t=this.gdpr)||void 0===t?void 0:t.cmpData)&&(i.push("gdpr="+encodeURIComponent(this.gdpr.cmpData.gdprApplies)),null!==this.gdpr.cmpData.consentString&&i.push("cmp_cs="+encodeURIComponent(this.gdpr.cmpData.consentString))),e+"?"+i.join("&")}},{key:"needsAqp",value:function(){return-1<this.placement.invCode.indexOf("msn_infeed_")&&0===this.docInfo.document.getElementsByClassName("xnetvidplayer").length}}],[{key:"getAqpParam",value:function(){return"aqp="+encodeURIComponent(JSON.stringify({_id:{$oid:"0"},format_target:{action:"include",items:[{id:8}]}}))}}]),f}(),E=function(){function d(e,t){var n=e.placement,r=e.docInfo,i=e.browserInfo,a=e.isAdServing,o=e.auctionIframe,s=t.serveDefault,u=t.errorHandler,c=t.eventController,l=t.util;g()(this,d),this.placement=n,this.docInfo=r,this.browserInfo=i,this.isAdServing=a,this.auctionIframe=o,this.serveDefault=s,this.errorHandler=u,this.eventController=c,this.util=l}return h()(d,[{key:"onError",value:function(e,t){this.errorHandler&&this.errorHandler.fireError(e,t)}},{key:"fireAuction",value:function(e){var t=this,n=this.auctionIframe;try{var r=n.contentWindow.document.createElement("SCRIPT");r.src=e,n.contentWindow.document.body.appendChild(r)}catch(e){this.onError(e,this.errorHandler.ERROR)}var i=this.placement.timeoutDuration,a=this.util.timeoutWrap(function(){t.serveDefault.serve("auction_timeout")},i);this.eventController.once(oe.b,function(){clearTimeout(a)})}},{key:"run",value:function(r){var i=this;this.criteoGuard=!1;var e=function(){i.criteoGuard||(i.criteoGuard=!0,i.fireAuction(r))};if(this.browserInfo.isSafari&&!this.isAdServing){var t=this.auctionIframe.contentWindow,n=t.document,a="tl_criteo_rtus";t[a]=function(e){if(!i.criteoGuard){i.criteoGuard=!0;var t=i.rtusTimeout;if(t&&(i.docInfo.window.clearTimeout(t),i.rtusTimeout=!1),e&&"OK"===e.status){var n=encodeURIComponent(e.userid);i.fireAuction(r+"&criteo_id="+n)}else i.fireAuction(r)}};var o=n.createElement("SCRIPT");n.body.appendChild(o),o.onerror=e,o.src="//gum.criteo.com/sync?c=157&r=2&j="+a,this.rtusTimeout=setTimeout(e,150)}else this.fireAuction(r)}}]),d}(),T=function(e){function a(e,t){var n;g()(this,a);var r=t.hookFinder.getDtjTacticId();return e.isAdServing=!!r,e.specifiedTacticId=t.urlParams.tlDynId||r,(n=u()(this,d()(a).call(this,e,t))).config=e,n.dependencies=t,n.placement=e.placement,n.errorHandler=t.errorHandler,n.serveDefault=t.serveDefault,n.util=t.util,n}return m()(a,e),h()(a,[{key:"getCreative",value:function(){var e=this,t=1.5*this.placement.timeoutDuration;this.util.timeoutWrap(function(){e.serveDefault.serve("global_timeout")},t);var n=p()(d()(a.prototype),"getCreative",this).call(this),r=this.initAuctionRunner(),i=this.initAuctionPathBuilder();return r.run(i.buildAuctionPath()),n}},{key:"initAuctionRunner",value:function(){return new E(this.config,this.dependencies)}},{key:"initAuctionPathBuilder",value:function(){return new b(this.config,this.dependencies)}}]),a}(k),S=function(e){function r(e,t){var n;return g()(this,r),(n=u()(this,d()(r).call(this,e,t))).auctionIframe=e.auctionIframe,n.headerBiddingAuctionResponse=e.headerBiddingAuctionResponse,n}return m()(r,e),h()(r,[{key:"getCreative",value:function(){var e=p()(d()(r.prototype),"getCreative",this).call(this);return this.auctionIframe.contentWindow.dynamicCreativeRender(this.headerBiddingAuctionResponse),e}}]),r}(k),ge=function e(t){var n=t.scriptWindow;g()(this,e),this.window=n,this.document=n.document;try{this.topDocument=top.document,this.topWindow=top,this.canAccessTop=!0}catch(e){this.topDocument=window.document,this.topWindow=window,this.canAccessTop=!1}},ve=l(70),me=(l(153),l(11)),D=0,C=1,x=2,N=3,O=4,L=5,j=6,P=7,R=[D,P,C,O,j,N],V=[D,C,P],U=[D,P,C,O,j,L,N],W=[L,x,O,j,N],ye=function(){function r(e){var t=e.docInfo,n=e.placement;g()(this,r),this.docInfo=t,this.placement=n,this.cachedApis={},this.cachedPageInfo=null,this.cachedFrameType=null}return h()(r,[{key:"get",value:function(){return this.cachedPageInfo||(this.docInfo.canAccessTop?(t="undefined"===(t=Object(pe.n)(this.docInfo.topDocument.referrer).host)?"":t,e=this.docInfo.topDocument.URL):(t="can't access top document",this.placement.customOptions.isAmp?e=this.getAmpReferrer():(e=this.docInfo.document.referrer,(n=this.placement.customOptions.referrerOverride)&&0<=n.indexOf(Object(pe.n)(e).host)&&(e=document.URL))),e=me.a.truncateUrl(e,600),this.cachedPageInfo={domain:this.docInfo.document.domain,ref:e,pr:t||"un"}),this.cachedPageInfo;var e,t,n}},{key:"getAmpReferrer",value:function(){var t,e=Object(pe.n)(this.docInfo.document.URL);try{t=JSON.parse(e.anchor)}catch(e){t={}}var n=Object(pe.n)(this.docInfo.document.referrer),r=ne()({},e.queryKey,n.queryKey,t);return r.url?decodeURIComponent(r.url):r._context&&r._context.canonicalUrl?r._context.canonicalUrl:r.top?decodeURIComponent(r.top):r.loc?decodeURIComponent(r.loc):r.iu?decodeURIComponent(r.iu):this.docInfo.document.referrer}},{key:"getFrameType",value:function(){return null!==this.cachedFrameType||(this.cachedFrameType=this._determineFrameType()),this.cachedFrameType}},{key:"_determineFrameType",value:function(){return this.getAmpApi()?O:this.getMraidApi()?j:this.getSafeFrameApi()?L:Object(pe.h)()?N:this.docInfo.canAccessTop?this.docInfo.document===this.docInfo.topWindow.document?D:this.placement.customOptions.friendlyIframeRender?P:C:x}},{key:"isNoFrame",value:function(){return this.getFrameType()===D}},{key:"isUnfriendlyFrame",value:function(){return this.getFrameType()===x}},{key:"isFriendlyFrame",value:function(){return this.getFrameType()===C}},{key:"isFriendlyFrameRender",value:function(){return this.getFrameType()===P}},{key:"isClientAware",value:function(){return-1<R.indexOf(this.getFrameType())}},{key:"isPositionAware",value:function(){return-1<V.indexOf(this.getFrameType())}},{key:"isViewabilityAware",value:function(){return-1<U.indexOf(this.getFrameType())}},{key:"isSandboxed",value:function(){return-1<W.indexOf(this.getFrameType())}},{key:"isAmp",value:function(){return this.getFrameType()===O}},{key:"isWebview",value:function(){return this.getFrameType()===N}},{key:"isMraid",value:function(){return this.getFrameType()===j}},{key:"isSafeFrame",value:function(){return this.getFrameType()===L}},{key:"getSafeFrameApi",value:function(){var e=this._getApi("$sf");return e&&e.ext?e:null}},{key:"getAmpApi",value:function(){var e=this._getApi("context");return e&&e.observeIntersection?e:null}},{key:"getMraidApi",value:function(){return this._getApi("mraid")}},{key:"_getApi",value:function(e){return void 0===this.cachedApis[e]&&(this.cachedApis[e]=this._findApi(e,this.docInfo.window)),this.cachedApis[e]}},{key:"_findApi",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(5<=n)return null;try{if(t[e])return t[e]}catch(e){return null}return this._findApi(e,t.parent,n+1)}}]),r}(),B=(l(54),l(27),l(4)),Ie=function(){function o(e,t){var n=e.placement,r=e.environment,i=e.docInfo,a=t.errorHandler;g()(this,o),this.placement=n,this.docInfo=i,this.environment=r,this.errorHandler=a,this.tlScript=null,this.cachedHook=null}return h()(o,[{key:"initTLScript",value:function(){this.tlScript=this._getTLScript()}},{key:"getHook",value:function(){return null===this.cachedHook&&(this.cachedHook=this._findHook()),this.cachedHook}},{key:"_findHook",value:function(){var e=this.tlScript;try{var t=this.docInfo.window;t!==top&&t.frameElement&&!this.placement.customOptions.friendlyIframeRender&&(e=o.getTopFrame(t))}catch(e){}for(var n=+this.placement.replaceParent;n;)e=e.parentNode,n--;if(!e)throw new se.a("could not find hook");return e}},{key:"_getTLScript",value:function(){var t=this,e=[].slice.call(this.docInfo.document.getElementsByTagName("script")).find(function(e){return t._isValidTLScript(e)});return!!e&&(e.setAttribute("tl_id",Math.round(1e5*Math.random())),e)}},{key:"_isValidTLScript",value:function(e){var t=e.getAttribute("tl_id");return o.scriptSrcContains(e,this.environment.ttjHostName)&&o.scriptSrcContains(e,this.placement.invCode)&&!t}},{key:"getAuctionResponsePseudoId",value:function(){return!!this.tlScript&&this.tlScript.getAttribute("data-auction-response-id")}},{key:"getHeaderBiddingAuctionResponse",value:function(){var e=this.getAuctionResponsePseudoId();return this.docInfo.window["tl_auction_response_"+e]||null}},{key:"getTagTemplateId",value:function(){return!!this.tlScript&&this.tlScript.getAttribute("data-template-id")}},{key:"_getScriptPath",value:function(){var e=this.getScriptSrc();return Object(pe.n)(e).path}},{key:"getDtjTacticId",value:function(){var e=this._getScriptPath().split("/");return"dtj"===e[1]?e[3]:void 0}},{key:"getScriptSrc",value:function(){return this.tlScript?this.tlScript.getAttribute("data-src")||this.tlScript.src:""}},{key:"hideHook",value:function(){var e=this.getHook();B.a.setStyle(e,"display","none"),B.a.setStyle(e,"visibility","hidden"),B.a.setStyle(e,"width","0px"),B.a.setStyle(e,"height","0px")}}],[{key:"getTopFrame",value:function(e){for(var t,n=e;n!==top;)try{n.frameElement&&(t=n.frameElement),n=n.parent}catch(e){break}return t}},{key:"scriptSrcContains",value:function(e,t){if(!t)return!1;var n=e.src,r=e.getAttribute("data-src"),i=n&&-1<n.indexOf(t),a=r&&-1<r.indexOf(t);return!(!i&&!a)}}]),o}(),_e=(l(42),l(43),function(){function p(e){var t=e.topWindow;g()(this,p);var n=t.document,r=[n.URL,n.referrer,window.document.URL,window.document.referrer].find(p.isTripleLiftTest);if(this.debugFlag=!!r,r){var i=Object(pe.n)(r).queryKey,a=i.tl_image_id,o=i.tl_template_id,s=i.tl_dyn_id,u=i.tl_scu_id,c=i.tl_preview_id,l=i.tp_preview_id,d=i.tl_debug_log,f=i.view_type,h=i.tlBidUrl;this.tlImageId=a,this.tlTemplateId=o,this.debugLog=!!d,this.tlBidUrl=!!h&&decodeURIComponent(h),this.forceBidUrl=!(!c&&!l),this.adPreview=!!(c||l||f),this.thirdPartyAdPreview=!!l,this.tlDynId=s||u}}return h()(p,null,[{key:"isTripleLiftTest",value:function(e){return"string"==typeof e&&e.toLowerCase().includes("triplelifttest=true")}}]),p}()),F=l(31),z=l.n(F),H="consentData",Ae=function(){function s(e){g()(this,s),I()(this,"cmpTimeout",void 0),this.win=e,this._gdprCmpData=null}var i,e;return h()(s,[{key:"getCMPData",value:(e=ie()(re.a.mark(function e(){var t;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"function"==typeof this.win.__cmp)return e.next=4,this.callCmp("__cmp","getConsentData",null,H);e.next=7;break;case 4:t=e.sent,e.next=14;break;case 7:if("function"==typeof this.win.__tcfapi)return e.next=10,this.callCmp("__tcfapi","getInAppTCData",2,"tcString");e.next=13;break;case 10:t=e.sent,e.next=14;break;case 13:throw new se.a("There is no available CMP api",ce.a.LOG);case 14:return this._gdprCmpData={gdprApplies:!!t.gdprApplies,consentString:t[H]||t.tcString},e.abrupt("return",this._gdprCmpData);case 18:throw e.prev=18,e.t0=e.catch(0),new se.a("There was an error in the publisher CMP API: "+(e.t0.message?e.t0.message:e.t0),ce.a.LOG);case 21:return e.prev=21,clearTimeout(this.cmpTimeout),e.finish(21);case 24:case"end":return e.stop()}},e,this,[[0,18,21,24]])})),function(){return e.apply(this,arguments)})},{key:"callCmp",value:(i=ie()(re.a.mark(function e(n,r,i,a){var o=this;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,t){o.cmpTimeout=setTimeout(function(){return s.handleTimeout(t,r)},1e3),o.win[n](r,i,s.handleCmpResponse(e,a,r))}));case 1:case"end":return e.stop()}},e)})),function(e,t,n,r){return i.apply(this,arguments)})},{key:"cmpData",get:function(){return this._gdprCmpData}}],[{key:"handleCmpResponse",value:function(t,n,r){return function(e){if(!s.isCmpDataValid(e,n))throw new se.a("CMP "+r+" command did not return a valid consent object",ce.a.LOG);return t(e)}}},{key:"handleTimeout",value:function(e,t){e(new se.a("CMP "+t+" timeout",ce.a.LOG))}},{key:"isCmpDataValid",value:function(e,t){return"object"===z()(e)&&"boolean"==typeof e.gdprApplies&&("string"==typeof e[t]||null===e[t])}}]),s}(),we=function(){function n(e,t){g()(this,n),this.config=e,this.dependencies=t}return h()(n,[{key:"create",value:function(e){return e?new S(ne()({headerBiddingAuctionResponse:e},this.config),this.dependencies):new T(this.config,this.dependencies)}}]),n}(),Me=(l(49),function(){function t(e){g()(this,t),this.userAgent=e}return h()(t,[{key:"isMobile",value:function(){return this.userAgent.match(/blackberry|ipod|iphone|ipad|android/i)}},{key:"isIos",value:function(){return/ipod|iphone|ipad/i.test(this.userAgent)}},{key:"isSafari",value:function(){return/safari/i.test(this.userAgent)&&!/chrome|chromium|crios/i.test(this.userAgent)}},{key:"isIpad",value:function(){return this.userAgent.match(/ipad/i)}},{key:"isIE",value:function(){return/msie|trident\//i.test(this.userAgent)}},{key:"isEdge",value:function(){return/Edg/.test(this.userAgent)}},{key:"checkIsMicrosoftBrowser",value:function(){return this.isIE()||this.isEdge()}},{key:"checkIsFacebook",value:function(){return-1<this.userAgent.indexOf("FBAV/")}},{key:"getBrowserInfo",value:function(){var e=this.isMobile(),t=this.isIpad();return{isMobile:e,isSafari:!!this.isSafari(),isIpad:t,isIos:!!this.isIos(),isMicrosoftBrowser:this.checkIsMicrosoftBrowser(),isIE:this.isIE(),isSmallScreen:e||t,isFacebook:this.checkIsFacebook()}}}]),t}()),ke=l(8),be=function(){function e(){g()(this,e),I()(this,"_auctionIframe",null)}return h()(e,null,[{key:"get",value:function(){return this._auctionIframe}},{key:"create",value:function(e){var t=e.document;this._auctionIframe=Object(pe.f)(t.createElement("IFRAME")),t.body||t.documentElement.appendChild(t.createElement("body")),t.body.appendChild(this._auctionIframe);var n=this._auctionIframe.contentWindow.document;return n.open(),n.write("<html><head></head><body></body></html>"),n.close(),this._auctionIframe}}]),e}(),Q=(l(28),function(t){return"object"===z()(t)&&Y.every(function(e){return z()(t[e.field])===e.type&&t[e.field].length>=e.minLength})}),Y=[{field:"heading",type:"string",minLength:1},{field:"caption",type:"string",minLength:1},{field:"image_url",type:"string",minLength:1},{field:"clickthrough_url",type:"string",minLength:1}];var G=function(){function t(e){g()(this,t),this.creativeComponents=e.ad.creativeComponents}return h()(t,[{key:"getAllComponents",value:function(){var e=this;return{getHeading:function(){return e.getFirst({assetType:"text",componentType:"heading"})},getCaption:function(){return e.getFirst({assetType:"text",componentType:"caption"})},getImageUrl:function(){return e.getFirst({assetType:"image",componentType:"baseImage"})},getLogoUrl:function(){return e.getFirst({assetType:"image",componentType:"brandLogo"})},getClickthroughUrl:function(){return e.getFirst({assetType:"URI",componentType:"clickThroughURL"})},getJsTrackers:function(){return e.getAll({assetType:"javascript"})},getImpPixels:function(){return e.getAll({assetType:"image",componentType:"impressionTracker"})},getClickPixels:function(){return e.getAll({assetType:"image",componentType:"clickTracker"})},getViewPixels:function(){return e.getAll({assetType:"image",componentType:"viewabilityTracker"})},getPrivacyUrl:function(){return null}}}},{key:"getFirst",value:function(e){return this.getAll(e)[0]}},{key:"getAll",value:function(e){return this.creativeComponents.filter(t.byObjFields.bind(null,e)).map(t.componentToSource)}}],[{key:"byObjFields",value:function(t,n){return Object.keys(t).every(function(e){return n[e]===t[e]})}},{key:"componentToSource",value:function(e){return e.assets[0].source}}]),t}(),Z=(l(157),function(){function t(e){g()(this,t),this.assets=e.assets,this.eventTrackers=e.eventtrackers||[],this.link=e.link?e.link.url:null,this.privacy=e.privacy||null}return h()(t,[{key:"getAllComponents",value:function(){var t=this;return{getHeading:function(){return t.assets.filter(function(e){return e.title&&e.title.text})[0].title.text},getCaption:function(){return t.assets.filter(function(e){return e.data&&2===e.data.type})[0].data.value},getImageUrl:function(){return t.assets.filter(function(e){return e.img&&3===e.img.type})[0].img.url},getLogoUrl:function(){var e=t.assets.filter(function(e){return e.img&&1===e.img.type});return 0<e.length?e[0].img.url:null},getClickthroughUrl:function(){var e=t.assets.filter(function(e){return e.link&&e.link.url});return 0<e.length?e[0].link.url:t.link},getJsTrackers:function(){return t.eventTrackers.filter(function(e){return 2===e.method}).map(function(e){return e.url})},getImpPixels:function(){return t.eventTrackers.filter(function(e){return 1===e.method&&1===e.event}).map(function(e){return e.url})},getViewPixels:function(){return t.eventTrackers.filter(function(e){return 1===e.method&&[2,3,4].includes(e.event)}).map(function(e){return e.url})},getClickPixels:function(){return[]},getPrivacyUrl:function(){var e=t.assets.filter(function(e){return e.data&&e.data.privacy});return e.length?e[0].data.privacy:t.privacy}}}}]),t}()),q=function(e,t){if(ke.a.DCO_PROTOCOLS.DYNAMIC_CONTENT===t)return new G(e);if(ke.a.DCO_PROTOCOLS.NATIVE_ADS!==t)throw new se.a("invalid dco_protocol");return new Z(e)};var J=function(e,t){var n=q(e,t).getAllComponents(),r={};try{if(r.asset_id=-1,r.image_id=-1,r.img_server_params="",r.heading=n.getHeading(),r.caption=n.getCaption(),r.image_url=n.getImageUrl(),r.logo_image_url=n.getLogoUrl(),r.clickthrough_url=n.getClickthroughUrl(),r.impression_pixels=n.getImpPixels(),r.clickthrough_pixels=n.getClickPixels(),r.viewability_pixels=n.getViewPixels(),r.js_trackers=n.getJsTrackers(),r.privacy_url=n.getPrivacyUrl(),!Q(r))throw new se.a("invalid asset")}catch(e){throw new se.a("translation error. "+(e.message||e))}return r};var X=0,K=1,$=["impression_pixels","clickthrough_pixels","viewability_pixels","js_trackers"],Ee=function(){function s(e,t){var n=this,r=e.assets,i=e.settings,a=e.frame,o=t.errorHandler;g()(this,s),I()(this,"mapPayloadToAssetAndMergeTrackers",function(e){return J(e,n.settings.dco_protocol)}),I()(this,"errAndFallBackOrDefault",function(e){var t=e.toString();if(Q(n.assets&&n.assets[0]))return n.errorHandler.fireError(t,n.errorHandler.WARNING,{dco_tag_url:n.settings.dco_tag_url}),{asset:n.assets[0],isFallback:K};throw n.errorHandler.fireError(t,n.errorHandler.ERROR,{dco_tag_url:n.settings.dco_tag_url}),new se.a("getOptimizedAsset failed")}),this.assets=r,this.frame=a,this.settings=i,this.errorHandler=o}return h()(s,[{key:"getOptimizedAsset",value:function(){var t=this;return this.fetchDcoPayload().then(function(e){return t.mapPayloadToAssetAndMergeTrackers(e)}).then(function(e){return t._mergeOrRemoveTrackerFields(e)}).catch(function(e){return t.errAndFallBackOrDefault(e)})}},{key:"getTagUrl",value:function(){return this.settings.dco_tag_url.replace("${dcomacro}","doDco")}},{key:"fetchDcoPayload",value:function(){var n=this.frame.contentWindow,r=n.document,i=r.createElement("script"),a=this.getTagUrl();return new Promise(function(e,t){n.doDco=e,n.onerror=function(e){return t(new se.a("dco jsonp error: "+e))},i.onerror=function(){return t(new se.a("dco script failed to load"))},setTimeout(function(){t(new se.a("dco timeout"))},1e4),i.src=a,r.body.appendChild(i)})}},{key:"_mergeOrRemoveTrackerFields",value:function(e){var r=this,i=ne()({},e);return $.forEach(function(e){var t=Array.isArray(i[e]),n=Array.isArray(r.settings[e]);t&&n?(i[e]=i[e].concat(r.settings[e]),delete r.settings[e]):n&&delete i[e]}),{asset:i,isFallback:X}}}]),s}(),Te=l(72),Se=function(){function i(e,t){var n=e.auctionFrameWindow,r=t.errorDecorator;g()(this,i),this.auctionFrameWindow=n,this.decorator=r,this.thirdPartyMessage=!1}return h()(i,[{key:"handleRocketfuel",value:function(e){var t=this.auctionFrameWindow.document.createElement("iframe");Object(pe.f)(t),t.src="about:blank",this.auctionFrameWindow.document.body.appendChild(t);var n=t.contentWindow.document;return n.open(),n.write(e),n.close(),t}},{key:"newWriter",value:function(e){var t,n,r,i,a,o,s,u,c;try{if(0<e.indexOf("rfitag"))return void this.handleRocketfuel(e);if((o=this.auctionFrameWindow.document.createElement("div")).style.display="none",this.auctionFrameWindow.document.body.appendChild(o),o.innerHTML=e,0===(c=(s=o.getElementsByTagName("script")).length))return;for(a=this.auctionFrameWindow.document.createElement("iframe"),Object(pe.f)(a),a.src="about:blank",a.className="tl_ext_iframe",this.auctionFrameWindow.document.body.appendChild(a),(n=a.contentWindow.document).open(),n.write('<script>window.addEventListener("message",function(msg){window.parent.postMessage(msg.data,"*");});<\/script>'),u=0;u<c;u++)s[u].text.length?n.write("<script>"+s[u].text+"<\/script>"):(r=(t=Object(pe.n)(s[u].src)).queryKey,"ad.turn.com"===t.host&&r.cid&&(i=r.cid,a.setAttribute("data-ext-creative-id",i)),n.write('<script type="text/javascript" src="'+s[u].src+'"><\/script>'));n.close()}catch(e){throw new se.a("newWriter failed: "+e.message)}}},{key:"onmessage",value:function(e){if(e&&e.data&&e.data.match&&(e.data.match("get_3p")||e.data.match("get_ext")||e.data.match("get_unit_2"))){if(this.thirdPartyMessage)return;this.thirdPartyMessage=!0;var t=this.auctionFrameWindow.document.createElement("SCRIPT");t.textContent=e.data,this.auctionFrameWindow.document.body.appendChild(t)}}},{key:"setListeners",value:function(){this.auctionFrameWindow.addEventListener("message",this.decorator(this.onmessage.bind(this))),this.auctionFrameWindow.document.write=function(){}}}]),i}(),De=function(){function o(){g()(this,o)}return h()(o,null,[{key:"needsBusting",value:function(e,t){return!!e.iframeBuster&&!function(e){var t;try{t=e&&e==top}catch(e){t=!1}return t}(t)}},{key:"bust",value:function(e,t){var n=Object(pe.n)(e.referrer),r=encodeURIComponent(e.URL),i=e.createElement("iframe");if(i.src=Object(pe.a)("//"+n.host+"/doubleclick/TLIframe.html?docsrc="+r+"&script_src="+encodeURIComponent(t)),i.width=0,i.height=0,i.style.display="none",!o._hasBody(e)){var a=e.createElement("body");e.firstElementChild.appendChild(a)}e.body.appendChild(i)}},{key:"_hasBody",value:function(e){return!!e.body}}]),o}(),Ce=function(){function e(){g()(this,e);try{jQuery(),this.jQueryPresent=!0}catch(e){this.jQueryPresent=!1}}return h()(e,[{key:"layout",value:function(e){this.jQueryPresent&&(function(){var n=jQuery(".masonry");n.length||(n=null);n&&1<n.length&&(n=jQuery(n[0]));n||jQuery.each(jQuery.find("*"),function(e,t){jQuery.data(t,"masonry")&&(n=jQuery(t))});n&&n.data("masonry")&&(n.masonry("reloadItems"),n.masonry())}(),function(e){if(jQuery.fn.isotope){var t=jQuery(".isotope");if(1!==t.length)for(var n=e;n.parentNode;)jQuery.data(jQuery(n.parentNode),"isotope")?t=jQuery(n.parentNode):n=n.parentNode;t.data("isotope")||(t=!1),t&&t.isotope("reloadItems").isotope({sortBy:"original-order"})}}(e))}}]),e}();var ee="post_render",xe=function(){function r(e){var t=this,n=e.eventController;g()(this,r),I()(this,"phase","auction"),n.on(oe.d,function(){return t.setPhaseAfterAuction()})}return h()(r,[{key:"setPhaseAfterAuction",value:function(){this.phase="render"}},{key:"setPhaseAfterRender",value:function(e){this.phase=e?"video":ee}},{key:"setPhaseAfterVideoStart",value:function(){this.phase=ee}},{key:"getPhase",value:function(){return this.phase}}]),r}(),te=-1;function Ne(e){var t=e.adWrapperWithDims,n=e.mainContent,r=e.positionService,i=e.pageInfo,a=e.bundleStartTime,o=e.firePix,s=e.errorHandler,u=r.getElDims(t),c=r.getElDims(n),l={ad_w:u.width,ad_h:u.height,img_w:c.width,img_h:c.height,render_time:Date.now()-a,ft:i.getFrameType(),plid:i.placement.id};if(i.isClientAware()){var d=r.getClientDims();l.client_w=d.width,l.client_h=d.height}else l.client_w=te,l.client_h=te;if(i.isPositionAware()){var f=function(e,t,n,r){var i,a;try{var o=e.ownerDocument,s=o.defaultView.top.document.body,u=n.getBoundingRect(s);i=t.top-u.top,a=t.left-u.left}catch(e){r.fireError("could not access top when getting ad position",r.WARNING),a=i=te}return{top:i,left:a}}(t,r.getBoundingRect(t),r,s);l.pos_left=f.left,l.pos_top=f.top}else l.pos_left=te,l.pos_top=te;o.fireEB(w.g,Object(pe.t)(l))}var Oe=l(71),Le=(l(94),l(119)),je=l.n(Le),Pe=(l(160),"tl-img-src-place-holder"),Re="tl-img-srcset-place-holder",Ve=function(){function i(e){g()(this,i),this._errorHandler=e,this._templateDetail={string:""},this._chosenTemplate=null,this._templateWrapEl=null,this._templateId=0}return h()(i,[{key:"parse",value:function(e){var t=i.makeTemplateWrapEl(i.getTransformedMacroSrcAttrs(e)),n=i.markElements(t),r=n.innerHTML;me.a.removeAllChildren(n),this._templateDetail.string=i.getInterpolatedMacroSrcAttrs(r),this._templateWrapEl=t,this._chosenTemplate=n}},{key:"getAltTemplate",value:function(e,t,n,r){var i=+r||+n||+t;if(isNaN(Number(i)))return{};if(!e)return this.errNoAltTemplates(),{};var a=me.a.find(e,function(e){return e.id===i});if(!a)return this.errTemplateNotFound(i),{};var o=a.id,s=je()(a,["id"]);return this._templateId=o,s}},{key:"errNoAltTemplates",value:function(){this._errorHandler.fireError("templateId specified but no templates found on placement. Default templateCode used.",this._errorHandler.WARNING)}},{key:"errTemplateNotFound",value:function(e){var t="Cannot find templateCode with id = "+e+" in templateList. Default templateCode used";this._errorHandler.fireError(t,this._errorHandler.WARNING)}},{key:"templateDetail",get:function(){return this._templateDetail}},{key:"chosenTemplate",get:function(){return this._chosenTemplate}},{key:"templateWrapEl",get:function(){return this._templateWrapEl}},{key:"templateId",get:function(){return this._templateId}}],[{key:"markElements",value:function(n){return n&&1===n.nodeType&&(i.isClickThroughEl(n)&&n.classList.add(ke.a.TL_CLASS_PREFIX+"clickthrough-url"),i.isLogoEl(n)&&n.classList.add(ke.a.TL_CLASS_PREFIX+"logo-img"),i.isSubHeadlineEl(n)&&n.classList.add(ke.a.TL_CLASS_PREFIX+"sub-headline"),[].forEach.call(n.childNodes,function(t){3===t.nodeType&&ke.a.TEXT_FIELDS.forEach(function(e){-1<t.textContent.toLowerCase().indexOf("%%%"+e+"%%%")&&n.classList.add(""+ke.a.TL_CLASS_PREFIX+e)}),i.markElements(t)})),n}},{key:"isClickThroughEl",value:function(e){if(!e||!e.tagName||!e.getAttribute("href"))return!1;var t=e.tagName.toLowerCase(),n=e.getAttribute("href").toLowerCase();return"a"===t&&-1<n.indexOf("%%%clickthrough_url%%%")}},{key:"isLogoEl",value:function(e){if(!e||!e.tagName||!e.getAttribute(Pe))return!1;var t=e.tagName.toLowerCase(),n=e.getAttribute(Pe).toLowerCase();return"img"===t&&-1<n.indexOf("%%%logo_image_url%%%")}},{key:"isSubHeadlineEl",value:function(e){return e&&e.tagName&&e.innerHTML&&"%%%subheadline%%%"===e.innerHTML.toLowerCase()}},{key:"getTransformedMacroSrcAttrs",value:function(e){return e.replace(/src([="'\s]+%%%)/gi,Pe+"$1").replace(/srcset([="'\s]+%%%)/gi,Re+"$1")}},{key:"getInterpolatedMacroSrcAttrs",value:function(e){var t=new RegExp(Pe,"g"),n=new RegExp(Re,"g");return e.replace(t,"src").replace(n,"srcset")}},{key:"makeTemplateWrapEl",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{key:"hasMacro",value:function(e){return-1!==e.indexOf("%%%")}}]),i}(),Ue=l(73),We={moat:1,ias:2,dv:3,fk:4,apx:5,pix:6,adl:7},Be=function(){function d(e,t){var n=e.docInfo,r=e.placement,i=e.mainImage,a=e.adDIV,o=e.tacticDetails,s=void 0===o?{}:o,u=e.formatId,c=t.creative,l=t.firePix;g()(this,d),this.docInfo=n,this.placement=r,this.mainImage=i,this.adDIV=a,this.viewabilityElement=a,this.creative=c,this.tacticDetails=s,this.formatId=u,this.firePix=l}return h()(d,[{key:"appendTags",value:function(e){for(var t=this.addViewabilityTestJS(e,window),n=this.getIntegrations(),r=0;r<t.length;r++){for(var i=t[r],a=!1,o=0;o<n.length;o++)if(i&&i.match&&i.match(n[o].regex)){n[o].action(i),a=!0;break}a||this.defaultAction(i)}}},{key:"getViewabilityID",value:function(){return this.viewabilityID||(this.viewabilityID=this.viewabilityElement.id||"tltpvid_"+Math.round(1e5*Math.random()),this.viewabilityElement.id=this.viewabilityID),this.viewabilityID}},{key:"getViewabilityClass",value:function(){if(!this.viewabilityClass){if(this.viewabilityClass="tltpvclass_"+Math.round(1e5*Math.random()),!this.viewabilityElement||!this.viewabilityElement.classList)throw new se.a("getViewabilityClass failed: invalid viewabilityElement",this.errorHandler.WARNING);this.viewabilityElement.classList.add(this.viewabilityClass)}return this.viewabilityClass}},{key:"appendScriptVE",value:function(e){var t=this.create3pScript(),n=this.mainImage;if(n.nextSibling)n.parentNode.insertBefore(t,n.nextSibling);else{var r=this.docInfo.document.createElement("IMG");r.style.display="none",n.parentNode.insertBefore(r,n),r.parentNode.insertBefore(n,r),r.parentNode.insertBefore(t,n.nextSibling),r.parentNode.removeChild(r)}t.src=e}},{key:"appendScriptAd",value:function(e){var t=this.create3pScript();this.adDIV.appendChild(t),t.src=e}},{key:"defaultAction",value:function(e){var t=this.create3pScript();this.viewabilityElement.appendChild(t),t.src=e}},{key:"create3pScript",value:function(){var e=this.docInfo.document.createElement("SCRIPT");return e.className="tl-third-party",e}},{key:"interpolateDimensions",value:function(e){var t=this.mainImage.getBoundingClientRect();return e.replace("[WIDTH]",t.width).replace("[HEIGHT]",t.height).replace("[CONTAINER_ID]",this.getViewabilityID())}},{key:"getIntegrations",value:function(){var r=this;return[{regex:/cdn\.adnxs/,action:function(e){r.appendScriptAd(e.replace("%native_dom_id%",r.getViewabilityID()))}},{regex:/cdn\.doubleverify/,action:function(e){var t=(e.match("findclass")?e:e+"&findclass=1").replace(/INSERT_SUPPLIER_ID/,"TripleLift").replace("[PLACEMENT_ID]",r.placement.id).replace("[DV_PLACEMENT_ID]",r.placement.dvPlacementId).replace(/INSERT_BTREG/,r.getViewabilityClass()).replace(/INSERT_BTADSRV/,r.getViewabilityClass());r.appendScriptAd(t)}},{regex:/adsafeprotected/,action:function(e){var t=r.tacticDetails,n=void 0!==r.tacticDetails.advid;r.appendScriptVE(e.replace("$!{AD_ID}",r.placement.id).replace("$!{ADVERTISER_ID}",n?t.advid:"0").replace("$!{INSERTION_ORDER_ID}",n?t.ioid:t.bmid))}},{regex:/voicefive/,action:function(e){var t=e.replace("[PLACEMENT_ID]",r.placement.placementID).replace("[TLVIEW_ID]",r.getViewabilityID());r.appendScriptVE(t)}},{regex:/js\.moatads/,action:function(e){var t=e.replace("_PUBLISHER_",r.placement.publisherId).replace("_PLACEMENT_ID_",r.placement.id).replace("_CREATIVE_",r.tacticDetails.clid).replace("_FORMAT_",r.formatId).replace("[TACTIC]",r.tacticDetails.tid).replace("[DSP]",r.tacticDetails.bmid).replace("[BRAND]",r.tacticDetails.brid).replace("[MOAT_Z_PARAMS]",Ue.a.makeZParamsString(r.creative,r.tacticDetails));t=t.match(/\[TLVIEW_ID]/)?t.replace("[TLVIEW_ID]",r.getViewabilityID()):t.concat("&tlview_id=",r.getViewabilityID()),r.appendScriptAd(t)}},{regex:/z\.moatads/,action:function(e){var t=e.replace("_PUBLISHER_",r.placement.publisherId).replace("_PLACEMENT_ID_",r.placement.id).replace("_CREATIVE_",r.tacticDetails.clid).replace("_FORMAT_",r.formatId).replace("[TACTIC]",r.tacticDetails.tid).replace("[DSP]",r.tacticDetails.bmid).replace("[BRAND]",r.tacticDetails.brid).replace("[MOAT_Z_PARAMS]",Ue.a.makeZParamsString(r.creative,r.tacticDetails));t=t.match(/\[TLVIEW_ID]/)?t.replace("[TLVIEW_ID]",r.getViewabilityID()):t.concat("&tlview_id=",r.getViewabilityID()),r.appendScriptAd(t)}},{regex:/c\.betrad/,action:function(e){r.appendScriptAd(r.interpolateDimensions(e))}},{regex:/choices\.truste/,action:function(e){r.appendScriptAd(r.interpolateDimensions(e))}},{regex:/ybp\.yahoo/,action:function(e){r.appendScriptAd(e.replace("TLVIEW_ID",r.getViewabilityID()))}},{regex:/fk\.unicornengine/,action:function(e){r.appendScriptAd(e.replace("TLVIEW_ID",r.getViewabilityID()).replace("PLACEMENT_ID",r.placement.id).replace("TIMESTAMP",Date.now()))}},{regex:/q\.adrta/,action:function(e){var t=r.getViewabilityID(),n=e.includes("[DIV_ID]")?e.replace("[DIV_ID]",t):e+";divid="+t;r.appendScriptAd(n)}},{regex:/j\.adlooxtracking/,action:function(e){r.appendScriptAd(e.replace("[TLVIEW_ID]",r.getViewabilityID()))}}]}},{key:"addViewabilityTestJS",value:function(e,t){var n=this,r=this.creative.getParams(),i=r.viewability||{},a={pid:this.placement.id,unid:r.additional_data.unid||0};if(this.creative.isAutoplay())return Object.keys(i).forEach(function(e){i[e]&&(a.vid=We[e],a.sr=i[e],n.firePix.fireEB(w.j,a))}),e;var o="https:"===t.location.protocol;if(i.moat){var s=o?"https://z.":"http://js.",u=Ue.a.makeZParamsString(this.creative,this.tacticDetails);e.push(s+"moatads.com/triplelift879988051105/moatad.js#moatClientLevel1=_PUBLISHER_&moatClientLevel2=_PLACEMENT_ID_&moatClientLevel3=_CREATIVE_&moatClientLevel4=_FORMAT_&moatClientSlicer1=[DSP]&moatClientSlicer2=[BRAND]&tlview_id=[TLVIEW_ID]&zMoatTactic=[TACTIC]&zMoatPixelParams="+u),a.vid=We.moat,a.sr=i.moat,this.firePix.fireEB(w.j,a)}if(i.ias){var c=o?"https:":"http:";e.push(c+"//pixel.adsafeprotected.com/jload?anId=8617&advId=$!{ADVERTISER_ID}&campId=$!{INSERTION_ORDER_ID}&pubId=$!{INVENTORY_SOURCE_ID}&chanId=$!{PACKAGE_ID}&placementId=$!{AD_ID}&adsafe_url=$!{SITE_URL}&adsafe_type=v"),a.vid=We.ias,a.sr=i.ias,this.firePix.fireEB(w.j,a)}if(i.dv){var l=o?"https:":"http:";e.push(l+"//cdn.doubleverify.com/dvtp_src.js?ctx=2334102&cmp=2334104&sid=triplelift&plc=[DV_PLACEMENT_ID]&num=&adid=&advid=2334103&adsrv=0&region=30&btreg=INSERT_BTREG&btadsrv=INSERT_BTADSRV&crt=&crtname=&chnl=&unit=&pid=&uid=&tagtype=&dvtagver=6.1.src&findclass=1"),a.vid=We.dv,a.sr=i.dv,this.firePix.fireEB(w.j,a)}if(i.fk){var d=o?"https:":"http:";e.push(d+"//fk.unicornengine.net/ada/117/205667136/viewid=TLVIEW_ID;pid=PLACEMENT_ID/TIMESTAMP/"),a.vid=We.fk,a.sr=i.fk,this.firePix.fireEB(w.j,a)}if(i.apx){var f=o?"https:":"http:";e.push(f+"//cdn.adnxs.com/v/s/112/trk.js#v;tv=native-test;native=1;dom_id=%native_dom_id%;st=0;d=1x1;vc=iab;vid_ccr=1;an_sdk=1;tag_id=12350495;cb=http%3A%2F%2Ffra1-ib.adnxs.com%2Fvevent%3Fe%3DwqT_3QL5BqB5AwAAAwDWAAUBCJmth9MFEOG_loLBiueEIxiamLHqnKPMylkqNgkAAAECCAhAEQEHEAAACEAZCQkI8D8hCQkICEApEQkAMQkJsAAAMJ_o8QU4zhJAzhJIAlC994knWNSeH2AAaN7dGHjtyASAAQGKAQNVU0SSAQEG8FCYAQGgAQGoAQGwAQC4AQDAAQTIAQLQAQDYAQDgAQDwAQCKAjp1ZignYScsIDM5MzgwMSwgMTUxNjM2MTM2OSk7dWYoJ3InLCA4MTk1MTY3NywyHgDwnJIC-QEhNHpYcWVBaUVnTmtDRUwzM2lTY1lBQ0RVbmg4d0FEZ0FRQVJJemhKUW4tanhCVmdBWU1vSGFBQndDbmo0bVFHQUFiSURpQUZva0FFQm1BRUJvQUVCcUFFRHNBRUF1UUctMEV6RkFBQUlRTUVCdnRCTXhRQUFDRURKQVFSTHpPUll5OVFfMlFFQUFBQUFBQUR3UC1BQkFQVUIFDyhKZ0NBS0FDQUxVQwUQBEwwCQjwTE1BQ0FNZ0NBT0FDQU9nQ0FQZ0NBSUFEQVpBREFKZ0RBYWdEaElEWkFyb0RFV1JsWm1GMWJIUWpSbEpCTVRvek56QTSaAjkhdWdzcTl3NvwA9FQBMUo0ZklBUW9BRG9SWkdWbVlYVnNkQ05HVWtFeE9qTTNNRGcu2AKfCeACjKYO6gIzaHR0cDovL3Rlc3RwYWdlcy5tY2FyLW1hYy5hbGVudHkuZnIvMDFfYmFzaWNfc2luZ2xlgAMAiAMBkAMAmAMXoAMBqgMAwAOQHMgDANIDLAgCEigwMjhkZjRlMzY0MzdlOThmOWU5M2MzYWUwZjlmOTllNTEyYTI4Y2Vl0gMkCAQSIDg3NDdhOTk1OTQzODIyZjc4NzU0ZDIwNTg3ZjdiNGY32AMA4AMA6AMA-AMCgAQAkgQGL3V0L3YzmAQAogQKMTAuMi4xMi4xMagEvZNwsgQQCAAQARisAiD6ASgAMAA4ArgEAMAEAMgEANIEEWRlZmF1bHQjRlJBMTozNzA42gQCCAHgBADwBL33iSeIBQGYBQCgBf___________wHABQDJBQBF_xTwP9IFCQkFC1QAAADYBQHgBQHwBQH6BQQIABAAkAYA%26s%3D4604caf2bd786775fa256dca81881be0f0bb9312%26referrer%3D;ts=1516361369;cet=0;cecb="),a.vid=We.apx,a.sr=i.apx,this.firePix.fireEB(w.j,a)}if(i.pix){var h=o?"https:":"http:";e.push(h+"//q.adrta.com/s/tpl/aa.js?cb=[CACHEBUSTER]#tpl;paid=ss;avid=[ADVERTISER_ID];caid=[CAMPAIGN_ID];publisherId=[PUBLISHER_ID];kv24=[SUPPLY_TYPE];divid=[DIV_ID]"),a.vid=We.pix,a.sr=i.pix,this.firePix.fireEB(w.j,a)}if(i.adl){var p=o?"https:":"http:";e.push(p+"//j.adlooxtracking.com/ads/js/tfav_adl_321.js#platform=159&scriptname=adl_321&tagid=874&typejs=tvaf&fwtype=2&creatype=2&targetelt=tlview_id=[TLVIEW_ID]&custom2area=0&custom2sec=0&id1=tlview_id=[TLVIEW_ID]&id2=&id3=&id4=&id5="),a.vid=We.adl,a.sr=i.adl,this.firePix.fireEB("tpvpx",a)}return e}}]),d}(),Fe=l(37),ze=0,He=1,Qe=2,Ye=3,Ge=4,Ze=6,qe=function(){function l(e,t){var n=this,r=e.docInfo,i=e.placement,a=t.creative,o=t.auctionIframeWriterOverride,s=t.firePix,u=t.errorHandler,c=t.eventController;g()(this,l),I()(this,"firePix",void 0),I()(this,"auctionIframeWriterOverride",void 0),I()(this,"macros",void 0),I()(this,"docInfo",void 0),I()(this,"placement",void 0),I()(this,"errorHandler",void 0),I()(this,"creative",void 0),I()(this,"creativeParams",void 0),I()(this,"shouldWaitForPassthru",!0),I()(this,"passthruClickTracker",null),I()(this,"passthruTimer",null),I()(this,"thirdPartyJS",null),I()(this,"hasBilled",!1),I()(this,"isCachedAppendJsEvent",!1),I()(this,"numClicks",0),I()(this,"cachedTrackers",[]),this.docInfo=r,this.placement=i,this.creative=a,this.creativeParams=a.getParams(),this.firePix=s,this.auctionIframeWriterOverride=o,this.errorHandler=u,c.on(oe.w,function(){return n.passthru.apply(n,arguments)})}return h()(l,[{key:"passthru",value:function(e,t){this.shouldWaitForPassthru&&(this.shouldWaitForPassthru=!1,clearTimeout(this.passthruTimer),this.passthruClickTracker=e,this.macros="string"==typeof t?JSON.parse(t):t,this.fireAllCachedTrackers(),this.expandAllClickThroughMacros(),this.creativeParams.nob_passthru&&this.creative.getVastTag()&&this.macros&&this.expandVastTrackers())}},{key:"expandTracker",value:function(e){e.textContent=l._expandMacros(this.macros,e.textContent)}},{key:"expandVastTrackers",value:function(){var t=this,n=this.creative.getVastTag();try{var r={impressions:n.getImpressionTrackers(),mediaFiles:n.getMediaFiles(),clickTrackers:n.getVideoClickTrackers(),clickthrough:n.getVastClickThrough(),assortedTrackers:n.getAssortedTrackers()};Object.keys(r).forEach(function(e){Array.isArray(r[e])?r[e].forEach(function(e){return t.expandTracker(e)}):r[e]&&t.expandTracker(r[e])})}catch(e){this.firePix.fireDyn({long1:Fe.c,string2:JSON.stringify(n.getVastWrapperBreadcrumbs())}),this.errorHandler.fireError(e,this.errorHandler.ERROR)}}},{key:"fireAllCachedTrackers",value:function(){this.firePreviousClicks(),this.fireCachedTrackers(),this.fireCachedJs()}},{key:"expandAllClickThroughMacros",value:function(){var e,t=this,n="clickthrough_url";this.creativeParams=ne()({},this.creativeParams,(e={},I()(e,n,this.expandClickThroughMacro(this.creativeParams)),I()(e,"allImages",this.creativeParams.allImages.map(function(e){return ne()({},e,I()({},n,t.expandClickThroughMacro(e)))})),e))}},{key:"expandClickThroughMacro",value:function(e){var t=l._expandMacros(this.macros,e.origClickThroughUrl);return this.creative.expandAndRedirectClickThrough(e,t)}},{key:"fireCachedTrackers",value:function(){var t=this;this.cachedTrackers.map(function(e){return l._expandMacros(t.macros,e)}).forEach(function(e){return t.firePix.fire(e)})}},{key:"fireCachedJs",value:function(){this.isCachedAppendJsEvent&&this.appendJs()}},{key:"firePreviousClicks",value:function(){for(var e=l._expandMacros(this.macros,this.passthruClickTracker),t=0;t<this.numClicks;t++)this.firePix.fire(e)}},{key:"billOrWait",value:function(){var e=this.creativeParams.billable_event;e&&e!==ze&&e!==He||this.bill()}},{key:"bill",value:function(){this.hasBilled||(this.hasBilled=!0,this.creativeParams.billable_pixel&&this.firePix.fire(this.creativeParams.billable_pixel),this.creativeParams.nob_passthru?this._startPassthruTimer():(this.shouldWaitForPassthru=!1,this.fireAllCachedTrackers()),this.creativeParams.ad_markup&&this.auctionIframeWriterOverride.newWriter(this.creativeParams.ad_markup))}},{key:"fire3pTracker",value:function(e){this.shouldWaitForPassthru?this.cacheTracker(e):this.firePix.fire(l._expandMacros(this.macros,e))}},{key:"cacheTracker",value:function(e){this.cachedTrackers.push(e)}},{key:"fireImpression",value:function(){var t=this;this.creativeParams.thirdPartyTrackers.impressionPixels.forEach(function(e){return t.fire3pTracker(e)})}},{key:"fireClick",value:function(e){this.numClicks++;var t=(void 0===e?this.creativeParams:this.creativeParams.allImages[e]).thirdPartyTrackers.clickPixels;this.passthruClickTracker&&(t=t.concat([this.passthruClickTracker])),this.creativeParams.billable_event===Ge&&this.bill(),t.forEach(this.fire3pTracker.bind(this))}},{key:"fireViewable",value:function(){this.creativeParams.billable_event===Qe&&this.bill(),this.creativeParams.thirdPartyTrackers.viewabilityPixels.forEach(this.fire3pTracker.bind(this))}},{key:"fireOnePxViewable",value:function(){this.creativeParams.billable_event===Ze&&this.bill()}},{key:"firePlay",value:function(){this.creativeParams.billable_event===Ye&&this.bill()}},{key:"appendJsOnPassthru",value:function(e,t){this.thirdPartyJS=new Be({docInfo:this.docInfo,placement:this.placement,mainImage:t,adDIV:e,tacticDetails:this.creativeParams.additional_data,formatId:this.creativeParams.format_id},{creative:this.creative,firePix:this.firePix}),this.shouldWaitForPassthru?this.isCachedAppendJsEvent=!0:this.appendJs()}},{key:"appendJs",value:function(){var t=this,e=this.creativeParams.thirdPartyTrackers.jsTrackers||[];this.thirdPartyJS.appendTags(e.map(function(e){return l._expandMacros(t.macros,e)}))}},{key:"_startPassthruTimer",value:function(){var e=this;this.passthruTimer=setTimeout(function(){e.errorHandler.fireError("Passthru invocation timed out",e.errorHandler.ERROR)},8e3)}}],[{key:"_expandMacros",value:function(e,t){if(!e||!t)return t;var r=t;return me.a.forEachObj(e,function(e,t){var n=e;n="%"===e[0]&&"{"===e[1]?"$"+e.slice(1):"%"===e[0]&&"["===e[1]?"{"+e.slice(2,e.length-1)+"}":e[0]+e.slice(3,e.length),n=new RegExp(me.a.escapeRegExp(n),"g"),r=r.replace(n,t)}),r}}]),l}(),Je=function(){function i(e){var t=e.viewabilityController,n=e.positionService,r=e.firePix;g()(this,i),this._viewabilityController=t,this._positionService=n,this._firePix=r,this._adWasInView=!1,this._timeWhenLast={enteredView:0,incrementedTotal:0},this._loggingIntervalId=0,this._totalMsInView=0,this._maxContinuousMsInView=0}return h()(i,[{key:"start",value:function(){this._startMonitoringAdEnteredView()}},{key:"_startMonitoringAdEnteredView",value:function(){var e=this;this._viewabilityController.setListener({condition:function(){return e._adEnteredViewCondition()},handler:function(){return e._adEnteredViewHandler()}})}},{key:"_adEnteredViewCondition",value:function(){return!this._adWasInView&&.5<=this._positionService.getAdPctInView()}},{key:"_adEnteredViewHandler",value:function(){var e=this;this._adWasInView=!0,this._timeWhenLast.enteredView=Date.now(),this._logEverySecond(),setTimeout(function(){return e._startMonitoringAdExitedView()})}},{key:"_startMonitoringAdExitedView",value:function(){var e=this;this._viewabilityController.setListener({condition:function(){return e._adExitedViewCondition()},handler:function(){return e._adExitedViewHandler()}})}},{key:"_adExitedViewCondition",value:function(){return this._updateStatsWhileAdInView(),this._adWasInView&&this._positionService.getAdPctInView()<.5}},{key:"_adExitedViewHandler",value:function(){var e=this;this._adWasInView=!1;var t=Date.now()-this._timeWhenLast.enteredView;this.maxContinuousMsInView=t,this._timeWhenLast.incrementedTotal=0,this._logTimeInViewStats(),clearInterval(this._loggingIntervalId),setTimeout(function(){return e._startMonitoringAdEnteredView()})}},{key:"_updateStatsWhileAdInView",value:function(){var e=Date.now(),t=e-this._timeWhenLast.enteredView;this._totalMsInView+=e-(this._timeWhenLast.incrementedTotal||this._timeWhenLast.enteredView),this._timeWhenLast.incrementedTotal=e,this.maxContinuousMsInView=t}},{key:"_logEverySecond",value:function(){var e=this;this._loggingIntervalId=setInterval(function(){e._logTimeInViewStats()},1e3)}},{key:"_logTimeInViewStats",value:function(){this._maxContinuousMsInView<=3e5&&this._firePix.fireDyn({long1:Fe.b,long2:this._totalMsInView,long3:this._maxContinuousMsInView})}},{key:"maxContinuousMsInView",set:function(e){e>this._maxContinuousMsInView&&(this._maxContinuousMsInView=e)}}]),i}(),Xe=function(){function o(e){var t=e.placement,n=e.environment,r=e.gdpr,i=e.topWindow,a=e.debugFlag;g()(this,o),this.placement=t,this.environment=n,this.gdpr=r,this.window=i,this.debugFlag=a,this.tlSyncDone=!1,this.window._tlTagsPending=(this.window._tlTagsPending||0)+1,this.placement.customOptions.userSyncsDisabled&&(this.tlSyncDone=!0)}return h()(o,[{key:"doSync",value:function(){if(!this.tlSyncDone){var e;this.tlSyncDone=!0;var t={},n=this.placement.customOptions.maxUserSyncs;n&&(t.max=n),this.debugFlag&&(t.debug=1),(null===(e=this.gdpr)||void 0===e?void 0:e.cmpData)&&(t.gdpr=this.gdpr.cmpData.gdprApplies,this.gdpr.cmpData.consentString&&(t.cmp_cs=this.gdpr.cmpData.consentString));var r=Object(pe.j)(this.environment.ebPath,"sync",t),i=document.createElement("iframe");Object(pe.f)(i),i.src=r,document.body.appendChild(i)}}},{key:"doSyncIfAllDone",value:function(){if(0==--this.window._tlTagsPending)if("complete"===this.window.document.readyState)this.doSync();else{var e=this;this.window.addEventListener("load",function(){e.doSync()},!1)}}}]),o}(),Ke=function(){function o(e,t){var n=e.placement,r=e.docInfo,i=t.positionService,a=t.errorHandler;g()(this,o),this.document=r.document,this.window=r.window,this.positionService=i,this.placement=n,this.errorHandler=a,this.listeners=[],this.listenerTimeoutId=0}return h()(o,[{key:"listenForPercentageAdViewability",value:function(e,t){var n=this,r=o.getRequiredPct(e),i=0;this.setListener({handler:t,condition:function(){var e=0!==i;if(e&&1e3<=Date.now()-i)return!0;var t=n.positionService.getAdPctInView()>=r;return t&&!e?i=Date.now():!t&&i&&(i=0),!1}})}},{key:"listenForOnePxAdViewability",value:function(e){var t=this;this.setListener({handler:e,condition:function(){return 0<t.positionService.getAdPctInView()}})}},{key:"setListener",value:function(e){this.listeners.push(e),this.listen()}},{key:"listen",value:function(){var t=this;if(!(0<this.listenerTimeoutId)){this.listenerTimeoutId=setTimeout(function e(){t.listeners=t.listeners.filter(function(e){return!e.condition()||(e.handler(),!1)}),0<t.listeners.length?t.listenerTimeoutId=setTimeout(e,100):t.listenerTimeoutId=0},100)}}}],[{key:"getRequiredPct",value:function(e){return 242500<=e.clientWidth*e.clientHeight?.3:.5}}]),o}(),$e=function(){function u(e,t){var n=e.settings,r=e.ttjStartTime,i=void 0===r?0:r,a=e.revision,o=e.isTestEnv,s=t.firePix;g()(this,u),this.ttjStartTime=i,this.revision=a,this.firePix=s,this.formatId=null,this.isHeaderBidding=!1,this.lastMetricTime=0,this.shouldLog=0<i&&!o&&Math.random()<=n.benchmarkLogRate}return h()(u,[{key:"log",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Date.now();if(this.shouldLog){var n=t-this.ttjStartTime,r=this.lastMetricTime?t-this.lastMetricTime:0;this.lastMetricTime=t,this._logPerformanceDyn(e,n),this._logPerformanceEB(e,n,r)}}},{key:"setFormatId",value:function(e){this.formatId=e}},{key:"setIsHeaderBidding",value:function(e){this.isHeaderBidding=e}},{key:"_logPerformanceDyn",value:function(e,t){var n={string2:this.revision,string3:this.isHeaderBidding?"header"+e.replace(/^./,function(e){return e.toUpperCase()}):e,long1:Fe.a,long2:t,long3:this.formatId};this.firePix.fireDyn(n)}},{key:"_logPerformanceEB",value:function(e,t,n){t<=15e3&&this.firePix.firePerf({type:e,timeSinceStart:t,timeSinceLast:n,clientSideAuction:!this.isHeaderBidding,formatId:this.formatId})}}]),u}();I()($e,"BUNDLE_LOAD_TIME","bundleLoadTime"),I()($e,"AUCTION_START","auctionStart"),I()($e,"AUCTION_RESPONSE","auctionResponse"),I()($e,"RENDER","render"),I()($e,"AD_ON_PAGE","adOnPage");var et=l(44),tt=(l(163),function(e){function t(){return g()(this,t),u()(this,d()(t).apply(this,arguments))}return m()(t,e),h()(t,[{key:"initParams",value:function(){var e;p()(d()(t.prototype),"initParams",this).call(this),0<(null===(e=this._getCarouselWeights())||void 0===e?void 0:e.length)?this._setAllImagesWeighted():this._setAllImages()}},{key:"getAllImages",value:function(){return this.allImages}},{key:"getAllDynamicImageURLS",value:function(t){var n=this,r=this.placement.imageWidth,i=this.placement.imageHeight;return this.allImages.map(function(e){return n.createDynamicImageURL({url:e.image_url,imgServerParams:e.img_server_params,noLogo:t,tlImgAddr:n.environment.tlImageAddr,placementHeight:i,placementWidth:r,logoBlackList:"SE,SW,NW"})})}},{key:"_setAllImages",value:function(){this.allImages=me.a.chooseN(this.params.allImages,10)}},{key:"_setAllImagesWeighted",value:function(){this._validateImageIds(),this._validateWeight(),this._validateWeightsSum();var e=this._chooseFirstImage();this._swapFirstImage(e),this.allImages=this.params.allImages.slice(0,10)}},{key:"_chooseFirstImage",value:function(){var n=this._getCarouselWeights(),e=this._getWeightsSum(),r=Math.random()*e,i=0;return n.find(function(e,t){return i+=n[t].weight,r<i})}},{key:"_getWeightsSum",value:function(){return this._getCarouselWeights().reduce(function(e,t){return e+t.weight},0)}},{key:"_getCarouselWeights",value:function(){var e,t;return null===(e=this.params)||void 0===e?void 0:null===(t=e.customization)||void 0===t?void 0:t.carousel_weights}},{key:"_validateImageIds",value:function(){var e=this._getCarouselWeights().map(function(e){return e.image_id}),t=this.params.allImages.map(function(e){return e.image_id});e.every(function(e){return t.includes(e)})||this.errorHandler.fireError("There are image_ids in carousel_weights that do not map to an image in the creative.",this.errorHandler.WARNING)}},{key:"_validateWeightsSum",value:function(){var e=this._getWeightsSum();(e<.99||1.01<e)&&this.errorHandler.fireError("Carousel_weights do not sum to 1 within a tolerance of 1%",this.errorHandler.WARNING)}},{key:"_validateWeight",value:function(){var t=this;this._getCarouselWeights().forEach(function(e){e.weight||(e.weight=0,t.errorHandler.fireError("Image id: "+e.image_id+" does not have an associated weight, defaulted to 0.",t.errorHandler.WARNING))})}},{key:"_swapFirstImage",value:function(t){var e=this.params.allImages.findIndex(function(e){return e.image_id===t.image_id}),n=this.params.allImages[e];this.params.allImages[e]=this.params.allImages[0],this.params.allImages[0]=n}}]),t}(et.a)),nt=l(96),rt=function(e){function n(e){var t;return g()(this,n),(t=u()(this,d()(n).call(this,e))).vastTag=null,t}return m()(n,e),h()(n,[{key:"getVastTag",value:function(){return this.vastTag}},{key:"setVastTag",value:function(e){this.vastTag=e}},{key:"isVast",value:function(){return!0}},{key:"isAutoplay",value:function(){var e=this.environment.formats;return+this.formatId==+e.autoplay||+this.formatId==+e.outstream_video}},{key:"getBaseZIndex",value:function(){return this.placement.customOptions.videoZIndexOverride||nt.b.componentZIndex}},{key:"needsViewabilityAwareness",value:function(){return this.isAutoplay()}},{key:"allowVpaidToHandleClicks",value:function(){return!(!this.vastTag.isVpaid()||!this.isAutoplay()||this.hasClickThrough())}},{key:"hasClickThrough",value:function(){return!(!p()(d()(n.prototype),"hasClickThrough",this).call(this)&&!this.vastTag.getVastClickThroughUrl())}}]),n}(et.a),it=function(){function e(){g()(this,e)}return h()(e,null,[{key:"create",value:function(e){var t=e.creativePayload,n=e.environment,r=t.settings.format_id,i=n.formats,a=[i.video,i.autoplay,i.outstream_video];return r===i.carousel?new tt(e):a.includes(r)?new rt(e):new et.a(e)}}]),e}(),at={assets:[{asset_id:0,image_id:0,image_url:"https://images.3lift.com/5333898.jpg",image_w_over_h:1.7778,clickthrough_url:"http://www.doubleverify.com",heading:"",caption:"",cv_version:1,img_server_params:"v=0&cv_version=1"}],settings:{format_id:1,tactic_id:0,line_item_id:0,insertion_order_id:0,creative_library_id:0,advertiser_name:"Sponsor",additional_data:{clid:0,ioid:0,liid:0,tid:0,advid:0,bmid:0,aid:1}}},ot="allowCreative",st="blockCreative",ut=function(){function r(e,t){var n=t.errorHandler;g()(this,r),this.creativePayload=e,this.iframe=r.makeIframe(),this.errorHandler=n}return h()(r,[{key:"callDV",value:function(){var t=this,e=this._makeScriptsString();return this.iframe.contentWindow.document.open(),this.iframe.contentWindow.document.write(e),this.iframe.contentWindow.document.close(),this._handler().catch(function(e){return t._onError(e),t._overwriteCreativePayloadWithPSA()})}},{key:"_handler",value:function(){var n=this;return new Promise(function(e,t){n.iframe.contentWindow.onerror=function(e){t(e)},setTimeout(function(){t(new se.a("DoubleVerify timeout"))},1e4),n.iframe.contentWindow[st]=function(){n._overwriteCreativePayloadWithPSA(),e()},n.iframe.contentWindow[ot]=e})}},{key:"_onError",value:function(e){this.errorHandler.fireError(e,this.errorHandler.ERROR)}},{key:"_overwriteCreativePayloadWithPSA",value:function(){this.creativePayload.settings=at.settings,this.creativePayload.assets=at.assets}},{key:"_makeScriptsString",value:function(){var e=this.creativePayload.settings.dco_tag_url;return'\n      <script type="text/adtag"><script type="text/javascript">'+ot+'();</scr+ipt><\/script>\n      <script type="text/passback"><script type="text/javascript">'+st+'();</scr+ipt><\/script>\n      <script onerror="(function(el){el.onerror=\'this._onerror})(this)" type="text/javascript" src="'+e+'"><\/script>\n    '}}],[{key:"makeIframe",value:function(){var e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),e}}]),r}(),ct=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length?arguments[1]:void 0;return{setAdContainer:function(e){t.adContainer=e},getElDims:function(e){if(!e)throw new se.a("getElDims: no element present");var t=e.getBoundingClientRect();return{width:t.width,height:t.height}},_publishUpdate:function(){e.publish(oe.A)}}};var lt={getRectPctInView:function(e,t){var n=t.width,r=t.height,i=e.width,a=e.height,o=i*a,s=i+Math.min(0,e.left)+Math.min(0,n-e.right),u=a+Math.min(0,e.top)+Math.min(0,r-e.bottom),c=s*u;return Math.max(0,c/o)},getDefaultBoundingClientRect:function(){return{width:0,height:0,x:0,y:0,top:0,bottom:0,left:0,right:0}},sumRects:function(e,t){return{width:e.width,height:e.height,x:e.x+t.x,y:e.y+t.y,top:e.top+t.top,bottom:e.bottom+t.top,left:e.left+t.left,right:e.right+t.left}}};var dt=function(e,t){var n={getAdBoundingRect:i,getBoundingRect:a,getClientDims:o,getAdPctInView:function(){return lt.getRectPctInView(i(),o())},getElPctInView:function(e){return lt.getRectPctInView(a(e),o())}},r=ct(n,t);return e.util.addScrollListener(e.win,r._publishUpdate),Object(pe.c)({},r,n);function i(){return n.adContainer.getBoundingClientRect()}function a(e){return e.getBoundingClientRect()}function o(){return{width:e.win.innerWidth,height:e.win.innerHeight}}};var ft=function(){var n={width:0,height:0},r=lt.getDefaultBoundingClientRect();return{getAdBoundingRect:e,getBoundingRect:t,getClientDims:i,getAdPctInView:function(){return lt.getRectPctInView(e(),i())},getElPctInView:function(e){return lt.getRectPctInView(t(e),i())},_update:function(e,t){r=e,n=t}};function e(){return r}function t(e){var t=e.getBoundingClientRect();return r?lt.sumRects(t,r):t}function i(){return n}};var ht=function(e,t){var o=ct({},t),s=ft();return e.win._tlWebViewUpdatePosition=function(e,t){var n,r,i,a;(r=t,(n=e)&&r&&(a=s.getAdBoundingRect(),!u(pt,a,n)||(i=s.getClientDims(),!u(gt,i,r))))&&(s._update(e,t),o._publishUpdate())},Object(pe.c)({},o,s);function u(e,t,n){return!e.some(function(e){return t[e]!==n[e]})}},pt=["width","height","x","y","top","bottom","left","right"],gt=["width","height"];var vt=function(e,t){var n=ct({},t),r=ft();return e.pageInfo.getAmpApi().observeIntersection(function(e){e.forEach(function(e){var t={width:e.rootBounds.width,height:e.rootBounds.height};r._update(e.boundingClientRect,t),n._publishUpdate()})}),Object(pe.c)({},n,r)};var mt=function(e){var h=e.pageInfo.getMraidApi(),p=e.errorHandler;return Object.keys(yt).reduce(function(e,t){var n=h[t],r=yt[t];r.validator&&(a=h,o=n,s=r.validator,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.apply(a,t),i=s(r);if(!i)throw new se.a("validation failed");return r});var a,o,s;return i=h,u=n,c=t,l=r.defaultReturn,d=Object(pe.e)(p.fireError,p),f="mraid api error. function: "+c+", e: ",n=function(){var t;try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t=u.apply(i,n)}catch(e){d(f+e,"mraid"),t=l}return t},e[t]=n,e;var i,u,c,l,d,f},{})},yt={getState:{validator:function(e){return"string"==typeof e},defaultReturn:"default"},isViewable:{validator:function(e){return"boolean"==typeof e},defaultReturn:!1},getCurrentPosition:{validator:function(e){return"number"==typeof e.width&&"number"==typeof e.height&&"number"==typeof e.x&&"number"==typeof e.y},defaultReturn:{width:0,height:0,x:0,y:0}},getScreenSize:{validator:function(e){return"number"==typeof e.width&&"number"==typeof e.height},defaultReturn:{width:0,height:0}},addEventListener:{},getVersion:{}};var It=function(e,t){var n,r=e.placement,i=e.firePix,a=e.analytics,o=mt(e),s=ct({},t),u=ft(),c=0,l=!1;"loading"===o.getState()?o.addEventListener("ready",d):d();return Object(pe.c)(s,u,{getAdPctInView:function(){if(f())return c;return u.getAdPctInView()}});function d(){i.fireDyn({long1:2e3,string2:o.getVersion(),string3:r.invCode}),f()&&o.addEventListener("exposureChange",h),o.addEventListener("viewableChange",p)}function f(){return"3.0"===o.getVersion()}function h(e,t,n){0<(c=e/100)&&g(),v()}function p(e){e&&g(),f()||(v(),e?n=setInterval(v,_t):clearInterval(n))}function g(){l||(l=!0,a.onePxViewable())}function v(){var e=o.getCurrentPosition(),t=o.getScreenSize(),n={width:e.width,height:e.height,x:e.x,y:e.y,top:e.y,bottom:e.y+e.height,left:e.x,right:e.x+e.width};u._update(n,t),s._publishUpdate()}},_t=100;var At=function(e,t){var n=e.pageInfo,r=e.placement,i=n.getSafeFrameApi(),a={getAdBoundingRect:function(){throw new se.a("getAdBoundingRect is not supported in a safeFrame environment")},getBoundingRect:function(){throw new se.a("getBoundingRect is not supported in a safeFrame environment")},getClientDims:function(){throw new se.a("getClientDims is not supported in a safeFrame environment")},getAdPctInView:function(){return i.ext.inViewPercentage()/100},getElPctInView:function(){throw new se.a("getElPctInView is not supported in a safeFrame environment")}},o=ct(a,t),s=i.ext.geom();i.ext.register(s.self.w,s.self.h,function(e){"geom-update"===e&&o._publishUpdate()}),4913===r.publisherId&&setInterval(function(){o._publishUpdate()},1e3);return Object(pe.c)({},o,a)};var wt=function(e,t){var n=e.util,r=e.win,i={getAdBoundingRect:o,getBoundingRect:s,getClientDims:u,getAdPctInView:function(){return lt.getRectPctInView(o(),u())},getElPctInView:function(e){return lt.getRectPctInView(s(e),u())}},a=ct(i,t);return n.addScrollListener(r.top,a._publishUpdate),Object(pe.c)({},a,i);function o(){var e=i.adContainer.ownerDocument.defaultView?i.adContainer.ownerDocument.defaultView.frameElement:null;return e?e.getBoundingClientRect():lt.getDefaultBoundingClientRect()}function s(e){var t=e.getBoundingClientRect(),n=o();return lt.sumRects(t,n)}function u(){var e=r.top;return{width:e.innerWidth,height:e.innerHeight}}};var Mt=function(e,t){var n,r=e.pageInfo;n=r.isMraid()?It(e,t):r.isWebview()?ht(e,t):r.isAmp()?vt(e,t):r.isSafeFrame()?At(e,t):r.isFriendlyFrameRender()?wt(e,t):dt(e,t);var i=Object(pe.l)(Object.keys(n),kt);if(0<i.length)throw new se.a("positionService invalid. Unmatched keys: "+i.join(", "));return n},kt=["getAdBoundingRect","getAdPctInView","getBoundingRect","getClientDims","getElDims","getElPctInView","setAdContainer"];l(97);var bt=l(45),Et=l(61),Tt=function(e){var r=e.placement;return{render:function(e){var t=e.domRefs.mainImage,n=t&&(t.complete||0<t.naturalWidth);r.customOptions.dontWaitForImageLoad&&(n=!0);t&&"IMG"===t.tagName&&!n&&e.promises.push(new Promise(function(e){t.addEventListener("load",e)}))}}};var St=l(60),Dt=l(98),Ct=function(e){var i,a,o,t=e.creative,n=e.docInfo,r=e.eventController;return{render:function(e){i=e.state,a=t.getParams(),function(){var e=n.document;if(a&&a.image_height&&a.image_width)o={width:a.image_width,height:a.image_height};else{var t=e.createElement("img");t.src=a.image_url,o={width:t.naturalWidth,height:t.naturalHeight}}}(),r.on(oe.i,s)}};function s(e){if(a.isCSR){var t=Object(Dt.b)(e,o),n=t.x,r=t.y;i.logoOffsetX=n,i.logoOffsetY=r}else i.logoOffsetX=xt,i.logoOffsetY=xt}},xt=0;var Nt=l(53),Ot=function(e,t){var n=e.analytics,r=e.browserInfo,i=e.util,a=e.creative,o=t.doClickThrough;return{init:function(e){i.listen(e.domRefs.mainClickTarget,"click",s,!1,!0)}};function s(){var e=a.params.clickthrough_url;n.click(),r.isFacebook?setTimeout(function(){o(e)},500):o(e)}};var Lt={create:function(o){return new bt.a({renderers:function(){var e=o.creative,t=o.placement,n=e.getParams(),r=n.customization&&n.customization.reveal||n.isCSR,i=r&&!t.customOptions.is3pAdPreview,a=[Et.a,Tt];r&&a.push(St.a);i&&a.push(Ct);return a}(),eventManagers:[Nt.a,Ot],initState:{},supportedDomRefs:[]},o)}};var jt={name:"imageRendererFactoryLoader",isSupported:function(e){return e.isImage()},load:function(){return new Promise(function(e){e({default:Lt})})}};var Pt=function(e){var d,f,h,t=e.creative,n=e.eventController,p=t.getParams();return{render:function(e){d=e,n.on(oe.i,r)},_getZoomValues:g};function r(e){var t,n=Object(pe.n)("?"+p.img_server_params).queryKey,r=n.noCrop,i=n.no_crop,a=!(!parseInt(r,10)&&!parseInt(i,10)),o=a?{x1:0,x2:p.image_width,y1:0,y2:p.image_height}:p.focal_box;if(o){var s=e.width,u=e.height,c=p.image_width,l=p.image_height;!function(e,t,n,r,i,a){if(t===f&&n===h)return;var o=g(f=t,h=n,r,i,a);B.a.setStyle(e,"background-repeat","no-repeat"),B.a.setStyle(e,"background-size",o.scaledImgWidth+"px"),B.a.setStyle(e,"background-position",o.offsetX+"px "+o.offsetY+"px");var s=d.state;s.visibleImageWidth=Object(pe.k)(o.scaledImgWidth,t),s.visibleImageHeight=Object(pe.k)(o.scaledImgHeight,n),s.imageBoxingOffsetX=Math.max(Math.floor((t-s.visibleImageWidth)/2),0),s.imageBoxingOffsetY=Math.max(Math.floor((n-s.visibleImageHeight)/2),0)}(d.domRefs.mainImageCsrDiv,s,u,c,l,o)}else t=d.domRefs.mainImageCsrDiv,B.a.setStyle(t,"background-position","center"),B.a.setStyle(t,"background-size","contain"),B.a.setStyle(t,"background-repeat","no-repeat"),B.a.setStyle(t,"text-align","left"),B.a.setStyle(t,"background-color","#FFFFFF")}function g(e,t,n,r,i){var a,o,s,u,c,l,d,f,h,p=i.x2-i.x1,g=i.y2-i.y1,v=(o=(a={adWidth:e,adHeight:t,imgWidth:n,imgHeight:r,focalWidth:p,focalHeight:g}).adWidth,s=a.adHeight,u=a.imgWidth,c=a.imgHeight,l=a.focalWidth,d=a.focalHeight,f=Math.max(o/u,s/c),h=Math.min(o/l,s/d),Math.min(f,h)),m=Math.ceil(v*n),y=Math.ceil(v*r),I={};Object.keys(i).forEach(function(e){var t=i[e];I[e]=Math.floor(v*t)});var _=w(e,m,I.x1,I.x2),A=w(t,y,I.y1,I.y2);return{scaledImgWidth:m,scaledImgHeight:y,offsetX:_,offsetY:A}}function w(e,t,n,r){if(t<e)return Math.round((e-t)/2);var i=Math.round((e-n-r)/2);return 0<i?0:i+t<e?e-t:i}};var Rt={create:function(e){var t=[Et.a,Pt,St.a],n=[Nt.a,Ot],r=e.creative.params;!Object(pe.n)("?"+r.img_server_params).queryKey.noCrop&&r.focal_box||t.push(Ct);return new bt.a({renderers:t,eventManagers:n,initState:{},supportedDomRefs:[]},e)}};var Vt={name:"cinemagraphRendererFactoryLoader",isSupported:function(e){return e.isCinemagraph()},load:function(){return new Promise(function(e){e({default:Rt})})}};var Ut={name:"carouselRendererFactoryLoader",isSupported:function(e){return e.isCarousel()},load:function(){return l.e(1).then(l.bind(null,176))}};var Wt=l(117),Bt=l(34),Ft={name:"videoRendererFactoryLoader",isSupported:function(e){return e.isVast()},load:function(e){var t=e.placement,n=e.environment,r=e.settings,i=e.creative,a=e.firePix,o=e.errorHandler,s=e.eventController,u=e.util,c=new Wt.a({placement:t,environment:n,settings:r},{creative:i,eventController:s,firePix:a,util:u});return i.setVastTag(c),Bt.a.listen({errorHandler:o,eventController:s}),c.getVastXml().then(function(){return l.e(0).then(l.bind(null,173))})}};var zt={name:"scrollRendererFactoryLoader",isSupported:function(e){return e.isScroll()},load:function(){return l.e(5).then(l.bind(null,174))}};var Ht={name:"windowRendererFactoryLoader",isSupported:function(e){return e.isWindow()},load:function(){return l.e(6).then(l.bind(null,175))}};var Qt=function(e){var t=e.creative,a=e.eventController,n=t.params,o=n.banner_markup,s=n.banner_height,u=n.banner_width;return{render:function(e){var t=e.domRefs,n=(r=document.createElement("iframe"),i="<!DOCTYPE html><html><head></head><body>"+o+"</body></html>",r.className=Yt,r.height=s,r.width=u,r.frameBorder="0",r.scrolling="no",r.marginHeight="0",r.marginWidth="0",r.tabIndex=-1,r.setAttribute("allowtransparency","true"),r.setAttribute("hidefocus","true"),a.on(oe.a,function(){var e=r.contentWindow.document;e.open(),e.write(i),e.close()}),r);var r,i;return t.adWrapper=n,t.adWrapperWithDims=n,t.mainImage=n,t}}},Yt=ke.a.TL_CLASS_PREFIX+"iframe";var Gt={create:function(e){return new bt.a({renderers:[Qt],eventManagers:[Nt.a],initState:{},supportedDomRefs:[]},e)}};var Zt={load:function(e){var t=e.placement,n=e.environment,r=e.settings,i=e.creative,a=e.firePix,o=e.errorHandler,s=e.eventController,u=e.util,c=function(e,t){var n=e.filter(function(e){return e.isSupported(t)});0===n.length?function(){throw new se.a("Supported renderer factory not found.")}():1<n.length&&function(e){var t=e.map(function(e){return e.name});throw new se.a(t.length+" renderer factories are supported: "+t.join(", ")+". Only one renderer factory may be supported for each impression.")}(n);return n[0]}(qt,i),l=(f=Jt,h=i,f.filter(function(e){return e.isSupported(h)})).map(function(e){return e.load()}),d=c.load({placement:t,environment:n,settings:r,creative:i,firePix:a,errorHandler:o,eventController:s,util:u});var f,h;return l.unshift(d),Promise.all(l)}},qt=[jt,Vt,Ut,Ft,zt,{name:"pharmaRendererFactoryLoader",isSupported:function(e){return e.isPharma()},load:function(){return l.e(3).then(l.bind(null,177))}},Ht,{name:"bannerRendererFactoryLoader",isSupported:function(e){return e.isBanner()},load:function(){return new Promise(function(e){e({default:Gt})})}}],Jt=[{name:"revealConfigFactoryLoader",isSupported:function(e){return e.params.customization&&e.params.customization.reveal},load:function(){return l.e(4).then(l.bind(null,178))}}];var Xt,Kt={run:(Xt=ie()(re.a.mark(function e(){var t,n=arguments;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$t.apply(void 0,n);case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),t=encodeURIComponent("Fatal: "+(e.t0.message||e.t0)),document.createElement("IMG").src="//eb2.3lift.com/sce?lvl=1&block=unknown&e="+t;case 10:case"end":return e.stop()}},e,null,[[0,5]])})),function(){return Xt.apply(this,arguments)})};function $t(e){return en.apply(this,arguments)}function en(){return(en=ie()(re.a.mark(function e(t){var n,r,i,f,h,a,o,p,s,u,g,v,m,y,I,_,A,c,w,l,d,M,k,b,E,T,S,D,C,x,N,O,L,j,P,R,V,U,W,B,F,z,H,Q,Y,G,Z,q,J,X,K,$,ee,te;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return te=function(e,t){try{return e()}catch(e){return t}},ee=function(e){var t={e:"Critical: "+(e.message||e),lvl:1};t.inv_code=te(function(){return v.invCode},null),t.aid=te(function(){return y.auctionId},null),t.rev=te(function(){return o},null),t.block=te(function(){return a.getPhase()},"unknown"),console.error("tl: "+(e.stack||e),t);var n=te(function(){return p.topDocument},document),r=te(function(){return g.ebPath},"eb2.3lift.com");n.createElement("IMG").src=Object(pe.j)(r,"sce",t)},$=function(){return new Ee({assets:S.assets,settings:S.settings,frame:be.get()},{errorHandler:A})},K=function(e,t){var n={};return t.urlParams.adPreview&&(n.friendlyIframeRender=!0),new ue.a(ne()({},e,{customOptions:ne()({},e.customOptions,n,{is3pAdPreview:t.urlParams.thirdPartyAdPreview})}))},X=function(){return new Ie({placement:v,environment:g,docInfo:p},{errorHandler:A})},J=function(){return new ce.a({firePix:y,urlParams:s,lifecycleManager:a})},q=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new de.a(ne()({docInfo:p,rev:o,placement:v,debugFlag:u,ebPath:g.ebPath},e),{eventController:h})},n=Date.now(),r=t.revision,i=void 0===r?"un":r,f=t.scriptWindow,h=new le.a,a=new xe({eventController:h}),o=i.slice(0,7),p=new ge({scriptWindow:f}),s=new _e({topWindow:p.topWindow}),u=s.debugFlag,g=new ve.a(t.environment),v=K(t.placement,{urlParams:s}),m=new Oe.a(t.settings),y=q(),new Te.a({environment:g,bundleStartTime:n},{eventController:h,urlParams:s}),I=new $e({settings:m,ttjStartTime:t.ttjStartTime,revision:o,isTestEnv:!!s.tlBidUrl},{firePix:y}),j=function(){if(I.log($e.BUNDLE_LOAD_TIME,n),w=new ye({docInfo:p,placement:v}),A=J(),c=A.decorate.bind(A),me.a.setErrorDecorator(c),(_=X()).initTLScript(),M=_.getHeaderBiddingAuctionResponse()){I.setIsHeaderBidding(!0);var e=M.settings.additional_data.aid;h.publish(oe.c,{id:e})}De.needsBusting(v,p.window)&&De.bust(p.document,_.getScriptSrc())},P=function(){var e=_.getDtjTacticId();d=new he({hookFinder:_,docInfo:p,defaultCode:v.defaultCode,pageInfo:w},{firePix:y,util:me.a}),e||(v.demandEnabled||u||M?Object(pe.h)()||(k=new Xe({placement:v,environment:g,gdpr:l,topWindow:p.topWindow,debugFlag:s.debugFlag}),d.setUserSync(k)):d.serve("demand_disabled"))},R=function(){var e=p.window.navigator;if(!e)throw new se.a("setBrowserInfo failed: no window.navigator");var t=new Me(e.userAgent);b=t.getBrowserInfo()},V=function(){E=Mt({win:p.topWindow,pageInfo:w,placement:v,browserInfo:b,errorHandler:A,firePix:y,analytics:N,util:me.a},h),T=new Ke({placement:v,docInfo:p},{positionService:E,errorHandler:A})},U=function(){var e=ie()(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof p.topWindow.__cmp)return e.prev=1,l=new Ae(p.topWindow),e.next=5,l.getCMPData();e.next=10;break;case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),A.fireError("Error getting gdpr CMPData: "+e.t0.message,A.LOG);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=ie()(re.a.mark(function e(){var t,n,r,i;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=be.create(p),(D=new Se({auctionFrameWindow:t.contentWindow},{errorDecorator:c})).setListeners(),n={auctionIframe:t,browserInfo:b,docInfo:p,environment:g,gdpr:l,placement:v,rev:o},r={errorDecorator:c,errorHandler:A,eventController:h,firePix:y,pageInfo:w,serveDefault:d,hookFinder:_,urlParams:s,util:me.a},i=new we(n,r).create(M),I.log($e.AUCTION_START),e.next=9,i.getCreative();case 9:S=e.sent,I.log($e.AUCTION_RESPONSE),I.setFormatId(S.settings.format_id);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=ie()(re.a.mark(function e(){var t,n,r,i,a,o;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=S.settings,n=t.dco_tag_url,r=t.dco_protocol,n&&r===ke.a.DCO_PROTOCOLS.DV_BLOCKING)return i=new ut(S,{errorHandler:A}),e.next=5,i.callDV();e.next=6;break;case 5:return e.abrupt("return");case 6:if(n)return a=$(),e.prev=8,e.next=11,a.getOptimizedAsset();e.next=20;break;case 11:o=e.sent,S.assets=[o.asset],S.settings.isFallbackAssets=o.isFallback,o.asset.privacy_url&&(S.settings.adchoices_url=o.asset.privacy_url),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),d.serve("dco_error");case 20:case"end":return e.stop()}},e,null,[[8,17]])}));return function(){return e.apply(this,arguments)}}(),F=function(){d.hasDefaulted||(d.adRendered=!0,C=new Ve(A),Object.assign(v,C.getAltTemplate(v.templates,S.settings.template_id,_.getTagTemplateId(),s.tlTemplateId)),v.provenTemplate&&(v.customOptions.unwrappedUnit=!1,v.customOptions.friendlyIframeRender=!0),C.parse(v.templateCode))},z=function(){var e=_.tlScript,t=e&&Object(pe.n)(e.src).queryKey.ct;if((x=it.create({environment:g,placement:v,pageInfo:w,isSmallScreen:b.isSmallScreen,clickTrackerDTJ:t,debug:u,creativePayload:S,templateDetail:C.templateDetail,tlImageId:s.tlImageId,errorHandler:A})).isHdx()&&(v.customOptions.friendlyIframeRender=!0),!Ve.hasMacro(v.templateCode)&&!x.isHdx())throw new se.a("Format not HDX and template code is not valid.");!w.isViewabilityAware()&&x.needsViewabilityAwareness()&&A.fireError("Position aware format served to unfriendly frame",A.WARNING)},H=function(){O=new qe({docInfo:p,placement:v},{creative:x,auctionIframeWriterOverride:D,firePix:y,errorHandler:A,eventController:h}),N=new ae.a({environment:g,pageInfo:w},{creative:x,lifecycleManager:a,thirdPartyAnalytics:O,firePix:y,errorHandler:A,util:me.a})},Q=function(){var e=ie()(re.a.mark(function e(){var t,n,r,i,a,o,s,u,c,l,d;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I.log($e.RENDER),N.render(),f.onbeforeunload=null,k&&k.doSyncIfAllDone(),_.hideHook(),t={placement:v,environment:g,settings:m,creative:x,firePix:y,errorHandler:A,eventController:h,util:me.a},e.next=8,Zt.load(t);case 8:return n=e.sent,r=n[0].default,i=me.a.pluck(n.slice(1),"default"),a=i.map(function(e){return e.create()}),o={creative:x,placement:v,environment:g,browserInfo:b,pageInfo:w,docInfo:p,analytics:N,util:me.a,templateCode:C,positionService:E,firePix:y,errorHandler:A,eventController:h,viewabilityController:T,featureConfigs:a},s=r.create(o),e.next=16,s.render();case 16:for(u=e.sent,L=u.domRefs,C.chosenTemplate.appendChild(L.adWrapper),c=C.templateWrapEl.childNodes,l=0;l<c.length;l++)1===(d=c[l]).nodeType&&fe.insertAd(d,_.getHook(),v.customOptions.friendlyIframeRender);me.a.triggerEvent(p.topWindow,"resize",document),I.log($e.AD_ON_PAGE),N.adOnPage(),h.publish(oe.a),ae.a.sendAdReadySignal();case 26:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=L.mainImageCsrDiv||L.mainImage,t=L.adWrapperWithDims;N.appendThirdPartyJs(t,e),w.isViewabilityAware()&&(C.templateId&&Object(pe.u)(m.timeInViewLogRate,function(){new Je({viewabilityController:T,positionService:E,firePix:y}).start()})(),T.listenForPercentageAdViewability(t,N.viewable.bind(N)),w.isMraid()||T.listenForOnePxAdViewability(N.onePxViewable.bind(N))),Object(pe.u)(m.pmdLogRate,function(){setTimeout(function(){Ne({adWrapperWithDims:t,mainContent:e,positionService:E,pageInfo:w,bundleStartTime:n,firePix:y,errorHandler:A})},1e3)})()},G=function(){(new Ce).layout(_.getHook())},Z=function(){var e=ie()(re.a.mark(function e(){return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return j(),e.next=3,U();case 3:return P(),R(),e.next=7,W();case 7:return e.next=9,B();case 9:return F(),z(),H(),V(),e.next=15,Q();case 15:Y(),G();case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.prev=35,e.next=38,Z();case 38:e.next=43;break;case 40:if(e.prev=40,e.t0=e.catch(35),A)try{A.fireError(e.t0,A.ERROR)}catch(e){ee(e)}else ee(e.t0);case 43:case"end":return e.stop()}},e,null,[[35,40]])}))).apply(this,arguments)}var tn=window._tlImpressionBusLoader;l.p=tn.getPublicPath(),tn.onload(Kt)}]);